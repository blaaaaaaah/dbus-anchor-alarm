var yE=Object.defineProperty;var qg=e=>{throw TypeError(e)};var bE=(e,t,n)=>t in e?yE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var gt=(e,t,n)=>bE(e,typeof t!="symbol"?t+"":t,n),Sh=(e,t,n)=>t.has(e)||qg("Cannot "+n);var F=(e,t,n)=>(Sh(e,t,"read from private field"),n?n.call(e):t.get(e)),ct=(e,t,n)=>t.has(e)?qg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Qe=(e,t,n,r)=>(Sh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),He=(e,t,n)=>(Sh(e,t,"access private method"),n);var jl=(e,t,n,r)=>({set _(s){Qe(e,t,s,n)},get _(){return F(e,t,r)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var wE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fy={exports:{}},yc={},dy={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl=Symbol.for("react.element"),SE=Symbol.for("react.portal"),EE=Symbol.for("react.fragment"),kE=Symbol.for("react.strict_mode"),AE=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),PE=Symbol.for("react.context"),TE=Symbol.for("react.forward_ref"),CE=Symbol.for("react.suspense"),ME=Symbol.for("react.memo"),IE=Symbol.for("react.lazy"),Kg=Symbol.iterator;function OE(e){return e===null||typeof e!="object"?null:(e=Kg&&e[Kg]||e["@@iterator"],typeof e=="function"?e:null)}var py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},my=Object.assign,gy={};function Fs(e,t,n){this.props=e,this.context=t,this.refs=gy,this.updater=n||py}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _y(){}_y.prototype=Fs.prototype;function Vp(e,t,n){this.props=e,this.context=t,this.refs=gy,this.updater=n||py}var Hp=Vp.prototype=new _y;Hp.constructor=Vp;my(Hp,Fs.prototype);Hp.isPureReactComponent=!0;var Yg=Array.isArray,vy=Object.prototype.hasOwnProperty,Gp={current:null},yy={key:!0,ref:!0,__self:!0,__source:!0};function by(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)vy.call(t,r)&&!yy.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:sl,type:e,key:o,ref:a,props:s,_owner:Gp.current}}function RE(e,t){return{$$typeof:sl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zp(e){return typeof e=="object"&&e!==null&&e.$$typeof===sl}function NE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qg=/\/+/g;function Eh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NE(""+e.key):t.toString(36)}function fu(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case sl:case SE:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Eh(a,0):r,Yg(s)?(n="",e!=null&&(n=e.replace(Qg,"$&/")+"/"),fu(s,t,n,"",function(h){return h})):s!=null&&(Zp(s)&&(s=RE(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Qg,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Yg(e))for(var u=0;u<e.length;u++){o=e[u];var c=r+Eh(o,u);a+=fu(o,t,n,c,s)}else if(c=OE(e),typeof c=="function")for(e=c.call(e),u=0;!(o=e.next()).done;)o=o.value,c=r+Eh(o,u++),a+=fu(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ul(e,t,n){if(e==null)return e;var r=[],s=0;return fu(e,r,"","",function(o){return t.call(n,o,s++)}),r}function LE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},du={transition:null},DE={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:du,ReactCurrentOwner:Gp};function wy(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:Ul,forEach:function(e,t,n){Ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ul(e,function(){t++}),t},toArray:function(e){return Ul(e,function(t){return t})||[]},only:function(e){if(!Zp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=Fs;at.Fragment=EE;at.Profiler=AE;at.PureComponent=Vp;at.StrictMode=kE;at.Suspense=CE;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DE;at.act=wy;at.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=my({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Gp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)vy.call(t,c)&&!yy.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:sl,type:e.type,key:s,ref:o,props:r,_owner:a}};at.createContext=function(e){return e={$$typeof:PE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xE,_context:e},e.Consumer=e};at.createElement=by;at.createFactory=function(e){var t=by.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:TE,render:e}};at.isValidElement=Zp;at.lazy=function(e){return{$$typeof:IE,_payload:{_status:-1,_result:e},_init:LE}};at.memo=function(e,t){return{$$typeof:ME,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=du.transition;du.transition={};try{e()}finally{du.transition=t}};at.unstable_act=wy;at.useCallback=function(e,t){return En.current.useCallback(e,t)};at.useContext=function(e){return En.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return En.current.useDeferredValue(e)};at.useEffect=function(e,t){return En.current.useEffect(e,t)};at.useId=function(){return En.current.useId()};at.useImperativeHandle=function(e,t,n){return En.current.useImperativeHandle(e,t,n)};at.useInsertionEffect=function(e,t){return En.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return En.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return En.current.useMemo(e,t)};at.useReducer=function(e,t,n){return En.current.useReducer(e,t,n)};at.useRef=function(e){return En.current.useRef(e)};at.useState=function(e){return En.current.useState(e)};at.useSyncExternalStore=function(e,t,n){return En.current.useSyncExternalStore(e,t,n)};at.useTransition=function(){return En.current.useTransition()};at.version="18.3.1";dy.exports=at;var Re=dy.exports;const Ki=hy(Re);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=Re,jE=Symbol.for("react.element"),UE=Symbol.for("react.fragment"),zE=Object.prototype.hasOwnProperty,FE=BE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$E={key:!0,ref:!0,__self:!0,__source:!0};function Sy(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)zE.call(t,r)&&!$E.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jE,type:e,key:o,ref:a,props:s,_owner:FE.current}}yc.Fragment=UE;yc.jsx=Sy;yc.jsxs=Sy;fy.exports=yc;var D=fy.exports,gf={},Ey={exports:{}},Fn={},ky={exports:{}},Ay={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,ye){var $=K.length;K.push(ye);e:for(;0<$;){var ce=$-1>>>1,j=K[ce];if(0<s(j,ye))K[ce]=ye,K[$]=j,$=ce;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ye=K[0],$=K.pop();if($!==ye){K[0]=$;e:for(var ce=0,j=K.length,fe=j>>>1;ce<fe;){var ge=2*(ce+1)-1,V=K[ge],xe=ge+1,J=K[xe];if(0>s(V,$))xe<j&&0>s(J,V)?(K[ce]=J,K[xe]=$,ce=xe):(K[ce]=V,K[ge]=$,ce=ge);else if(xe<j&&0>s(J,$))K[ce]=J,K[xe]=$,ce=xe;else break e}}return ye}function s(K,ye){var $=K.sortIndex-ye.sortIndex;return $!==0?$:K.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],h=[],d=1,p=null,m=3,g=!1,w=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(K){for(var ye=n(h);ye!==null;){if(ye.callback===null)r(h);else if(ye.startTime<=K)r(h),ye.sortIndex=ye.expirationTime,t(c,ye);else break;ye=n(h)}}function I(K){if(x=!1,S(K),!w)if(n(c)!==null)w=!0,Ee(R);else{var ye=n(h);ye!==null&&ke(I,ye.startTime-K)}}function R(K,ye){w=!1,x&&(x=!1,A(N),N=-1),g=!0;var $=m;try{for(S(ye),p=n(c);p!==null&&(!(p.expirationTime>ye)||K&&!he());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,m=p.priorityLevel;var j=ce(p.expirationTime<=ye);ye=e.unstable_now(),typeof j=="function"?p.callback=j:p===n(c)&&r(c),S(ye)}else r(c);p=n(c)}if(p!==null)var fe=!0;else{var ge=n(h);ge!==null&&ke(I,ge.startTime-ye),fe=!1}return fe}finally{p=null,m=$,g=!1}}var T=!1,C=null,N=-1,te=5,ie=-1;function he(){return!(e.unstable_now()-ie<te)}function U(){if(C!==null){var K=e.unstable_now();ie=K;var ye=!0;try{ye=C(!0,K)}finally{ye?se():(T=!1,C=null)}}else T=!1}var se;if(typeof y=="function")se=function(){y(U)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,X=ue.port2;ue.port1.onmessage=U,se=function(){X.postMessage(null)}}else se=function(){P(U,0)};function Ee(K){C=K,T||(T=!0,se())}function ke(K,ye){N=P(function(){K(e.unstable_now())},ye)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,Ee(R))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(K){switch(m){case 1:case 2:case 3:var ye=3;break;default:ye=m}var $=m;m=ye;try{return K()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ye){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var $=m;m=K;try{return ye()}finally{m=$}},e.unstable_scheduleCallback=function(K,ye,$){var ce=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ce+$:ce):$=ce,K){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=$+j,K={id:d++,callback:ye,priorityLevel:K,startTime:$,expirationTime:j,sortIndex:-1},$>ce?(K.sortIndex=$,t(h,K),n(c)===null&&K===n(h)&&(x?(A(N),N=-1):x=!0,ke(I,$-ce))):(K.sortIndex=j,t(c,K),w||g||(w=!0,Ee(R))),K},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(K){var ye=m;return function(){var $=m;m=ye;try{return K.apply(this,arguments)}finally{m=$}}}})(Ay);ky.exports=Ay;var WE=ky.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE=Re,zn=WE;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xy=new Set,Ua={};function jo(e,t){Ms(e,t),Ms(e+"Capture",t)}function Ms(e,t){for(Ua[e]=t,e=0;e<t.length;e++)xy.add(t[e])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=Object.prototype.hasOwnProperty,HE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xg={},Jg={};function GE(e){return _f.call(Jg,e)?!0:_f.call(Xg,e)?!1:HE.test(e)?Jg[e]=!0:(Xg[e]=!0,!1)}function ZE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qE(e,t,n,r){if(t===null||typeof t>"u"||ZE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kn(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fn[e]=new kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fn[t]=new kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fn[e]=new kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fn[e]=new kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fn[e]=new kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fn[e]=new kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fn[e]=new kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fn[e]=new kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fn[e]=new kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var qp=/[\-:]([a-z])/g;function Kp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qp,Kp);fn[t]=new kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qp,Kp);fn[t]=new kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qp,Kp);fn[t]=new kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fn[e]=new kn(e,1,!1,e.toLowerCase(),null,!1,!1)});fn.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fn[e]=new kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yp(e,t,n,r){var s=fn.hasOwnProperty(t)?fn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qE(t,n,s,r)&&(n=null),r||s===null?GE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wi=VE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),cs=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),Qp=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),Py=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),yf=Symbol.for("react.suspense"),bf=Symbol.for("react.suspense_list"),Jp=Symbol.for("react.memo"),Ni=Symbol.for("react.lazy"),Cy=Symbol.for("react.offscreen"),e_=Symbol.iterator;function ca(e){return e===null||typeof e!="object"?null:(e=e_&&e[e_]||e["@@iterator"],typeof e=="function"?e:null)}var zt=Object.assign,kh;function ya(e){if(kh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kh=t&&t[1]||""}return`
`+kh+e}var Ah=!1;function xh(e,t){if(!e||Ah)return"";Ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,u=o.length-1;1<=a&&0<=u&&s[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(s[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||s[a]!==o[u]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=u);break}}}finally{Ah=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ya(e):""}function KE(e){switch(e.tag){case 5:return ya(e.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 2:case 15:return e=xh(e.type,!1),e;case 11:return e=xh(e.type.render,!1),e;case 1:return e=xh(e.type,!0),e;default:return""}}function wf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hs:return"Fragment";case cs:return"Portal";case vf:return"Profiler";case Qp:return"StrictMode";case yf:return"Suspense";case bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ty:return(e.displayName||"Context")+".Consumer";case Py:return(e._context.displayName||"Context")+".Provider";case Xp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jp:return t=e.displayName||null,t!==null?t:wf(e.type)||"Memo";case Ni:t=e._payload,e=e._init;try{return wf(e(t))}catch{}}return null}function YE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wf(t);case 8:return t===Qp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function My(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QE(e){var t=My(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fl(e){e._valueTracker||(e._valueTracker=QE(e))}function Iy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=My(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Lu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sf(e,t){var n=t.checked;return zt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function t_(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oy(e,t){t=t.checked,t!=null&&Yp(e,"checked",t,!1)}function Ef(e,t){Oy(e,t);var n=Yi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kf(e,t.type,n):t.hasOwnProperty("defaultValue")&&kf(e,t.type,Yi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function n_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kf(e,t,n){(t!=="number"||Lu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ba=Array.isArray;function ks(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yi(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Af(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return zt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function r_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(De(92));if(ba(n)){if(1<n.length)throw Error(De(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yi(n)}}function Ry(e,t){var n=Yi(t.value),r=Yi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function i_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ny(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ny(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $l,Ly=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$l.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XE=["Webkit","ms","Moz","O"];Object.keys(xa).forEach(function(e){XE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xa[t]=xa[e]})});function Dy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xa.hasOwnProperty(e)&&xa[e]?(""+t).trim():t+"px"}function By(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Dy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var JE=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pf(e,t){if(t){if(JE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function Tf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cf=null;function em(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mf=null,As=null,xs=null;function o_(e){if(e=ul(e)){if(typeof Mf!="function")throw Error(De(280));var t=e.stateNode;t&&(t=kc(t),Mf(e.stateNode,e.type,t))}}function jy(e){As?xs?xs.push(e):xs=[e]:As=e}function Uy(){if(As){var e=As,t=xs;if(xs=As=null,o_(e),t)for(e=0;e<t.length;e++)o_(t[e])}}function zy(e,t){return e(t)}function Fy(){}var Ph=!1;function $y(e,t,n){if(Ph)return e(t,n);Ph=!0;try{return zy(e,t,n)}finally{Ph=!1,(As!==null||xs!==null)&&(Fy(),Uy())}}function Fa(e,t){var n=e.stateNode;if(n===null)return null;var r=kc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(De(231,t,typeof n));return n}var If=!1;if(pi)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){If=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{If=!1}function ek(e,t,n,r,s,o,a,u,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var Pa=!1,Du=null,Bu=!1,Of=null,tk={onError:function(e){Pa=!0,Du=e}};function nk(e,t,n,r,s,o,a,u,c){Pa=!1,Du=null,ek.apply(tk,arguments)}function rk(e,t,n,r,s,o,a,u,c){if(nk.apply(this,arguments),Pa){if(Pa){var h=Du;Pa=!1,Du=null}else throw Error(De(198));Bu||(Bu=!0,Of=h)}}function Uo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function s_(e){if(Uo(e)!==e)throw Error(De(188))}function ik(e){var t=e.alternate;if(!t){if(t=Uo(e),t===null)throw Error(De(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return s_(s),e;if(o===r)return s_(s),t;o=o.sibling}throw Error(De(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,u=s.child;u;){if(u===n){a=!0,n=s,r=o;break}if(u===r){a=!0,r=s,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=s;break}if(u===r){a=!0,r=o,n=s;break}u=u.sibling}if(!a)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?e:t}function Vy(e){return e=ik(e),e!==null?Hy(e):null}function Hy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hy(e);if(t!==null)return t;e=e.sibling}return null}var Gy=zn.unstable_scheduleCallback,a_=zn.unstable_cancelCallback,ok=zn.unstable_shouldYield,sk=zn.unstable_requestPaint,Zt=zn.unstable_now,ak=zn.unstable_getCurrentPriorityLevel,tm=zn.unstable_ImmediatePriority,Zy=zn.unstable_UserBlockingPriority,ju=zn.unstable_NormalPriority,lk=zn.unstable_LowPriority,qy=zn.unstable_IdlePriority,bc=null,Fr=null;function uk(e){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(bc,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:fk,ck=Math.log,hk=Math.LN2;function fk(e){return e>>>=0,e===0?32:31-(ck(e)/hk|0)|0}var Wl=64,Vl=4194304;function wa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Uu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var u=a&~s;u!==0?r=wa(u):(o&=a,o!==0&&(r=wa(o)))}else a=n&~s,a!==0?r=wa(a):o!==0&&(r=wa(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_r(t),s=1<<n,r|=e[n],t&=~s;return r}function dk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-_r(o),u=1<<a,c=s[a];c===-1?(!(u&n)||u&r)&&(s[a]=dk(u,t)):c<=t&&(e.expiredLanes|=u),o&=~u}}function Rf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ky(){var e=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),e}function Th(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function al(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=n}function mk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_r(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function nm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_r(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var _t=0;function Yy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qy,rm,Xy,Jy,e0,Nf=!1,Hl=[],Fi=null,$i=null,Wi=null,$a=new Map,Wa=new Map,Di=[],gk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l_(e,t){switch(e){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Wi=null;break;case"pointerover":case"pointerout":$a.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function fa(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ul(t),t!==null&&rm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _k(e,t,n,r,s){switch(t){case"focusin":return Fi=fa(Fi,e,t,n,r,s),!0;case"dragenter":return $i=fa($i,e,t,n,r,s),!0;case"mouseover":return Wi=fa(Wi,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return $a.set(o,fa($a.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Wa.set(o,fa(Wa.get(o)||null,e,t,n,r,s)),!0}return!1}function t0(e){var t=vo(e.target);if(t!==null){var n=Uo(t);if(n!==null){if(t=n.tag,t===13){if(t=Wy(n),t!==null){e.blockedOn=t,e0(e.priority,function(){Xy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cf=r,n.target.dispatchEvent(r),Cf=null}else return t=ul(n),t!==null&&rm(t),e.blockedOn=n,!1;t.shift()}return!0}function u_(e,t,n){pu(e)&&n.delete(t)}function vk(){Nf=!1,Fi!==null&&pu(Fi)&&(Fi=null),$i!==null&&pu($i)&&($i=null),Wi!==null&&pu(Wi)&&(Wi=null),$a.forEach(u_),Wa.forEach(u_)}function da(e,t){e.blockedOn===t&&(e.blockedOn=null,Nf||(Nf=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,vk)))}function Va(e){function t(s){return da(s,e)}if(0<Hl.length){da(Hl[0],e);for(var n=1;n<Hl.length;n++){var r=Hl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fi!==null&&da(Fi,e),$i!==null&&da($i,e),Wi!==null&&da(Wi,e),$a.forEach(t),Wa.forEach(t),n=0;n<Di.length;n++)r=Di[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Di.length&&(n=Di[0],n.blockedOn===null);)t0(n),n.blockedOn===null&&Di.shift()}var Ps=wi.ReactCurrentBatchConfig,zu=!0;function yk(e,t,n,r){var s=_t,o=Ps.transition;Ps.transition=null;try{_t=1,im(e,t,n,r)}finally{_t=s,Ps.transition=o}}function bk(e,t,n,r){var s=_t,o=Ps.transition;Ps.transition=null;try{_t=4,im(e,t,n,r)}finally{_t=s,Ps.transition=o}}function im(e,t,n,r){if(zu){var s=Lf(e,t,n,r);if(s===null)jh(e,t,r,Fu,n),l_(e,r);else if(_k(s,e,t,n,r))r.stopPropagation();else if(l_(e,r),t&4&&-1<gk.indexOf(e)){for(;s!==null;){var o=ul(s);if(o!==null&&Qy(o),o=Lf(e,t,n,r),o===null&&jh(e,t,r,Fu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else jh(e,t,r,null,n)}}var Fu=null;function Lf(e,t,n,r){if(Fu=null,e=em(r),e=vo(e),e!==null)if(t=Uo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fu=e,null}function n0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ak()){case tm:return 1;case Zy:return 4;case ju:case lk:return 16;case qy:return 536870912;default:return 16}default:return 16}}var ji=null,om=null,mu=null;function r0(){if(mu)return mu;var e,t=om,n=t.length,r,s="value"in ji?ji.value:ji.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return mu=s.slice(e,1<r?1-r:void 0)}function gu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function c_(){return!1}function $n(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gl:c_,this.isPropagationStopped=c_,this}return zt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sm=$n($s),ll=zt({},$s,{view:0,detail:0}),wk=$n(ll),Ch,Mh,pa,wc=zt({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:am,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pa&&(pa&&e.type==="mousemove"?(Ch=e.screenX-pa.screenX,Mh=e.screenY-pa.screenY):Mh=Ch=0,pa=e),Ch)},movementY:function(e){return"movementY"in e?e.movementY:Mh}}),h_=$n(wc),Sk=zt({},wc,{dataTransfer:0}),Ek=$n(Sk),kk=zt({},ll,{relatedTarget:0}),Ih=$n(kk),Ak=zt({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),xk=$n(Ak),Pk=zt({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tk=$n(Pk),Ck=zt({},$s,{data:0}),f_=$n(Ck),Mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ok={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ok[e])?!!t[e]:!1}function am(){return Rk}var Nk=zt({},ll,{key:function(e){if(e.key){var t=Mk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ik[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:am,charCode:function(e){return e.type==="keypress"?gu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lk=$n(Nk),Dk=zt({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d_=$n(Dk),Bk=zt({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:am}),jk=$n(Bk),Uk=zt({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=$n(Uk),Fk=zt({},wc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$k=$n(Fk),Wk=[9,13,27,32],lm=pi&&"CompositionEvent"in window,Ta=null;pi&&"documentMode"in document&&(Ta=document.documentMode);var Vk=pi&&"TextEvent"in window&&!Ta,i0=pi&&(!lm||Ta&&8<Ta&&11>=Ta),p_=" ",m_=!1;function o0(e,t){switch(e){case"keyup":return Wk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function Hk(e,t){switch(e){case"compositionend":return s0(t);case"keypress":return t.which!==32?null:(m_=!0,p_);case"textInput":return e=t.data,e===p_&&m_?null:e;default:return null}}function Gk(e,t){if(fs)return e==="compositionend"||!lm&&o0(e,t)?(e=r0(),mu=om=ji=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i0&&t.locale!=="ko"?null:t.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zk[e.type]:t==="textarea"}function a0(e,t,n,r){jy(r),t=$u(t,"onChange"),0<t.length&&(n=new sm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ca=null,Ha=null;function qk(e){v0(e,0)}function Sc(e){var t=ms(e);if(Iy(t))return e}function Kk(e,t){if(e==="change")return t}var l0=!1;if(pi){var Oh;if(pi){var Rh="oninput"in document;if(!Rh){var __=document.createElement("div");__.setAttribute("oninput","return;"),Rh=typeof __.oninput=="function"}Oh=Rh}else Oh=!1;l0=Oh&&(!document.documentMode||9<document.documentMode)}function v_(){Ca&&(Ca.detachEvent("onpropertychange",u0),Ha=Ca=null)}function u0(e){if(e.propertyName==="value"&&Sc(Ha)){var t=[];a0(t,Ha,e,em(e)),$y(qk,t)}}function Yk(e,t,n){e==="focusin"?(v_(),Ca=t,Ha=n,Ca.attachEvent("onpropertychange",u0)):e==="focusout"&&v_()}function Qk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(Ha)}function Xk(e,t){if(e==="click")return Sc(t)}function Jk(e,t){if(e==="input"||e==="change")return Sc(t)}function eA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wr=typeof Object.is=="function"?Object.is:eA;function Ga(e,t){if(wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_f.call(t,s)||!wr(e[s],t[s]))return!1}return!0}function y_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function b_(e,t){var n=y_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=y_(n)}}function c0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?c0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h0(){for(var e=window,t=Lu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lu(e.document)}return t}function um(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tA(e){var t=h0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&c0(n.ownerDocument.documentElement,n)){if(r!==null&&um(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=b_(n,o);var a=b_(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nA=pi&&"documentMode"in document&&11>=document.documentMode,ds=null,Df=null,Ma=null,Bf=!1;function w_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bf||ds==null||ds!==Lu(r)||(r=ds,"selectionStart"in r&&um(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ma&&Ga(Ma,r)||(Ma=r,r=$u(Df,"onSelect"),0<r.length&&(t=new sm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ds)))}function Zl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ps={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},Nh={},f0={};pi&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Ec(e){if(Nh[e])return Nh[e];if(!ps[e])return e;var t=ps[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in f0)return Nh[e]=t[n];return e}var d0=Ec("animationend"),p0=Ec("animationiteration"),m0=Ec("animationstart"),g0=Ec("transitionend"),_0=new Map,S_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(e,t){_0.set(e,t),jo(t,[e])}for(var Lh=0;Lh<S_.length;Lh++){var Dh=S_[Lh],rA=Dh.toLowerCase(),iA=Dh[0].toUpperCase()+Dh.slice(1);Xi(rA,"on"+iA)}Xi(d0,"onAnimationEnd");Xi(p0,"onAnimationIteration");Xi(m0,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(g0,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sa));function E_(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rk(r,t,void 0,e),e.currentTarget=null}function v0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==o&&s.isPropagationStopped())break e;E_(s,u,h),o=c}else for(a=0;a<r.length;a++){if(u=r[a],c=u.instance,h=u.currentTarget,u=u.listener,c!==o&&s.isPropagationStopped())break e;E_(s,u,h),o=c}}}if(Bu)throw e=Of,Bu=!1,Of=null,e}function Ct(e,t){var n=t[$f];n===void 0&&(n=t[$f]=new Set);var r=e+"__bubble";n.has(r)||(y0(t,e,2,!1),n.add(r))}function Bh(e,t,n){var r=0;t&&(r|=4),y0(n,e,r,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Za(e){if(!e[ql]){e[ql]=!0,xy.forEach(function(n){n!=="selectionchange"&&(oA.has(n)||Bh(n,!1,e),Bh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,Bh("selectionchange",!1,t))}}function y0(e,t,n,r){switch(n0(t)){case 1:var s=yk;break;case 4:s=bk;break;default:s=im}n=s.bind(null,t,n,e),s=void 0,!If||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function jh(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;u!==null;){if(a=vo(u),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}u=u.parentNode}}r=r.return}$y(function(){var h=o,d=em(n),p=[];e:{var m=_0.get(e);if(m!==void 0){var g=sm,w=e;switch(e){case"keypress":if(gu(n)===0)break e;case"keydown":case"keyup":g=Lk;break;case"focusin":w="focus",g=Ih;break;case"focusout":w="blur",g=Ih;break;case"beforeblur":case"afterblur":g=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=h_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=jk;break;case d0:case p0:case m0:g=xk;break;case g0:g=zk;break;case"scroll":g=wk;break;case"wheel":g=$k;break;case"copy":case"cut":case"paste":g=Tk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=d_}var x=(t&4)!==0,P=!x&&e==="scroll",A=x?m!==null?m+"Capture":null:m;x=[];for(var y=h,S;y!==null;){S=y;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,A!==null&&(I=Fa(y,A),I!=null&&x.push(qa(y,I,S)))),P)break;y=y.return}0<x.length&&(m=new g(m,w,null,n,d),p.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==Cf&&(w=n.relatedTarget||n.fromElement)&&(vo(w)||w[mi]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=h,w=w?vo(w):null,w!==null&&(P=Uo(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=h),g!==w)){if(x=h_,I="onMouseLeave",A="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=d_,I="onPointerLeave",A="onPointerEnter",y="pointer"),P=g==null?m:ms(g),S=w==null?m:ms(w),m=new x(I,y+"leave",g,n,d),m.target=P,m.relatedTarget=S,I=null,vo(d)===h&&(x=new x(A,y+"enter",w,n,d),x.target=S,x.relatedTarget=P,I=x),P=I,g&&w)t:{for(x=g,A=w,y=0,S=x;S;S=os(S))y++;for(S=0,I=A;I;I=os(I))S++;for(;0<y-S;)x=os(x),y--;for(;0<S-y;)A=os(A),S--;for(;y--;){if(x===A||A!==null&&x===A.alternate)break t;x=os(x),A=os(A)}x=null}else x=null;g!==null&&k_(p,m,g,x,!1),w!==null&&P!==null&&k_(p,P,w,x,!0)}}e:{if(m=h?ms(h):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var R=Kk;else if(g_(m))if(l0)R=Jk;else{R=Qk;var T=Yk}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=Xk);if(R&&(R=R(e,h))){a0(p,R,n,d);break e}T&&T(e,m,h),e==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&kf(m,"number",m.value)}switch(T=h?ms(h):window,e){case"focusin":(g_(T)||T.contentEditable==="true")&&(ds=T,Df=h,Ma=null);break;case"focusout":Ma=Df=ds=null;break;case"mousedown":Bf=!0;break;case"contextmenu":case"mouseup":case"dragend":Bf=!1,w_(p,n,d);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":w_(p,n,d)}var C;if(lm)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fs?o0(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(i0&&n.locale!=="ko"&&(fs||N!=="onCompositionStart"?N==="onCompositionEnd"&&fs&&(C=r0()):(ji=d,om="value"in ji?ji.value:ji.textContent,fs=!0)),T=$u(h,N),0<T.length&&(N=new f_(N,e,null,n,d),p.push({event:N,listeners:T}),C?N.data=C:(C=s0(n),C!==null&&(N.data=C)))),(C=Vk?Hk(e,n):Gk(e,n))&&(h=$u(h,"onBeforeInput"),0<h.length&&(d=new f_("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=C))}v0(p,t)})}function qa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $u(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Fa(e,n),o!=null&&r.unshift(qa(e,o,s)),o=Fa(e,t),o!=null&&r.push(qa(e,o,s))),e=e.return}return r}function os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function k_(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,s?(c=Fa(n,o),c!=null&&a.unshift(qa(n,c,u))):s||(c=Fa(n,o),c!=null&&a.push(qa(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var sA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function A_(e){return(typeof e=="string"?e:""+e).replace(sA,`
`).replace(aA,"")}function Kl(e,t,n){if(t=A_(t),A_(e)!==t&&n)throw Error(De(425))}function Wu(){}var jf=null,Uf=null;function zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,lA=typeof clearTimeout=="function"?clearTimeout:void 0,x_=typeof Promise=="function"?Promise:void 0,uA=typeof queueMicrotask=="function"?queueMicrotask:typeof x_<"u"?function(e){return x_.resolve(null).then(e).catch(cA)}:Ff;function cA(e){setTimeout(function(){throw e})}function Uh(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Va(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Va(t)}function Vi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function P_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Ws,Ka="__reactProps$"+Ws,mi="__reactContainer$"+Ws,$f="__reactEvents$"+Ws,hA="__reactListeners$"+Ws,fA="__reactHandles$"+Ws;function vo(e){var t=e[Dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[Dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=P_(e);e!==null;){if(n=e[Dr])return n;e=P_(e)}return t}e=n,n=e.parentNode}return null}function ul(e){return e=e[Dr]||e[mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function kc(e){return e[Ka]||null}var Wf=[],gs=-1;function Ji(e){return{current:e}}function It(e){0>gs||(e.current=Wf[gs],Wf[gs]=null,gs--)}function xt(e,t){gs++,Wf[gs]=e.current,e.current=t}var Qi={},yn=Ji(Qi),Mn=Ji(!1),Co=Qi;function Is(e,t){var n=e.type.contextTypes;if(!n)return Qi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function In(e){return e=e.childContextTypes,e!=null}function Vu(){It(Mn),It(yn)}function T_(e,t,n){if(yn.current!==Qi)throw Error(De(168));xt(yn,t),xt(Mn,n)}function b0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(De(108,YE(e)||"Unknown",s));return zt({},n,r)}function Hu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qi,Co=yn.current,xt(yn,e),xt(Mn,Mn.current),!0}function C_(e,t,n){var r=e.stateNode;if(!r)throw Error(De(169));n?(e=b0(e,t,Co),r.__reactInternalMemoizedMergedChildContext=e,It(Mn),It(yn),xt(yn,e)):It(Mn),xt(Mn,n)}var oi=null,Ac=!1,zh=!1;function w0(e){oi===null?oi=[e]:oi.push(e)}function dA(e){Ac=!0,w0(e)}function eo(){if(!zh&&oi!==null){zh=!0;var e=0,t=_t;try{var n=oi;for(_t=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}oi=null,Ac=!1}catch(s){throw oi!==null&&(oi=oi.slice(e+1)),Gy(tm,eo),s}finally{_t=t,zh=!1}}return null}var _s=[],vs=0,Gu=null,Zu=0,Yn=[],Qn=0,Mo=null,ui=1,ci="";function mo(e,t){_s[vs++]=Zu,_s[vs++]=Gu,Gu=e,Zu=t}function S0(e,t,n){Yn[Qn++]=ui,Yn[Qn++]=ci,Yn[Qn++]=Mo,Mo=e;var r=ui;e=ci;var s=32-_r(r)-1;r&=~(1<<s),n+=1;var o=32-_r(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ui=1<<32-_r(t)+s|n<<s|r,ci=o+e}else ui=1<<o|n<<s|r,ci=e}function cm(e){e.return!==null&&(mo(e,1),S0(e,1,0))}function hm(e){for(;e===Gu;)Gu=_s[--vs],_s[vs]=null,Zu=_s[--vs],_s[vs]=null;for(;e===Mo;)Mo=Yn[--Qn],Yn[Qn]=null,ci=Yn[--Qn],Yn[Qn]=null,ui=Yn[--Qn],Yn[Qn]=null}var Un=null,jn=null,Nt=!1,gr=null;function E0(e,t){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function M_(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Un=e,jn=Vi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Un=e,jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mo!==null?{id:ui,overflow:ci}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Un=e,jn=null,!0):!1;default:return!1}}function Vf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hf(e){if(Nt){var t=jn;if(t){var n=t;if(!M_(e,t)){if(Vf(e))throw Error(De(418));t=Vi(n.nextSibling);var r=Un;t&&M_(e,t)?E0(r,n):(e.flags=e.flags&-4097|2,Nt=!1,Un=e)}}else{if(Vf(e))throw Error(De(418));e.flags=e.flags&-4097|2,Nt=!1,Un=e}}}function I_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Un=e}function Yl(e){if(e!==Un)return!1;if(!Nt)return I_(e),Nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zf(e.type,e.memoizedProps)),t&&(t=jn)){if(Vf(e))throw k0(),Error(De(418));for(;t;)E0(e,t),t=Vi(t.nextSibling)}if(I_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jn=Vi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jn=null}}else jn=Un?Vi(e.stateNode.nextSibling):null;return!0}function k0(){for(var e=jn;e;)e=Vi(e.nextSibling)}function Os(){jn=Un=null,Nt=!1}function fm(e){gr===null?gr=[e]:gr.push(e)}var pA=wi.ReactCurrentBatchConfig;function ma(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var u=s.refs;a===null?delete u[o]:u[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,e))}return e}function Ql(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function O_(e){var t=e._init;return t(e._payload)}function A0(e){function t(A,y){if(e){var S=A.deletions;S===null?(A.deletions=[y],A.flags|=16):S.push(y)}}function n(A,y){if(!e)return null;for(;y!==null;)t(A,y),y=y.sibling;return null}function r(A,y){for(A=new Map;y!==null;)y.key!==null?A.set(y.key,y):A.set(y.index,y),y=y.sibling;return A}function s(A,y){return A=qi(A,y),A.index=0,A.sibling=null,A}function o(A,y,S){return A.index=S,e?(S=A.alternate,S!==null?(S=S.index,S<y?(A.flags|=2,y):S):(A.flags|=2,y)):(A.flags|=1048576,y)}function a(A){return e&&A.alternate===null&&(A.flags|=2),A}function u(A,y,S,I){return y===null||y.tag!==6?(y=Zh(S,A.mode,I),y.return=A,y):(y=s(y,S),y.return=A,y)}function c(A,y,S,I){var R=S.type;return R===hs?d(A,y,S.props.children,I,S.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ni&&O_(R)===y.type)?(I=s(y,S.props),I.ref=ma(A,y,S),I.return=A,I):(I=Eu(S.type,S.key,S.props,null,A.mode,I),I.ref=ma(A,y,S),I.return=A,I)}function h(A,y,S,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=qh(S,A.mode,I),y.return=A,y):(y=s(y,S.children||[]),y.return=A,y)}function d(A,y,S,I,R){return y===null||y.tag!==7?(y=ko(S,A.mode,I,R),y.return=A,y):(y=s(y,S),y.return=A,y)}function p(A,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zh(""+y,A.mode,S),y.return=A,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zl:return S=Eu(y.type,y.key,y.props,null,A.mode,S),S.ref=ma(A,null,y),S.return=A,S;case cs:return y=qh(y,A.mode,S),y.return=A,y;case Ni:var I=y._init;return p(A,I(y._payload),S)}if(ba(y)||ca(y))return y=ko(y,A.mode,S,null),y.return=A,y;Ql(A,y)}return null}function m(A,y,S,I){var R=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:u(A,y,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zl:return S.key===R?c(A,y,S,I):null;case cs:return S.key===R?h(A,y,S,I):null;case Ni:return R=S._init,m(A,y,R(S._payload),I)}if(ba(S)||ca(S))return R!==null?null:d(A,y,S,I,null);Ql(A,S)}return null}function g(A,y,S,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return A=A.get(S)||null,u(y,A,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case zl:return A=A.get(I.key===null?S:I.key)||null,c(y,A,I,R);case cs:return A=A.get(I.key===null?S:I.key)||null,h(y,A,I,R);case Ni:var T=I._init;return g(A,y,S,T(I._payload),R)}if(ba(I)||ca(I))return A=A.get(S)||null,d(y,A,I,R,null);Ql(y,I)}return null}function w(A,y,S,I){for(var R=null,T=null,C=y,N=y=0,te=null;C!==null&&N<S.length;N++){C.index>N?(te=C,C=null):te=C.sibling;var ie=m(A,C,S[N],I);if(ie===null){C===null&&(C=te);break}e&&C&&ie.alternate===null&&t(A,C),y=o(ie,y,N),T===null?R=ie:T.sibling=ie,T=ie,C=te}if(N===S.length)return n(A,C),Nt&&mo(A,N),R;if(C===null){for(;N<S.length;N++)C=p(A,S[N],I),C!==null&&(y=o(C,y,N),T===null?R=C:T.sibling=C,T=C);return Nt&&mo(A,N),R}for(C=r(A,C);N<S.length;N++)te=g(C,A,N,S[N],I),te!==null&&(e&&te.alternate!==null&&C.delete(te.key===null?N:te.key),y=o(te,y,N),T===null?R=te:T.sibling=te,T=te);return e&&C.forEach(function(he){return t(A,he)}),Nt&&mo(A,N),R}function x(A,y,S,I){var R=ca(S);if(typeof R!="function")throw Error(De(150));if(S=R.call(S),S==null)throw Error(De(151));for(var T=R=null,C=y,N=y=0,te=null,ie=S.next();C!==null&&!ie.done;N++,ie=S.next()){C.index>N?(te=C,C=null):te=C.sibling;var he=m(A,C,ie.value,I);if(he===null){C===null&&(C=te);break}e&&C&&he.alternate===null&&t(A,C),y=o(he,y,N),T===null?R=he:T.sibling=he,T=he,C=te}if(ie.done)return n(A,C),Nt&&mo(A,N),R;if(C===null){for(;!ie.done;N++,ie=S.next())ie=p(A,ie.value,I),ie!==null&&(y=o(ie,y,N),T===null?R=ie:T.sibling=ie,T=ie);return Nt&&mo(A,N),R}for(C=r(A,C);!ie.done;N++,ie=S.next())ie=g(C,A,N,ie.value,I),ie!==null&&(e&&ie.alternate!==null&&C.delete(ie.key===null?N:ie.key),y=o(ie,y,N),T===null?R=ie:T.sibling=ie,T=ie);return e&&C.forEach(function(U){return t(A,U)}),Nt&&mo(A,N),R}function P(A,y,S,I){if(typeof S=="object"&&S!==null&&S.type===hs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case zl:e:{for(var R=S.key,T=y;T!==null;){if(T.key===R){if(R=S.type,R===hs){if(T.tag===7){n(A,T.sibling),y=s(T,S.props.children),y.return=A,A=y;break e}}else if(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ni&&O_(R)===T.type){n(A,T.sibling),y=s(T,S.props),y.ref=ma(A,T,S),y.return=A,A=y;break e}n(A,T);break}else t(A,T);T=T.sibling}S.type===hs?(y=ko(S.props.children,A.mode,I,S.key),y.return=A,A=y):(I=Eu(S.type,S.key,S.props,null,A.mode,I),I.ref=ma(A,y,S),I.return=A,A=I)}return a(A);case cs:e:{for(T=S.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(A,y.sibling),y=s(y,S.children||[]),y.return=A,A=y;break e}else{n(A,y);break}else t(A,y);y=y.sibling}y=qh(S,A.mode,I),y.return=A,A=y}return a(A);case Ni:return T=S._init,P(A,y,T(S._payload),I)}if(ba(S))return w(A,y,S,I);if(ca(S))return x(A,y,S,I);Ql(A,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(A,y.sibling),y=s(y,S),y.return=A,A=y):(n(A,y),y=Zh(S,A.mode,I),y.return=A,A=y),a(A)):n(A,y)}return P}var Rs=A0(!0),x0=A0(!1),qu=Ji(null),Ku=null,ys=null,dm=null;function pm(){dm=ys=Ku=null}function mm(e){var t=qu.current;It(qu),e._currentValue=t}function Gf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){Ku=e,dm=ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cn=!0),e.firstContext=null)}function ir(e){var t=e._currentValue;if(dm!==e)if(e={context:e,memoizedValue:t,next:null},ys===null){if(Ku===null)throw Error(De(308));ys=e,Ku.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var yo=null;function gm(e){yo===null?yo=[e]:yo.push(e)}function P0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,gm(t)):(n.next=s.next,s.next=n),t.interleaved=n,gi(e,r)}function gi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Li=!1;function _m(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ht&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,gi(e,n)}return s=r.interleaved,s===null?(t.next=t,gm(r)):(t.next=s.next,s.next=t),r.interleaved=t,gi(e,n)}function _u(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nm(e,n)}}function R_(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yu(e,t,n,r){var s=e.updateQueue;Li=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,h=c.next;c.next=null,a===null?o=h:a.next=h,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==a&&(u===null?d.firstBaseUpdate=h:u.next=h,d.lastBaseUpdate=c))}if(o!==null){var p=s.baseState;a=0,d=h=c=null,u=o;do{var m=u.lane,g=u.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=e,x=u;switch(m=t,g=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){p=w.call(g,p,m);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(g,p,m):w,m==null)break e;p=zt({},p,m);break e;case 2:Li=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[u]:m.push(u))}else g={eventTime:g,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(h=d=g,c=p):d=d.next=g,a|=m;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;m=u,u=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Oo|=a,e.lanes=a,e.memoizedState=p}}function N_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(De(191,s));s.call(r)}}}var cl={},$r=Ji(cl),Ya=Ji(cl),Qa=Ji(cl);function bo(e){if(e===cl)throw Error(De(174));return e}function vm(e,t){switch(xt(Qa,t),xt(Ya,e),xt($r,cl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xf(t,e)}It($r),xt($r,t)}function Ns(){It($r),It(Ya),It(Qa)}function C0(e){bo(Qa.current);var t=bo($r.current),n=xf(t,e.type);t!==n&&(xt(Ya,e),xt($r,n))}function ym(e){Ya.current===e&&(It($r),It(Ya))}var Bt=Ji(0);function Qu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fh=[];function bm(){for(var e=0;e<Fh.length;e++)Fh[e]._workInProgressVersionPrimary=null;Fh.length=0}var vu=wi.ReactCurrentDispatcher,$h=wi.ReactCurrentBatchConfig,Io=0,jt=null,Qt=null,tn=null,Xu=!1,Ia=!1,Xa=0,mA=0;function mn(){throw Error(De(321))}function wm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wr(e[n],t[n]))return!1;return!0}function Sm(e,t,n,r,s,o){if(Io=o,jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vu.current=e===null||e.memoizedState===null?yA:bA,e=n(r,s),Ia){o=0;do{if(Ia=!1,Xa=0,25<=o)throw Error(De(301));o+=1,tn=Qt=null,t.updateQueue=null,vu.current=wA,e=n(r,s)}while(Ia)}if(vu.current=Ju,t=Qt!==null&&Qt.next!==null,Io=0,tn=Qt=jt=null,Xu=!1,t)throw Error(De(300));return e}function Em(){var e=Xa!==0;return Xa=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?jt.memoizedState=tn=e:tn=tn.next=e,tn}function or(){if(Qt===null){var e=jt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var t=tn===null?jt.memoizedState:tn.next;if(t!==null)tn=t,Qt=e;else{if(e===null)throw Error(De(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},tn===null?jt.memoizedState=tn=e:tn=tn.next=e}return tn}function Ja(e,t){return typeof t=="function"?t(e):t}function Wh(e){var t=or(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=Qt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var u=a=null,c=null,h=o;do{var d=h.lane;if((Io&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=p,a=r):c=c.next=p,jt.lanes|=d,Oo|=d}h=h.next}while(h!==null&&h!==o);c===null?a=r:c.next=u,wr(r,t.memoizedState)||(Cn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,jt.lanes|=o,Oo|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vh(e){var t=or(),n=t.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);wr(o,t.memoizedState)||(Cn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function M0(){}function I0(e,t){var n=jt,r=or(),s=t(),o=!wr(r.memoizedState,s);if(o&&(r.memoizedState=s,Cn=!0),r=r.queue,km(N0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||tn!==null&&tn.memoizedState.tag&1){if(n.flags|=2048,el(9,R0.bind(null,n,r,s,t),void 0,null),rn===null)throw Error(De(349));Io&30||O0(n,t,s)}return s}function O0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function R0(e,t,n,r){t.value=n,t.getSnapshot=r,L0(t)&&D0(e)}function N0(e,t,n){return n(function(){L0(t)&&D0(e)})}function L0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wr(e,n)}catch{return!0}}function D0(e){var t=gi(e,1);t!==null&&vr(t,e,1,-1)}function L_(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:e},t.queue=e,e=e.dispatch=vA.bind(null,jt,e),[t.memoizedState,e]}function el(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=jt.updateQueue,t===null?(t={lastEffect:null,stores:null},jt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function B0(){return or().memoizedState}function yu(e,t,n,r){var s=Lr();jt.flags|=e,s.memoizedState=el(1|t,n,void 0,r===void 0?null:r)}function xc(e,t,n,r){var s=or();r=r===void 0?null:r;var o=void 0;if(Qt!==null){var a=Qt.memoizedState;if(o=a.destroy,r!==null&&wm(r,a.deps)){s.memoizedState=el(t,n,o,r);return}}jt.flags|=e,s.memoizedState=el(1|t,n,o,r)}function D_(e,t){return yu(8390656,8,e,t)}function km(e,t){return xc(2048,8,e,t)}function j0(e,t){return xc(4,2,e,t)}function U0(e,t){return xc(4,4,e,t)}function z0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function F0(e,t,n){return n=n!=null?n.concat([e]):null,xc(4,4,z0.bind(null,t,e),n)}function Am(){}function $0(e,t){var n=or();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function W0(e,t){var n=or();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function V0(e,t,n){return Io&21?(wr(n,t)||(n=Ky(),jt.lanes|=n,Oo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cn=!0),e.memoizedState=n)}function gA(e,t){var n=_t;_t=n!==0&&4>n?n:4,e(!0);var r=$h.transition;$h.transition={};try{e(!1),t()}finally{_t=n,$h.transition=r}}function H0(){return or().memoizedState}function _A(e,t,n){var r=Zi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G0(e))Z0(t,n);else if(n=P0(e,t,n,r),n!==null){var s=Sn();vr(n,e,r,s),q0(n,t,r)}}function vA(e,t,n){var r=Zi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G0(e))Z0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,u=o(a,n);if(s.hasEagerState=!0,s.eagerState=u,wr(u,a)){var c=t.interleaved;c===null?(s.next=s,gm(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=P0(e,t,s,r),n!==null&&(s=Sn(),vr(n,e,r,s),q0(n,t,r))}}function G0(e){var t=e.alternate;return e===jt||t!==null&&t===jt}function Z0(e,t){Ia=Xu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function q0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,nm(e,n)}}var Ju={readContext:ir,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},yA={readContext:ir,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:ir,useEffect:D_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yu(4194308,4,z0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return yu(4,2,e,t)},useMemo:function(e,t){var n=Lr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_A.bind(null,jt,e),[r.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:L_,useDebugValue:Am,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=L_(!1),t=e[0];return e=gA.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=jt,s=Lr();if(Nt){if(n===void 0)throw Error(De(407));n=n()}else{if(n=t(),rn===null)throw Error(De(349));Io&30||O0(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,D_(N0.bind(null,r,o,e),[e]),r.flags|=2048,el(9,R0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Lr(),t=rn.identifierPrefix;if(Nt){var n=ci,r=ui;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bA={readContext:ir,useCallback:$0,useContext:ir,useEffect:km,useImperativeHandle:F0,useInsertionEffect:j0,useLayoutEffect:U0,useMemo:W0,useReducer:Wh,useRef:B0,useState:function(){return Wh(Ja)},useDebugValue:Am,useDeferredValue:function(e){var t=or();return V0(t,Qt.memoizedState,e)},useTransition:function(){var e=Wh(Ja)[0],t=or().memoizedState;return[e,t]},useMutableSource:M0,useSyncExternalStore:I0,useId:H0,unstable_isNewReconciler:!1},wA={readContext:ir,useCallback:$0,useContext:ir,useEffect:km,useImperativeHandle:F0,useInsertionEffect:j0,useLayoutEffect:U0,useMemo:W0,useReducer:Vh,useRef:B0,useState:function(){return Vh(Ja)},useDebugValue:Am,useDeferredValue:function(e){var t=or();return Qt===null?t.memoizedState=e:V0(t,Qt.memoizedState,e)},useTransition:function(){var e=Vh(Ja)[0],t=or().memoizedState;return[e,t]},useMutableSource:M0,useSyncExternalStore:I0,useId:H0,unstable_isNewReconciler:!1};function pr(e,t){if(e&&e.defaultProps){t=zt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:zt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Pc={isMounted:function(e){return(e=e._reactInternals)?Uo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Sn(),s=Zi(e),o=hi(r,s);o.payload=t,n!=null&&(o.callback=n),t=Hi(e,o,s),t!==null&&(vr(t,e,s,r),_u(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Sn(),s=Zi(e),o=hi(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Hi(e,o,s),t!==null&&(vr(t,e,s,r),_u(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Sn(),r=Zi(e),s=hi(n,r);s.tag=2,t!=null&&(s.callback=t),t=Hi(e,s,r),t!==null&&(vr(t,e,r,n),_u(t,e,r))}};function B_(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ga(n,r)||!Ga(s,o):!0}function K0(e,t,n){var r=!1,s=Qi,o=t.contextType;return typeof o=="object"&&o!==null?o=ir(o):(s=In(t)?Co:yn.current,r=t.contextTypes,o=(r=r!=null)?Is(e,s):Qi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function j_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Pc.enqueueReplaceState(t,t.state,null)}function qf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_m(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=ir(o):(o=In(t)?Co:yn.current,s.context=Is(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zf(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Pc.enqueueReplaceState(s,s.state,null),Yu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ls(e,t){try{var n="",r=t;do n+=KE(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Hh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var SA=typeof WeakMap=="function"?WeakMap:Map;function Y0(e,t,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){tc||(tc=!0,od=r),Kf(e,t)},n}function Q0(e,t,n){n=hi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Kf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Kf(e,t),typeof r!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function U_(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new SA;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=DA.bind(null,e,t,n),t.then(e,e))}function z_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function F_(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hi(-1,1),t.tag=2,Hi(n,t,1))),n.lanes|=1),e)}var EA=wi.ReactCurrentOwner,Cn=!1;function wn(e,t,n,r){t.child=e===null?x0(t,null,n,r):Rs(t,e.child,n,r)}function $_(e,t,n,r,s){n=n.render;var o=t.ref;return Ts(t,s),r=Sm(e,t,n,r,o,s),n=Em(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_i(e,t,s)):(Nt&&n&&cm(t),t.flags|=1,wn(e,t,r,s),t.child)}function W_(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Rm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,X0(e,t,o,r,s)):(e=Eu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(a,r)&&e.ref===t.ref)return _i(e,t,s)}return t.flags|=1,e=qi(o,r),e.ref=t.ref,e.return=t,t.child=e}function X0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ga(o,r)&&e.ref===t.ref)if(Cn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Cn=!0);else return t.lanes=e.lanes,_i(e,t,s)}return Yf(e,t,n,r,s)}function J0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(ws,Ln),Ln|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xt(ws,Ln),Ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xt(ws,Ln),Ln|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,xt(ws,Ln),Ln|=r;return wn(e,t,s,n),t.child}function eb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yf(e,t,n,r,s){var o=In(n)?Co:yn.current;return o=Is(t,o),Ts(t,s),n=Sm(e,t,n,r,o,s),r=Em(),e!==null&&!Cn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_i(e,t,s)):(Nt&&r&&cm(t),t.flags|=1,wn(e,t,n,s),t.child)}function V_(e,t,n,r,s){if(In(n)){var o=!0;Hu(t)}else o=!1;if(Ts(t,s),t.stateNode===null)bu(e,t),K0(t,n,r),qf(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=ir(h):(h=In(n)?Co:yn.current,h=Is(t,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==r||c!==h)&&j_(t,a,r,h),Li=!1;var m=t.memoizedState;a.state=m,Yu(t,r,a,s),c=t.memoizedState,u!==r||m!==c||Mn.current||Li?(typeof d=="function"&&(Zf(t,n,d,r),c=t.memoizedState),(u=Li||B_(t,n,u,r,m,c,h))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,T0(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:pr(t.type,u),a.props=h,p=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ir(c):(c=In(n)?Co:yn.current,c=Is(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==p||m!==c)&&j_(t,a,r,c),Li=!1,m=t.memoizedState,a.state=m,Yu(t,r,a,s);var w=t.memoizedState;u!==p||m!==w||Mn.current||Li?(typeof g=="function"&&(Zf(t,n,g,r),w=t.memoizedState),(h=Li||B_(t,n,h,r,m,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Qf(e,t,n,r,o,s)}function Qf(e,t,n,r,s,o){eb(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&C_(t,n,!1),_i(e,t,o);r=t.stateNode,EA.current=t;var u=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Rs(t,e.child,null,o),t.child=Rs(t,null,u,o)):wn(e,t,u,o),t.memoizedState=r.state,s&&C_(t,n,!0),t.child}function tb(e){var t=e.stateNode;t.pendingContext?T_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&T_(e,t.context,!1),vm(e,t.containerInfo)}function H_(e,t,n,r,s){return Os(),fm(s),t.flags|=256,wn(e,t,n,r),t.child}var Xf={dehydrated:null,treeContext:null,retryLane:0};function Jf(e){return{baseLanes:e,cachePool:null,transitions:null}}function nb(e,t,n){var r=t.pendingProps,s=Bt.current,o=!1,a=(t.flags&128)!==0,u;if((u=a)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xt(Bt,s&1),e===null)return Hf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Mc(a,r,0,null),e=ko(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Jf(n),t.memoizedState=Xf,e):xm(t,a));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return kA(e,t,a,r,u,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=qi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=qi(u,o):(o=ko(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Jf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Xf,r}return o=e.child,e=o.sibling,r=qi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xm(e,t){return t=Mc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xl(e,t,n,r){return r!==null&&fm(r),Rs(t,e.child,null,n),e=xm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kA(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Hh(Error(De(422))),Xl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Mc({mode:"visible",children:r.children},s,0,null),o=ko(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Rs(t,e.child,null,a),t.child.memoizedState=Jf(a),t.memoizedState=Xf,o);if(!(t.mode&1))return Xl(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(De(419)),r=Hh(o,r,void 0),Xl(e,t,a,r)}if(u=(a&e.childLanes)!==0,Cn||u){if(r=rn,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,gi(e,s),vr(r,e,s,-1))}return Om(),r=Hh(Error(De(421))),Xl(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BA.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,jn=Vi(s.nextSibling),Un=t,Nt=!0,gr=null,e!==null&&(Yn[Qn++]=ui,Yn[Qn++]=ci,Yn[Qn++]=Mo,ui=e.id,ci=e.overflow,Mo=t),t=xm(t,r.children),t.flags|=4096,t)}function G_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gf(e.return,t,n)}function Gh(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function rb(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(wn(e,t,r.children,n),r=Bt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G_(e,n,t);else if(e.tag===19)G_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xt(Bt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Qu(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gh(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qu(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gh(t,!0,n,null,o);break;case"together":Gh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _i(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Oo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,n=qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function AA(e,t,n){switch(t.tag){case 3:tb(t),Os();break;case 5:C0(t);break;case 1:In(t.type)&&Hu(t);break;case 4:vm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xt(qu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xt(Bt,Bt.current&1),t.flags|=128,null):n&t.child.childLanes?nb(e,t,n):(xt(Bt,Bt.current&1),e=_i(e,t,n),e!==null?e.sibling:null);xt(Bt,Bt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rb(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xt(Bt,Bt.current),r)break;return null;case 22:case 23:return t.lanes=0,J0(e,t,n)}return _i(e,t,n)}var ib,ed,ob,sb;ib=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ed=function(){};ob=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,bo($r.current);var o=null;switch(n){case"input":s=Sf(e,s),r=Sf(e,r),o=[];break;case"select":s=zt({},s,{value:void 0}),r=zt({},r,{value:void 0}),o=[];break;case"textarea":s=Af(e,s),r=Af(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Wu)}Pf(n,r);var a;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ua.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var c=r[h];if(u=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Ct("scroll",e),o||u===c||(o=[])):(o=o||[]).push(h,c))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};sb=function(e,t,n,r){n!==r&&(t.flags|=4)};function ga(e,t){if(!Nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xA(e,t,n){var r=t.pendingProps;switch(hm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(t),null;case 1:return In(t.type)&&Vu(),gn(t),null;case 3:return r=t.stateNode,Ns(),It(Mn),It(yn),bm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gr!==null&&(ld(gr),gr=null))),ed(e,t),gn(t),null;case 5:ym(t);var s=bo(Qa.current);if(n=t.type,e!==null&&t.stateNode!=null)ob(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(De(166));return gn(t),null}if(e=bo($r.current),Yl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Dr]=t,r[Ka]=o,e=(t.mode&1)!==0,n){case"dialog":Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":case"embed":Ct("load",r);break;case"video":case"audio":for(s=0;s<Sa.length;s++)Ct(Sa[s],r);break;case"source":Ct("error",r);break;case"img":case"image":case"link":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"input":t_(r,o),Ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ct("invalid",r);break;case"textarea":r_(r,o),Ct("invalid",r)}Pf(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Kl(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Kl(r.textContent,u,e),s=["children",""+u]):Ua.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&Ct("scroll",r)}switch(n){case"input":Fl(r),n_(r,o,!0);break;case"textarea":Fl(r),i_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ny(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Dr]=t,e[Ka]=r,ib(e,t,!1,!1),t.stateNode=e;e:{switch(a=Tf(n,r),n){case"dialog":Ct("cancel",e),Ct("close",e),s=r;break;case"iframe":case"object":case"embed":Ct("load",e),s=r;break;case"video":case"audio":for(s=0;s<Sa.length;s++)Ct(Sa[s],e);s=r;break;case"source":Ct("error",e),s=r;break;case"img":case"image":case"link":Ct("error",e),Ct("load",e),s=r;break;case"details":Ct("toggle",e),s=r;break;case"input":t_(e,r),s=Sf(e,r),Ct("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=zt({},r,{value:void 0}),Ct("invalid",e);break;case"textarea":r_(e,r),s=Af(e,r),Ct("invalid",e);break;default:s=r}Pf(n,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?By(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ly(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&za(e,c):typeof c=="number"&&za(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ua.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ct("scroll",e):c!=null&&Yp(e,o,c,a))}switch(n){case"input":Fl(e),n_(e,r,!1);break;case"textarea":Fl(e),i_(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ks(e,!!r.multiple,o,!1):r.defaultValue!=null&&ks(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gn(t),null;case 6:if(e&&t.stateNode!=null)sb(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(De(166));if(n=bo(Qa.current),bo($r.current),Yl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dr]=t,(o=r.nodeValue!==n)&&(e=Un,e!==null))switch(e.tag){case 3:Kl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Kl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=t,t.stateNode=r}return gn(t),null;case 13:if(It(Bt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&jn!==null&&t.mode&1&&!(t.flags&128))k0(),Os(),t.flags|=98560,o=!1;else if(o=Yl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(De(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(De(317));o[Dr]=t}else Os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gn(t),o=!1}else gr!==null&&(ld(gr),gr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Bt.current&1?Xt===0&&(Xt=3):Om())),t.updateQueue!==null&&(t.flags|=4),gn(t),null);case 4:return Ns(),ed(e,t),e===null&&Za(t.stateNode.containerInfo),gn(t),null;case 10:return mm(t.type._context),gn(t),null;case 17:return In(t.type)&&Vu(),gn(t),null;case 19:if(It(Bt),o=t.memoizedState,o===null)return gn(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ga(o,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Qu(e),a!==null){for(t.flags|=128,ga(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xt(Bt,Bt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Zt()>Ds&&(t.flags|=128,r=!0,ga(o,!1),t.lanes=4194304)}else{if(!r)if(e=Qu(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ga(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Nt)return gn(t),null}else 2*Zt()-o.renderingStartTime>Ds&&n!==1073741824&&(t.flags|=128,r=!0,ga(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,n=Bt.current,xt(Bt,r?n&1|2:n&1),t):(gn(t),null);case 22:case 23:return Im(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ln&1073741824&&(gn(t),t.subtreeFlags&6&&(t.flags|=8192)):gn(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function PA(e,t){switch(hm(t),t.tag){case 1:return In(t.type)&&Vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),It(Mn),It(yn),bm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ym(t),null;case 13:if(It(Bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));Os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return It(Bt),null;case 4:return Ns(),null;case 10:return mm(t.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var Jl=!1,vn=!1,TA=typeof WeakSet=="function"?WeakSet:Set,We=null;function bs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(e,t,r)}else n.current=null}function td(e,t,n){try{n()}catch(r){Wt(e,t,r)}}var Z_=!1;function CA(e,t){if(jf=zu,e=h0(),um(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,h=0,d=0,p=e,m=null;t:for(;;){for(var g;p!==n||s!==0&&p.nodeType!==3||(u=a+s),p!==o||r!==0&&p.nodeType!==3||(c=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===e)break t;if(m===n&&++h===s&&(u=a),m===o&&++d===r&&(c=a),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uf={focusedElem:e,selectionRange:n},zu=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,P=w.memoizedState,A=t.stateNode,y=A.getSnapshotBeforeUpdate(t.elementType===t.type?x:pr(t.type,x),P);A.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(I){Wt(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return w=Z_,Z_=!1,w}function Oa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&td(t,n,o)}s=s.next}while(s!==r)}}function Tc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ab(e){var t=e.alternate;t!==null&&(e.alternate=null,ab(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dr],delete t[Ka],delete t[$f],delete t[hA],delete t[fA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lb(e){return e.tag===5||e.tag===3||e.tag===4}function q_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lb(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Wu));else if(r!==4&&(e=e.child,e!==null))for(rd(e,t,n),e=e.sibling;e!==null;)rd(e,t,n),e=e.sibling}function id(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(id(e,t,n),e=e.sibling;e!==null;)id(e,t,n),e=e.sibling}var cn=null,mr=!1;function Pi(e,t,n){for(n=n.child;n!==null;)ub(e,t,n),n=n.sibling}function ub(e,t,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(bc,n)}catch{}switch(n.tag){case 5:vn||bs(n,t);case 6:var r=cn,s=mr;cn=null,Pi(e,t,n),cn=r,mr=s,cn!==null&&(mr?(e=cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cn.removeChild(n.stateNode));break;case 18:cn!==null&&(mr?(e=cn,n=n.stateNode,e.nodeType===8?Uh(e.parentNode,n):e.nodeType===1&&Uh(e,n),Va(e)):Uh(cn,n.stateNode));break;case 4:r=cn,s=mr,cn=n.stateNode.containerInfo,mr=!0,Pi(e,t,n),cn=r,mr=s;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&td(n,t,a),s=s.next}while(s!==r)}Pi(e,t,n);break;case 1:if(!vn&&(bs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Wt(n,t,u)}Pi(e,t,n);break;case 21:Pi(e,t,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,Pi(e,t,n),vn=r):Pi(e,t,n);break;default:Pi(e,t,n)}}function K_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new TA),t.forEach(function(r){var s=jA.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ur(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,u=a;e:for(;u!==null;){switch(u.tag){case 5:cn=u.stateNode,mr=!1;break e;case 3:cn=u.stateNode.containerInfo,mr=!0;break e;case 4:cn=u.stateNode.containerInfo,mr=!0;break e}u=u.return}if(cn===null)throw Error(De(160));ub(o,a,s),cn=null,mr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){Wt(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cb(t,e),t=t.sibling}function cb(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),Or(e),r&4){try{Oa(3,e,e.return),Tc(3,e)}catch(x){Wt(e,e.return,x)}try{Oa(5,e,e.return)}catch(x){Wt(e,e.return,x)}}break;case 1:ur(t,e),Or(e),r&512&&n!==null&&bs(n,n.return);break;case 5:if(ur(t,e),Or(e),r&512&&n!==null&&bs(n,n.return),e.flags&32){var s=e.stateNode;try{za(s,"")}catch(x){Wt(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Oy(s,o),Tf(u,a);var h=Tf(u,o);for(a=0;a<c.length;a+=2){var d=c[a],p=c[a+1];d==="style"?By(s,p):d==="dangerouslySetInnerHTML"?Ly(s,p):d==="children"?za(s,p):Yp(s,d,p,h)}switch(u){case"input":Ef(s,o);break;case"textarea":Ry(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?ks(s,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?ks(s,!!o.multiple,o.defaultValue,!0):ks(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ka]=o}catch(x){Wt(e,e.return,x)}}break;case 6:if(ur(t,e),Or(e),r&4){if(e.stateNode===null)throw Error(De(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){Wt(e,e.return,x)}}break;case 3:if(ur(t,e),Or(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Va(t.containerInfo)}catch(x){Wt(e,e.return,x)}break;case 4:ur(t,e),Or(e);break;case 13:ur(t,e),Or(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Cm=Zt())),r&4&&K_(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(vn=(h=vn)||d,ur(t,e),vn=h):ur(t,e),Or(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(We=e,d=e.child;d!==null;){for(p=We=d;We!==null;){switch(m=We,g=m.child,m.tag){case 0:case 11:case 14:case 15:Oa(4,m,m.return);break;case 1:bs(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Wt(r,n,x)}}break;case 5:bs(m,m.return);break;case 22:if(m.memoizedState!==null){Q_(p);continue}}g!==null?(g.return=m,We=g):Q_(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Dy("display",a))}catch(x){Wt(e,e.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(x){Wt(e,e.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ur(t,e),Or(e),r&4&&K_(e);break;case 21:break;default:ur(t,e),Or(e)}}function Or(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lb(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(za(s,""),r.flags&=-33);var o=q_(e);id(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,u=q_(e);rd(e,u,a);break;default:throw Error(De(161))}}catch(c){Wt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MA(e,t,n){We=e,hb(e)}function hb(e,t,n){for(var r=(e.mode&1)!==0;We!==null;){var s=We,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Jl;if(!a){var u=s.alternate,c=u!==null&&u.memoizedState!==null||vn;u=Jl;var h=vn;if(Jl=a,(vn=c)&&!h)for(We=s;We!==null;)a=We,c=a.child,a.tag===22&&a.memoizedState!==null?X_(s):c!==null?(c.return=a,We=c):X_(s);for(;o!==null;)We=o,hb(o),o=o.sibling;We=s,Jl=u,vn=h}Y_(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,We=o):Y_(e)}}function Y_(e){for(;We!==null;){var t=We;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vn||Tc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!vn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:pr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&N_(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}N_(t,a,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Va(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}vn||t.flags&512&&nd(t)}catch(m){Wt(t,t.return,m)}}if(t===e){We=null;break}if(n=t.sibling,n!==null){n.return=t.return,We=n;break}We=t.return}}function Q_(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var n=t.sibling;if(n!==null){n.return=t.return,We=n;break}We=t.return}}function X_(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Tc(4,t)}catch(c){Wt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Wt(t,s,c)}}var o=t.return;try{nd(t)}catch(c){Wt(t,o,c)}break;case 5:var a=t.return;try{nd(t)}catch(c){Wt(t,a,c)}}}catch(c){Wt(t,t.return,c)}if(t===e){We=null;break}var u=t.sibling;if(u!==null){u.return=t.return,We=u;break}We=t.return}}var IA=Math.ceil,ec=wi.ReactCurrentDispatcher,Pm=wi.ReactCurrentOwner,rr=wi.ReactCurrentBatchConfig,ht=0,rn=null,Yt=null,hn=0,Ln=0,ws=Ji(0),Xt=0,tl=null,Oo=0,Cc=0,Tm=0,Ra=null,Tn=null,Cm=0,Ds=1/0,ni=null,tc=!1,od=null,Gi=null,eu=!1,Ui=null,nc=0,Na=0,sd=null,wu=-1,Su=0;function Sn(){return ht&6?Zt():wu!==-1?wu:wu=Zt()}function Zi(e){return e.mode&1?ht&2&&hn!==0?hn&-hn:pA.transition!==null?(Su===0&&(Su=Ky()),Su):(e=_t,e!==0||(e=window.event,e=e===void 0?16:n0(e.type)),e):1}function vr(e,t,n,r){if(50<Na)throw Na=0,sd=null,Error(De(185));al(e,n,r),(!(ht&2)||e!==rn)&&(e===rn&&(!(ht&2)&&(Cc|=n),Xt===4&&Bi(e,hn)),On(e,r),n===1&&ht===0&&!(t.mode&1)&&(Ds=Zt()+500,Ac&&eo()))}function On(e,t){var n=e.callbackNode;pk(e,t);var r=Uu(e,e===rn?hn:0);if(r===0)n!==null&&a_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&a_(n),t===1)e.tag===0?dA(J_.bind(null,e)):w0(J_.bind(null,e)),uA(function(){!(ht&6)&&eo()}),n=null;else{switch(Yy(r)){case 1:n=tm;break;case 4:n=Zy;break;case 16:n=ju;break;case 536870912:n=qy;break;default:n=ju}n=yb(n,fb.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fb(e,t){if(wu=-1,Su=0,ht&6)throw Error(De(327));var n=e.callbackNode;if(Cs()&&e.callbackNode!==n)return null;var r=Uu(e,e===rn?hn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=rc(e,r);else{t=r;var s=ht;ht|=2;var o=pb();(rn!==e||hn!==t)&&(ni=null,Ds=Zt()+500,Eo(e,t));do try{NA();break}catch(u){db(e,u)}while(!0);pm(),ec.current=o,ht=s,Yt!==null?t=0:(rn=null,hn=0,t=Xt)}if(t!==0){if(t===2&&(s=Rf(e),s!==0&&(r=s,t=ad(e,s))),t===1)throw n=tl,Eo(e,0),Bi(e,r),On(e,Zt()),n;if(t===6)Bi(e,r);else{if(s=e.current.alternate,!(r&30)&&!OA(s)&&(t=rc(e,r),t===2&&(o=Rf(e),o!==0&&(r=o,t=ad(e,o))),t===1))throw n=tl,Eo(e,0),Bi(e,r),On(e,Zt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(De(345));case 2:go(e,Tn,ni);break;case 3:if(Bi(e,r),(r&130023424)===r&&(t=Cm+500-Zt(),10<t)){if(Uu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Sn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ff(go.bind(null,e,Tn,ni),t);break}go(e,Tn,ni);break;case 4:if(Bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-_r(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=Zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*IA(r/1960))-r,10<r){e.timeoutHandle=Ff(go.bind(null,e,Tn,ni),r);break}go(e,Tn,ni);break;case 5:go(e,Tn,ni);break;default:throw Error(De(329))}}}return On(e,Zt()),e.callbackNode===n?fb.bind(null,e):null}function ad(e,t){var n=Ra;return e.current.memoizedState.isDehydrated&&(Eo(e,t).flags|=256),e=rc(e,t),e!==2&&(t=Tn,Tn=n,t!==null&&ld(t)),e}function ld(e){Tn===null?Tn=e:Tn.push.apply(Tn,e)}function OA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!wr(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t){for(t&=~Tm,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_r(t),r=1<<n;e[n]=-1,t&=~r}}function J_(e){if(ht&6)throw Error(De(327));Cs();var t=Uu(e,0);if(!(t&1))return On(e,Zt()),null;var n=rc(e,t);if(e.tag!==0&&n===2){var r=Rf(e);r!==0&&(t=r,n=ad(e,r))}if(n===1)throw n=tl,Eo(e,0),Bi(e,t),On(e,Zt()),n;if(n===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,go(e,Tn,ni),On(e,Zt()),null}function Mm(e,t){var n=ht;ht|=1;try{return e(t)}finally{ht=n,ht===0&&(Ds=Zt()+500,Ac&&eo())}}function Ro(e){Ui!==null&&Ui.tag===0&&!(ht&6)&&Cs();var t=ht;ht|=1;var n=rr.transition,r=_t;try{if(rr.transition=null,_t=1,e)return e()}finally{_t=r,rr.transition=n,ht=t,!(ht&6)&&eo()}}function Im(){Ln=ws.current,It(ws)}function Eo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lA(n)),Yt!==null)for(n=Yt.return;n!==null;){var r=n;switch(hm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vu();break;case 3:Ns(),It(Mn),It(yn),bm();break;case 5:ym(r);break;case 4:Ns();break;case 13:It(Bt);break;case 19:It(Bt);break;case 10:mm(r.type._context);break;case 22:case 23:Im()}n=n.return}if(rn=e,Yt=e=qi(e.current,null),hn=Ln=t,Xt=0,tl=null,Tm=Cc=Oo=0,Tn=Ra=null,yo!==null){for(t=0;t<yo.length;t++)if(n=yo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}yo=null}return e}function db(e,t){do{var n=Yt;try{if(pm(),vu.current=Ju,Xu){for(var r=jt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xu=!1}if(Io=0,tn=Qt=jt=null,Ia=!1,Xa=0,Pm.current=null,n===null||n.return===null){Xt=1,tl=t,Yt=null;break}e:{var o=e,a=n.return,u=n,c=t;if(t=hn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=u,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=z_(a);if(g!==null){g.flags&=-257,F_(g,a,u,o,t),g.mode&1&&U_(o,h,t),t=g,c=h;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){U_(o,h,t),Om();break e}c=Error(De(426))}}else if(Nt&&u.mode&1){var P=z_(a);if(P!==null){!(P.flags&65536)&&(P.flags|=256),F_(P,a,u,o,t),fm(Ls(c,u));break e}}o=c=Ls(c,u),Xt!==4&&(Xt=2),Ra===null?Ra=[o]:Ra.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var A=Y0(o,c,t);R_(o,A);break e;case 1:u=c;var y=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Gi===null||!Gi.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=Q0(o,u,t);R_(o,I);break e}}o=o.return}while(o!==null)}gb(n)}catch(R){t=R,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function pb(){var e=ec.current;return ec.current=Ju,e===null?Ju:e}function Om(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),rn===null||!(Oo&268435455)&&!(Cc&268435455)||Bi(rn,hn)}function rc(e,t){var n=ht;ht|=2;var r=pb();(rn!==e||hn!==t)&&(ni=null,Eo(e,t));do try{RA();break}catch(s){db(e,s)}while(!0);if(pm(),ht=n,ec.current=r,Yt!==null)throw Error(De(261));return rn=null,hn=0,Xt}function RA(){for(;Yt!==null;)mb(Yt)}function NA(){for(;Yt!==null&&!ok();)mb(Yt)}function mb(e){var t=vb(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?gb(e):Yt=t,Pm.current=null}function gb(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=PA(n,t),n!==null){n.flags&=32767,Yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xt=6,Yt=null;return}}else if(n=xA(n,t,Ln),n!==null){Yt=n;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);Xt===0&&(Xt=5)}function go(e,t,n){var r=_t,s=rr.transition;try{rr.transition=null,_t=1,LA(e,t,n,r)}finally{rr.transition=s,_t=r}return null}function LA(e,t,n,r){do Cs();while(Ui!==null);if(ht&6)throw Error(De(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mk(e,o),e===rn&&(Yt=rn=null,hn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eu||(eu=!0,yb(ju,function(){return Cs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=rr.transition,rr.transition=null;var a=_t;_t=1;var u=ht;ht|=4,Pm.current=null,CA(e,n),cb(n,e),tA(Uf),zu=!!jf,Uf=jf=null,e.current=n,MA(n),sk(),ht=u,_t=a,rr.transition=o}else e.current=n;if(eu&&(eu=!1,Ui=e,nc=s),o=e.pendingLanes,o===0&&(Gi=null),uk(n.stateNode),On(e,Zt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(tc)throw tc=!1,e=od,od=null,e;return nc&1&&e.tag!==0&&Cs(),o=e.pendingLanes,o&1?e===sd?Na++:(Na=0,sd=e):Na=0,eo(),null}function Cs(){if(Ui!==null){var e=Yy(nc),t=rr.transition,n=_t;try{if(rr.transition=null,_t=16>e?16:e,Ui===null)var r=!1;else{if(e=Ui,Ui=null,nc=0,ht&6)throw Error(De(331));var s=ht;for(ht|=4,We=e.current;We!==null;){var o=We,a=o.child;if(We.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(We=h;We!==null;){var d=We;switch(d.tag){case 0:case 11:case 15:Oa(8,d,o)}var p=d.child;if(p!==null)p.return=d,We=p;else for(;We!==null;){d=We;var m=d.sibling,g=d.return;if(ab(d),d===h){We=null;break}if(m!==null){m.return=g,We=m;break}We=g}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var P=x.sibling;x.sibling=null,x=P}while(x!==null)}}We=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,We=a;else e:for(;We!==null;){if(o=We,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oa(9,o,o.return)}var A=o.sibling;if(A!==null){A.return=o.return,We=A;break e}We=o.return}}var y=e.current;for(We=y;We!==null;){a=We;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,We=S;else e:for(a=y;We!==null;){if(u=We,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Tc(9,u)}}catch(R){Wt(u,u.return,R)}if(u===a){We=null;break e}var I=u.sibling;if(I!==null){I.return=u.return,We=I;break e}We=u.return}}if(ht=s,eo(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(bc,e)}catch{}r=!0}return r}finally{_t=n,rr.transition=t}}return!1}function ev(e,t,n){t=Ls(n,t),t=Y0(e,t,1),e=Hi(e,t,1),t=Sn(),e!==null&&(al(e,1,t),On(e,t))}function Wt(e,t,n){if(e.tag===3)ev(e,e,n);else for(;t!==null;){if(t.tag===3){ev(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gi===null||!Gi.has(r))){e=Ls(n,e),e=Q0(t,e,1),t=Hi(t,e,1),e=Sn(),t!==null&&(al(t,1,e),On(t,e));break}}t=t.return}}function DA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Sn(),e.pingedLanes|=e.suspendedLanes&n,rn===e&&(hn&n)===n&&(Xt===4||Xt===3&&(hn&130023424)===hn&&500>Zt()-Cm?Eo(e,0):Tm|=n),On(e,t)}function _b(e,t){t===0&&(e.mode&1?(t=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):t=1);var n=Sn();e=gi(e,t),e!==null&&(al(e,t,n),On(e,n))}function BA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_b(e,n)}function jA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(t),_b(e,n)}var vb;vb=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mn.current)Cn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Cn=!1,AA(e,t,n);Cn=!!(e.flags&131072)}else Cn=!1,Nt&&t.flags&1048576&&S0(t,Zu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bu(e,t),e=t.pendingProps;var s=Is(t,yn.current);Ts(t,n),s=Sm(null,t,r,e,s,n);var o=Em();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(r)?(o=!0,Hu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_m(t),s.updater=Pc,t.stateNode=s,s._reactInternals=t,qf(t,r,e,n),t=Qf(null,t,r,!0,o,n)):(t.tag=0,Nt&&o&&cm(t),wn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=zA(r),e=pr(r,e),s){case 0:t=Yf(null,t,r,e,n);break e;case 1:t=V_(null,t,r,e,n);break e;case 11:t=$_(null,t,r,e,n);break e;case 14:t=W_(null,t,r,pr(r.type,e),n);break e}throw Error(De(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pr(r,s),Yf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pr(r,s),V_(e,t,r,s,n);case 3:e:{if(tb(t),e===null)throw Error(De(387));r=t.pendingProps,o=t.memoizedState,s=o.element,T0(e,t),Yu(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Ls(Error(De(423)),t),t=H_(e,t,r,n,s);break e}else if(r!==s){s=Ls(Error(De(424)),t),t=H_(e,t,r,n,s);break e}else for(jn=Vi(t.stateNode.containerInfo.firstChild),Un=t,Nt=!0,gr=null,n=x0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Os(),r===s){t=_i(e,t,n);break e}wn(e,t,r,n)}t=t.child}return t;case 5:return C0(t),e===null&&Hf(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,zf(r,s)?a=null:o!==null&&zf(r,o)&&(t.flags|=32),eb(e,t),wn(e,t,a,n),t.child;case 6:return e===null&&Hf(t),null;case 13:return nb(e,t,n);case 4:return vm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rs(t,null,r,n):wn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pr(r,s),$_(e,t,r,s,n);case 7:return wn(e,t,t.pendingProps,n),t.child;case 8:return wn(e,t,t.pendingProps.children,n),t.child;case 12:return wn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,xt(qu,r._currentValue),r._currentValue=a,o!==null)if(wr(o.value,a)){if(o.children===s.children&&!Mn.current){t=_i(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){a=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=hi(-1,n&-n),c.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Gf(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(De(341));a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Gf(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}wn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ts(t,n),s=ir(s),r=r(s),t.flags|=1,wn(e,t,r,n),t.child;case 14:return r=t.type,s=pr(r,t.pendingProps),s=pr(r.type,s),W_(e,t,r,s,n);case 15:return X0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:pr(r,s),bu(e,t),t.tag=1,In(r)?(e=!0,Hu(t)):e=!1,Ts(t,n),K0(t,r,s),qf(t,r,s,n),Qf(null,t,r,!0,e,n);case 19:return rb(e,t,n);case 22:return J0(e,t,n)}throw Error(De(156,t.tag))};function yb(e,t){return Gy(e,t)}function UA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(e,t,n,r){return new UA(e,t,n,r)}function Rm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zA(e){if(typeof e=="function")return Rm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xp)return 11;if(e===Jp)return 14}return 2}function qi(e,t){var n=e.alternate;return n===null?(n=er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Eu(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")Rm(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case hs:return ko(n.children,s,o,t);case Qp:a=8,s|=8;break;case vf:return e=er(12,n,t,s|2),e.elementType=vf,e.lanes=o,e;case yf:return e=er(13,n,t,s),e.elementType=yf,e.lanes=o,e;case bf:return e=er(19,n,t,s),e.elementType=bf,e.lanes=o,e;case Cy:return Mc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Py:a=10;break e;case Ty:a=9;break e;case Xp:a=11;break e;case Jp:a=14;break e;case Ni:a=16,r=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=er(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function ko(e,t,n,r){return e=er(7,e,r,t),e.lanes=n,e}function Mc(e,t,n,r){return e=er(22,e,r,t),e.elementType=Cy,e.lanes=n,e.stateNode={isHidden:!1},e}function Zh(e,t,n){return e=er(6,e,null,t),e.lanes=n,e}function qh(e,t,n){return t=er(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function FA(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Th(0),this.expirationTimes=Th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Th(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nm(e,t,n,r,s,o,a,u,c){return e=new FA(e,t,n,u,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=er(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_m(o),e}function $A(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bb(e){if(!e)return Qi;e=e._reactInternals;e:{if(Uo(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var n=e.type;if(In(n))return b0(e,n,t)}return t}function wb(e,t,n,r,s,o,a,u,c){return e=Nm(n,r,!0,e,s,o,a,u,c),e.context=bb(null),n=e.current,r=Sn(),s=Zi(n),o=hi(r,s),o.callback=t??null,Hi(n,o,s),e.current.lanes=s,al(e,s,r),On(e,r),e}function Ic(e,t,n,r){var s=t.current,o=Sn(),a=Zi(s);return n=bb(n),t.context===null?t.context=n:t.pendingContext=n,t=hi(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hi(s,t,a),e!==null&&(vr(e,s,a,o),_u(e,s,a)),a}function ic(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Lm(e,t){tv(e,t),(e=e.alternate)&&tv(e,t)}function WA(){return null}var Sb=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dm(e){this._internalRoot=e}Oc.prototype.render=Dm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));Ic(e,t,null,null)};Oc.prototype.unmount=Dm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ro(function(){Ic(null,e,null,null)}),t[mi]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Di.length&&t!==0&&t<Di[n].priority;n++);Di.splice(n,0,e),n===0&&t0(e)}};function Bm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nv(){}function VA(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var h=ic(a);o.call(h)}}var a=wb(t,r,e,0,null,!1,!1,"",nv);return e._reactRootContainer=a,e[mi]=a.current,Za(e.nodeType===8?e.parentNode:e),Ro(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var h=ic(c);u.call(h)}}var c=Nm(e,0,!1,null,null,!1,!1,"",nv);return e._reactRootContainer=c,e[mi]=c.current,Za(e.nodeType===8?e.parentNode:e),Ro(function(){Ic(t,c,n,r)}),c}function Nc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var u=s;s=function(){var c=ic(a);u.call(c)}}Ic(t,a,e,s)}else a=VA(n,t,e,s,r);return ic(a)}Qy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wa(t.pendingLanes);n!==0&&(nm(t,n|1),On(t,Zt()),!(ht&6)&&(Ds=Zt()+500,eo()))}break;case 13:Ro(function(){var r=gi(e,1);if(r!==null){var s=Sn();vr(r,e,1,s)}}),Lm(e,1)}};rm=function(e){if(e.tag===13){var t=gi(e,134217728);if(t!==null){var n=Sn();vr(t,e,134217728,n)}Lm(e,134217728)}};Xy=function(e){if(e.tag===13){var t=Zi(e),n=gi(e,t);if(n!==null){var r=Sn();vr(n,e,t,r)}Lm(e,t)}};Jy=function(){return _t};e0=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}};Mf=function(e,t,n){switch(t){case"input":if(Ef(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=kc(r);if(!s)throw Error(De(90));Iy(r),Ef(r,s)}}}break;case"textarea":Ry(e,n);break;case"select":t=n.value,t!=null&&ks(e,!!n.multiple,t,!1)}};zy=Mm;Fy=Ro;var HA={usingClientEntryPoint:!1,Events:[ul,ms,kc,jy,Uy,Mm]},_a={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GA={bundleType:_a.bundleType,version:_a.version,rendererPackageName:_a.rendererPackageName,rendererConfig:_a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vy(e),e===null?null:e.stateNode},findFiberByHostInstance:_a.findFiberByHostInstance||WA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{bc=tu.inject(GA),Fr=tu}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HA;Fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bm(t))throw Error(De(200));return $A(e,t,null,n)};Fn.createRoot=function(e,t){if(!Bm(e))throw Error(De(299));var n=!1,r="",s=Sb;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Nm(e,1,!1,null,null,n,!1,r,s),e[mi]=t.current,Za(e.nodeType===8?e.parentNode:e),new Dm(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=Vy(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return Ro(e)};Fn.hydrate=function(e,t,n){if(!Rc(t))throw Error(De(200));return Nc(null,e,t,!0,n)};Fn.hydrateRoot=function(e,t,n){if(!Bm(e))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Sb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=wb(t,null,e,1,n??null,s,!1,o,a),e[mi]=t.current,Za(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Oc(t)};Fn.render=function(e,t,n){if(!Rc(t))throw Error(De(200));return Nc(null,e,t,!1,n)};Fn.unmountComponentAtNode=function(e){if(!Rc(e))throw Error(De(40));return e._reactRootContainer?(Ro(function(){Nc(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0):!1};Fn.unstable_batchedUpdates=Mm;Fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rc(n))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return Nc(e,t,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function Eb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eb)}catch(e){console.error(e)}}Eb(),Ey.exports=Fn;var kb=Ey.exports,rv=kb;gf.createRoot=rv.createRoot,gf.hydrateRoot=rv.hydrateRoot;function ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var ZA={};function Lc(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:ZA}var Ab=Object.assign,oc=Object.getOwnPropertyDescriptor,Wr=Object.defineProperty,Dc=Object.prototype,ud=[];Object.freeze(ud);var jm={};Object.freeze(jm);var qA=typeof Proxy<"u",KA=Object.toString();function xb(){qA||ft("Proxy not available")}function Pb(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Ss=function(){};function Sr(e){return typeof e=="function"}function No(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Bc(e){return e!==null&&typeof e=="object"}function vi(e){if(!Bc(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===KA}function Tb(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function hl(e,t,n){Wr(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Cb(e,t,n){Wr(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function zo(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Bc(r)&&r[n]===!0}}function Vs(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function YA(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function ai(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Mb=typeof Object.getOwnPropertySymbols<"u";function QA(e){var t=Object.keys(e);if(!Mb)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Dc.propertyIsEnumerable.call(e,r)})):t}var Bs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Mb?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Ib(e){return e===null?null:typeof e=="object"?""+e:e}function fi(e,t){return Dc.hasOwnProperty.call(e,t)}var XA=Object.getOwnPropertyDescriptors||function(t){var n={};return Bs(t).forEach(function(r){n[r]=oc(t,r)}),n};function Dn(e,t){return!!(e&t)}function Bn(e,t,n){return n?e|=t:e&=~t,e}function iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function JA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tx(r.key),r)}}function Hs(e,t,n){return t&&JA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Es(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=nx(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(null,arguments)}function Ob(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cd(e,t)}function cd(e,t){return cd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cd(e,t)}function ex(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tx(e){var t=ex(e,"string");return typeof t=="symbol"?t:t+""}function nx(e,t){if(e){if(typeof e=="string")return iv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iv(e,t):void 0}}var jr=Symbol("mobx-stored-annotations");function Vr(e){function t(n,r){if(dl(r))return e.decorate_20223_(n,r);fl(n,r,e)}return Object.assign(t,e)}function fl(e,t,n){fi(e,jr)||hl(e,jr,Lo({},e[jr])),ux(n)||(e[jr][t]=n)}function rx(e){return fi(e,jr)||hl(e,jr,Lo({},e[jr])),e[jr]}function dl(e){return typeof e=="object"&&typeof e.kind=="string"}var tt=Symbol("mobx administration"),to=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=mt.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return Kb(this)},t.reportChanged=function(){tr(),Yb(this),nr()},t.toString=function(){return this.name_},Hs(e,[{key:"isBeingObserved",get:function(){return Dn(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Dn(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Dn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Bn(this.flags_,e.diffValueMask_,r===1)}}])}();to.isBeingObservedMask_=1;to.isPendingUnobservationMask_=2;to.diffValueMask_=4;var Um=zo("Atom",to);function Rb(e,t,n){t===void 0&&(t=Ss),n===void 0&&(n=Ss);var r=new to(e);return t!==Ss&&dP(r,t),n!==Ss&&rw(r,n),r}function ix(e,t){return _w(e,t)}function ox(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var js={structural:ix,default:ox};function Do(e,t,n){return lw(e)?e:Array.isArray(e)?Ie.array(e,{name:n}):vi(e)?Ie.object(e,void 0,{name:n}):Vs(e)?Ie.map(e,{name:n}):ai(e)?Ie.set(e,{name:n}):typeof e=="function"&&!rl(e)&&!il(e)?Tb(e)?Us(e):nl(n,e):e}function sx(e,t,n){if(e==null||Vc(e)||Wc(e)||$o(e)||Br(e))return e;if(Array.isArray(e))return Ie.array(e,{name:n,deep:!1});if(vi(e))return Ie.object(e,void 0,{name:n,deep:!1});if(Vs(e))return Ie.map(e,{name:n,deep:!1});if(ai(e))return Ie.set(e,{name:n,deep:!1})}function jc(e){return e}function ax(e,t){return _w(e,t)?t:e}var lx="override";function ux(e){return e.annotationType_===lx}function pl(e,t){return{annotationType_:e,options_:t,make_:cx,extend_:hx,decorate_20223_:fx}}function cx(e,t,n,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(rl(n.value))return 1;var o=Nb(e,this,t,n,!1);return Wr(r,t,o),2}function hx(e,t,n,r){var s=Nb(e,this,t,n);return e.defineProperty_(t,s,r)}function fx(e,t){var n=t.kind,r=t.name,s=t.addInitializer,o=this,a=function(h){var d,p,m,g;return Bo((d=(p=o.options_)==null?void 0:p.name)!=null?d:r.toString(),h,(m=(g=o.options_)==null?void 0:g.autoAction)!=null?m:!1)};if(n=="field")return function(c){var h,d=c;return rl(d)||(d=a(d)),(h=o.options_)!=null&&h.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var u;return rl(e)||(e=a(e)),(u=this.options_)!=null&&u.bound&&s(function(){var c=this,h=c[r].bind(c);h.isMobxAction=!0,c[r]=h}),e}ft("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function dx(e,t,n,r){t.annotationType_,r.value}function Nb(e,t,n,r,s){var o,a,u,c,h,d,p;s===void 0&&(s=Ue.safeDescriptors),dx(e,t,n,r);var m=r.value;if((o=t.options_)!=null&&o.bound){var g;m=m.bind((g=e.proxy_)!=null?g:e.target_)}return{value:Bo((a=(u=t.options_)==null?void 0:u.name)!=null?a:n.toString(),m,(c=(h=t.options_)==null?void 0:h.autoAction)!=null?c:!1,(d=t.options_)!=null&&d.bound?(p=e.proxy_)!=null?p:e.target_:void 0),configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function Lb(e,t){return{annotationType_:e,options_:t,make_:px,extend_:mx,decorate_20223_:gx}}function px(e,t,n,r){var s;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!fi(e.target_,t)||!il(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(il(n.value))return 1;var o=Db(e,this,t,n,!1,!1);return Wr(r,t,o),2}function mx(e,t,n,r){var s,o=Db(e,this,t,n,(s=this.options_)==null?void 0:s.bound);return e.defineProperty_(t,o,r)}function gx(e,t){var n,r=t.name,s=t.addInitializer;return il(e)||(e=Us(e)),(n=this.options_)!=null&&n.bound&&s(function(){var o=this,a=o[r].bind(o);a.isMobXFlow=!0,o[r]=a}),e}function _x(e,t,n,r){t.annotationType_,r.value}function Db(e,t,n,r,s,o){o===void 0&&(o=Ue.safeDescriptors),_x(e,t,n,r);var a=r.value;if(il(a)||(a=Us(a)),s){var u;a=a.bind((u=e.proxy_)!=null?u:e.target_),a.isMobXFlow=!0}return{value:a,configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function zm(e,t){return{annotationType_:e,options_:t,make_:vx,extend_:yx,decorate_20223_:bx}}function vx(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function yx(e,t,n,r){return Sx(e,this,t,n),e.defineComputedProperty_(t,Lo({},this.options_,{get:n.get,set:n.set}),r)}function bx(e,t){var n=this,r=t.name,s=t.addInitializer;return s(function(){var o=Wo(this)[tt],a=Lo({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+r.toString()),o.values_.set(r,new Er(a))}),function(){return this[tt].getObservablePropValue_(r)}}function Sx(e,t,n,r){t.annotationType_,r.get}function Uc(e,t){return{annotationType_:e,options_:t,make_:Ex,extend_:kx,decorate_20223_:Ax}}function Ex(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function kx(e,t,n,r){var s,o;return xx(e,this),e.defineObservableProperty_(t,n.value,(s=(o=this.options_)==null?void 0:o.enhancer)!=null?s:Do,r)}function Ax(e,t){var n=this,r=t.kind,s=t.name,o=new WeakSet;function a(u,c){var h,d,p=Wo(u)[tt],m=new Ao(c,(h=(d=n.options_)==null?void 0:d.enhancer)!=null?h:Do,"ObservableObject."+s.toString(),!1);p.values_.set(s,m),o.add(u)}if(r=="accessor")return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[tt].getObservablePropValue_(s)},set:function(c){return o.has(this)||a(this,c),this[tt].setObservablePropValue_(s,c)},init:function(c){return o.has(this)||a(this,c),c}}}function xx(e,t,n,r){t.annotationType_}var Px="true",Tx=Bb();function Bb(e){return{annotationType_:Px,options_:e,make_:Cx,extend_:Mx,decorate_20223_:Ix}}function Cx(e,t,n,r){var s,o;if(n.get)return Kn.make_(e,t,n,r);if(n.set){var a=Bo(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:Ue.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(Wr(r,t,{configurable:!0,set:a}),2)}if(r!==e.target_&&typeof n.value=="function"){var u;if(Tb(n.value)){var c,h=(c=this.options_)!=null&&c.autoBind?Us.bound:Us;return h.make_(e,t,n,r)}var d=(u=this.options_)!=null&&u.autoBind?nl.bound:nl;return d.make_(e,t,n,r)}var p=((s=this.options_)==null?void 0:s.deep)===!1?Ie.ref:Ie;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var m;n.value=n.value.bind((m=e.proxy_)!=null?m:e.target_)}return p.make_(e,t,n,r)}function Mx(e,t,n,r){var s,o;if(n.get)return Kn.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:Ue.safeDescriptors?e.isPlainObject_:!0,set:Bo(t.toString(),n.set)},r);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var u=((o=this.options_)==null?void 0:o.deep)===!1?Ie.ref:Ie;return u.extend_(e,t,n,r)}function Ix(e,t){ft("'"+this.annotationType_+"' cannot be used as a decorator")}var Ox="observable",Rx="observable.ref",Nx="observable.shallow",Lx="observable.struct",jb={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(jb);function nu(e){return e||jb}var hd=Uc(Ox),Dx=Uc(Rx,{enhancer:jc}),Bx=Uc(Nx,{enhancer:sx}),jx=Uc(Lx,{enhancer:ax}),Ub=Vr(hd);function ru(e){return e.deep===!0?Do:e.deep===!1?jc:zx(e.defaultDecorator)}function Ux(e){var t;return e?(t=e.defaultDecorator)!=null?t:Bb(e):void 0}function zx(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Do}function zb(e,t,n){if(dl(t))return hd.decorate_20223_(e,t);if(No(t)){fl(e,t,hd);return}return lw(e)?e:vi(e)?Ie.object(e,t,n):Array.isArray(e)?Ie.array(e,t):Vs(e)?Ie.map(e,t):ai(e)?Ie.set(e,t):typeof e=="object"&&e!==null?e:Ie.box(e,t)}Ab(zb,Ub);var Fx={box:function(t,n){var r=nu(n);return new Ao(t,ru(r),r.name,!0,r.equals)},array:function(t,n){var r=nu(n);return(Ue.useProxies===!1||r.proxy===!1?DP:xP)(t,ru(r),r.name)},map:function(t,n){var r=nu(n);return new hw(t,ru(r),r.name)},set:function(t,n){var r=nu(n);return new fw(t,ru(r),r.name)},object:function(t,n,r){return no(function(){return ow(Ue.useProxies===!1||(r==null?void 0:r.proxy)===!1?Wo({},r):EP({},r),t,n)})},ref:Vr(Dx),shallow:Vr(Bx),deep:Ub,struct:Vr(jx)},Ie=Ab(zb,Fx),Fb="computed",$x="computed.struct",fd=zm(Fb),Wx=zm($x,{equals:js.structural}),Kn=function(t,n){if(dl(n))return fd.decorate_20223_(t,n);if(No(n))return fl(t,n,fd);if(vi(t))return Vr(zm(Fb,t));var r=vi(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Er(r)};Object.assign(Kn,fd);Kn.struct=Vr(Wx);var ov,sv,sc=0,Vx=1,Hx=(ov=(sv=oc(function(){},"name"))==null?void 0:sv.configurable)!=null?ov:!1,av={value:"action",configurable:!0,writable:!1,enumerable:!1};function Bo(e,t,n,r){n===void 0&&(n=!1);function s(){return $b(e,n,t,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return t.toString()},Hx&&(av.value=e,Wr(s,"name",av)),s}function $b(e,t,n,r,s){var o=Gx(e,t);try{return n.apply(r,s)}catch(a){throw o.error_=a,a}finally{Zx(o)}}function Gx(e,t,n,r){var s=!1,o=0,a=Ue.trackingDerivation,u=!t||!a;tr();var c=Ue.allowStateChanges;u&&(Fo(),c=zc(!0));var h=Fm(!0),d={runAsAction_:u,prevDerivation_:a,prevAllowStateChanges_:c,prevAllowStateReads_:h,notifySpy_:s,startTime_:o,actionId_:Vx++,parentActionId_:sc};return sc=d.actionId_,d}function Zx(e){sc!==e.actionId_&&ft(30),sc=e.parentActionId_,e.error_!==void 0&&(Ue.suppressReactionErrors=!0),Fc(e.prevAllowStateChanges_),La(e.prevAllowStateReads_),nr(),e.runAsAction_&&di(e.prevDerivation_),Ue.suppressReactionErrors=!1}function qx(e,t){var n=zc(e);try{return t()}finally{Fc(n)}}function zc(e){var t=Ue.allowStateChanges;return Ue.allowStateChanges=e,t}function Fc(e){Ue.allowStateChanges=e}var Ao=function(e){function t(r,s,o,a,u){var c;return o===void 0&&(o="ObservableValue"),u===void 0&&(u=js.default),c=e.call(this,o)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=s,c.name_=o,c.equals=u,c.value_=s(r,void 0,o),c}Ob(t,e);var n=t.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==Ue.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(Xn(this)){var o=Jn(this,{object:this,type:Hr,newValue:s});if(!o)return Ue.UNCHANGED;s=o.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?Ue.UNCHANGED:s},n.setNewValue_=function(s){var o=this.value_;this.value_=s,this.reportChanged(),yr(this)&&br(this,{type:Hr,object:this,newValue:s,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return ml(this,s)},n.observe_=function(s,o){return o&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:Hr,newValue:this.value_,oldValue:void 0}),gl(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Ib(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(to),Er=function(){function e(n){this.dependenciesState_=mt.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=mt.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new lc(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ac.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||ft(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Bo("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?js.structural:js.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){Jx(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&ft(32,this.name_,this.derivation),Ue.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)dd(this)&&(this.warnAboutUntrackedRead_(),tr(),this.value_=this.computeValue_(!1),nr());else if(Kb(this),dd(this)){var r=Ue.trackingContext;this.keepAlive_&&!r&&(Ue.trackingContext=this),this.trackAndCompute()&&Xx(this),Ue.trackingContext=r}var s=this.value_;if(ku(s))throw s.cause;return s},t.set=function(r){if(this.setter_){this.isRunningSetter&&ft(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else ft(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===mt.NOT_TRACKING_,o=this.computeValue_(!0),a=s||ku(r)||ku(o)||!this.equals_(r,o);return a&&(this.value_=o),a},t.computeValue_=function(r){this.isComputing=!0;var s=zc(!1),o;if(r)o=Wb(this,this.derivation,this.scope_);else if(Ue.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(a){o=new lc(a)}return Fc(s),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(pd(this),this.value_=void 0)},t.observe_=function(r,s){var o=this,a=!0,u=void 0;return lP(function(){var c=o.get();if(!a||s){var h=Fo();r({observableKind:"computed",debugObjectName:o.name_,type:Hr,object:o,newValue:c,oldValue:u}),di(h)}a=!1,u=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Ib(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Hs(e,[{key:"isComputing",get:function(){return Dn(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Dn(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Dn(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Dn(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Dn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Bn(this.flags_,e.diffValueMask_,r===1)}}])}();Er.isComputingMask_=1;Er.isRunningSetterMask_=2;Er.isBeingObservedMask_=4;Er.isPendingUnobservationMask_=8;Er.diffValueMask_=16;var $c=zo("ComputedValue",Er),mt;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(mt||(mt={}));var ac;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(ac||(ac={}));var lc=function(t){this.cause=void 0,this.cause=t};function ku(e){return e instanceof lc}function dd(e){switch(e.dependenciesState_){case mt.UP_TO_DATE_:return!1;case mt.NOT_TRACKING_:case mt.STALE_:return!0;case mt.POSSIBLY_STALE_:{for(var t=Fm(!0),n=Fo(),r=e.observing_,s=r.length,o=0;o<s;o++){var a=r[o];if($c(a)){if(Ue.disableErrorBoundaries)a.get();else try{a.get()}catch{return di(n),La(t),!0}if(e.dependenciesState_===mt.STALE_)return di(n),La(t),!0}}return Hb(e),di(n),La(t),!1}}}function Wb(e,t,n){var r=Fm(!0);Hb(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Ue.runId;var s=Ue.trackingDerivation;Ue.trackingDerivation=e,Ue.inBatch++;var o;if(Ue.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(a){o=new lc(a)}return Ue.inBatch--,Ue.trackingDerivation=s,Kx(e),La(r),o}function Kx(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=mt.UP_TO_DATE_,s=0,o=e.unboundDepsCount_,a=0;a<o;a++){var u=n[a];u.diffValue===0&&(u.diffValue=1,s!==a&&(n[s]=u),s++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=s,e.newObserving_=null,o=t.length;o--;){var c=t[o];c.diffValue===0&&Zb(c,e),c.diffValue=0}for(;s--;){var h=n[s];h.diffValue===1&&(h.diffValue=0,Qx(h,e))}r!==mt.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function pd(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Zb(t[n],e);e.dependenciesState_=mt.NOT_TRACKING_}function Vb(e){var t=Fo();try{return e()}finally{di(t)}}function Fo(){var e=Ue.trackingDerivation;return Ue.trackingDerivation=null,e}function di(e){Ue.trackingDerivation=e}function Fm(e){var t=Ue.allowStateReads;return Ue.allowStateReads=e,t}function La(e){Ue.allowStateReads=e}function Hb(e){if(e.dependenciesState_!==mt.UP_TO_DATE_){e.dependenciesState_=mt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=mt.UP_TO_DATE_}}var Au=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},xu=!0,Gb=!1,Ue=function(){var e=Lc();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(xu=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Au().version&&(xu=!1),xu?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Au):(setTimeout(function(){Gb||ft(35)},1),new Au)}();function Yx(){if((Ue.pendingReactions.length||Ue.inBatch||Ue.isRunningReactions)&&ft(36),Gb=!0,xu){var e=Lc();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),Ue=new Au}}function Qx(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Zb(e,t){e.observers_.delete(t),e.observers_.size===0&&qb(e)}function qb(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,Ue.pendingUnobservations.push(e))}function tr(){Ue.inBatch++}function nr(){if(--Ue.inBatch===0){Qb();for(var e=Ue.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Er&&n.suspend_())}Ue.pendingUnobservations=[]}}function Kb(e){var t=Ue.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Ue.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&Ue.inBatch>0&&qb(e),!1)}function Yb(e){e.lowestObserverState_!==mt.STALE_&&(e.lowestObserverState_=mt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===mt.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=mt.STALE_}))}function Xx(e){e.lowestObserverState_!==mt.STALE_&&(e.lowestObserverState_=mt.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===mt.POSSIBLY_STALE_?t.dependenciesState_=mt.STALE_:t.dependenciesState_===mt.UP_TO_DATE_&&(e.lowestObserverState_=mt.UP_TO_DATE_)}))}function Jx(e){e.lowestObserverState_===mt.UP_TO_DATE_&&(e.lowestObserverState_=mt.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===mt.UP_TO_DATE_&&(t.dependenciesState_=mt.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Gr=function(){function e(n,r,s,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=mt.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=ac.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,Ue.pendingReactions.push(this),Qb())},t.runReaction_=function(){if(!this.isDisposed){tr(),this.isScheduled=!1;var r=Ue.trackingContext;if(Ue.trackingContext=this,dd(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}Ue.trackingContext=r,nr()}},t.track=function(r){if(!this.isDisposed){tr(),this.isRunning=!0;var s=Ue.trackingContext;Ue.trackingContext=this;var o=Wb(this,r,void 0);Ue.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&pd(this),ku(o)&&this.reportExceptionInDerivation_(o.cause),nr()}},t.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(Ue.disableErrorBoundaries)throw r;var o="[mobx] uncaught error in '"+this+"'";Ue.suppressReactionErrors||console.error(o,r),Ue.globalReactionErrorHandlers.forEach(function(a){return a(r,s)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(tr(),pd(this),nr()))},t.getDisposer_=function(r){var s=this,o=function a(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",o),o[tt]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Hs(e,[{key:"isDisposed",get:function(){return Dn(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Dn(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Dn(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Dn(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Bn(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Dn(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Bn(this.flags_,e.diffValueMask_,r===1)}}])}();Gr.isDisposedMask_=1;Gr.isScheduledMask_=2;Gr.isTrackPendingMask_=4;Gr.isRunningMask_=8;Gr.diffValueMask_=16;var eP=100,md=function(t){return t()};function Qb(){Ue.inBatch>0||Ue.isRunningReactions||md(tP)}function tP(){Ue.isRunningReactions=!0;for(var e=Ue.pendingReactions,t=0;e.length>0;){++t===eP&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,s=n.length;r<s;r++)n[r].runReaction_()}Ue.isRunningReactions=!1}var uc=zo("Reaction",Gr);function nP(e){var t=md;md=function(r){return e(function(){return t(r)})}}function Da(){return!1}function rP(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Xb="action",iP="action.bound",Jb="autoAction",oP="autoAction.bound",ew="<unnamed action>",gd=pl(Xb),sP=pl(iP,{bound:!0}),_d=pl(Jb,{autoAction:!0}),aP=pl(oP,{autoAction:!0,bound:!0});function tw(e){var t=function(r,s){if(Sr(r))return Bo(r.name||ew,r,e);if(Sr(s))return Bo(r,s,e);if(dl(s))return(e?_d:gd).decorate_20223_(r,s);if(No(s))return fl(r,s,e?_d:gd);if(No(r))return Vr(pl(e?Jb:Xb,{name:r,autoAction:e}))};return t}var kt=tw(!1);Object.assign(kt,gd);var nl=tw(!0);Object.assign(nl,_d);kt.bound=Vr(sP);nl.bound=Vr(aP);function lv(e){return $b(e.name||ew,!1,e,this,void 0)}function rl(e){return Sr(e)&&e.isMobxAction===!0}function lP(e,t){var n,r,s,o;t===void 0&&(t=jm);var a=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",u=!t.scheduler&&!t.delay,c;if(u)c=new Gr(a,function(){this.track(p)},t.onError,t.requiresObservable);else{var h=nw(t),d=!1;c=new Gr(a,function(){d||(d=!0,h(function(){d=!1,c.isDisposed||c.track(p)}))},t.onError,t.requiresObservable)}function p(){e(c)}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((o=t)==null?void 0:o.signal)}var uP=function(t){return t()};function nw(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:uP}function cc(e,t,n){var r,s,o;n===void 0&&(n=jm);var a=(r=n.name)!=null?r:"Reaction",u=kt(a,n.onError?cP(n.onError,t):t),c=!n.scheduler&&!n.delay,h=nw(n),d=!0,p=!1,m,g=n.compareStructural?js.structural:n.equals||js.default,w=new Gr(a,function(){d||c?x():p||(p=!0,h(x))},n.onError,n.requiresObservable);function x(){if(p=!1,!w.isDisposed){var P=!1,A=m;w.track(function(){var y=qx(!1,function(){return e(w)});P=d||!g(m,y),m=y}),(d&&n.fireImmediately||!d&&P)&&u(m,A,w),d=!1}}return(s=n)!=null&&(s=s.signal)!=null&&s.aborted||w.schedule_(),w.getDisposer_((o=n)==null?void 0:o.signal)}function cP(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var hP="onBO",fP="onBUO";function dP(e,t,n){return iw(hP,e,t,n)}function rw(e,t,n){return iw(fP,e,t,n)}function iw(e,t,n,r){var s=dc(t),o=Sr(r)?r:n,a=e+"L";return s[a]?s[a].add(o):s[a]=new Set([o]),function(){var u=s[a];u&&(u.delete(o),u.size===0&&delete s[a])}}var pP="never",iu="always",mP="observed";function gP(e){e.isolateGlobalState===!0&&Yx();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(Ue.useProxies=t===iu?!0:t===pP?!1:typeof Proxy<"u"),t==="ifavailable"&&(Ue.verifyProxies=!0),n!==void 0){var r=n===iu?iu:n===mP;Ue.enforceActions=r,Ue.allowStateChanges=!(r===!0||r===iu)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in e&&(Ue[s]=!!e[s])}),Ue.allowStateReads=!Ue.observableRequiresReaction,e.reactionScheduler&&nP(e.reactionScheduler)}function ow(e,t,n,r){var s=XA(t);return no(function(){var o=Wo(e,r)[tt];Bs(s).forEach(function(a){o.extend_(a,s[a],n&&a in n?n[a]:!0)})}),e}function _P(e,t){return sw(dc(e,t))}function sw(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=vP(e.observing_).map(sw)),t}function vP(e){return Array.from(new Set(e))}var yP=0;function aw(){this.message="FLOW_CANCELLED"}aw.prototype=Object.create(Error.prototype);var Kh=Lb("flow"),bP=Lb("flow.bound",{bound:!0}),Us=Object.assign(function(t,n){if(dl(n))return Kh.decorate_20223_(t,n);if(No(n))return fl(t,n,Kh);var r=t,s=r.name||"<unnamed flow>",o=function(){var u=this,c=arguments,h=++yP,d=kt(s+" - runid: "+h+" - init",r).apply(u,c),p,m=void 0,g=new Promise(function(w,x){var P=0;p=x;function A(I){m=void 0;var R;try{R=kt(s+" - runid: "+h+" - yield "+P++,d.next).call(d,I)}catch(T){return x(T)}S(R)}function y(I){m=void 0;var R;try{R=kt(s+" - runid: "+h+" - yield "+P++,d.throw).call(d,I)}catch(T){return x(T)}S(R)}function S(I){if(Sr(I==null?void 0:I.then)){I.then(S,x);return}return I.done?w(I.value):(m=Promise.resolve(I.value),m.then(A,y))}A(void 0)});return g.cancel=kt(s+" - runid: "+h+" - cancel",function(){try{m&&uv(m);var w=d.return(void 0),x=Promise.resolve(w.value);x.then(Ss,Ss),uv(x),p(new aw)}catch(P){p(P)}}),g};return o.isMobXFlow=!0,o},Kh);Us.bound=Vr(bP);function uv(e){Sr(e.cancel)&&e.cancel()}function il(e){return(e==null?void 0:e.isMobXFlow)===!0}function wP(e,t){return e?Vc(e)||!!e[tt]||Um(e)||uc(e)||$c(e):!1}function lw(e){return wP(e)}function li(e,t){t===void 0&&(t=void 0),tr();try{return e.apply(t)}finally{nr()}}function ss(e){return e[tt]}var SP={has:function(t,n){return ss(t).has_(n)},get:function(t,n){return ss(t).get_(n)},set:function(t,n,r){var s;return No(n)?(s=ss(t).set_(n,r,!0))!=null?s:!0:!1},deleteProperty:function(t,n){var r;return No(n)?(r=ss(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var s;return(s=ss(t).defineProperty_(n,r))!=null?s:!0},ownKeys:function(t){return ss(t).ownKeys_()},preventExtensions:function(t){ft(13)}};function EP(e,t){var n,r;return xb(),e=Wo(e,t),(r=(n=e[tt]).proxy_)!=null?r:n.proxy_=new Proxy(e,SP)}function Xn(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function ml(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Pb(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Jn(e,t){var n=Fo();try{for(var r=[].concat(e.interceptors_||[]),s=0,o=r.length;s<o&&(t=r[s](t),t&&!t.type&&ft(14),!!t);s++);return t}finally{di(n)}}function yr(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function gl(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Pb(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function br(e,t){var n=Fo(),r=e.changeListeners_;if(r){r=r.slice();for(var s=0,o=r.length;s<o;s++)r[s](t);di(n)}}function _l(e,t,n){return no(function(){var r,s=Wo(e,n)[tt];(r=t)!=null||(t=rx(e)),Bs(t).forEach(function(o){return s.make_(o,t[o])})}),e}var Yh=Symbol("mobx-keys");function uw(e,t,n){return vi(e)?ow(e,e,t,n):(no(function(){var r=Wo(e,n)[tt];if(!e[Yh]){var s=Object.getPrototypeOf(e),o=new Set([].concat(Bs(e),Bs(s)));o.delete("constructor"),o.delete(tt),hl(s,Yh,o)}e[Yh].forEach(function(a){return r.make_(a,t&&a in t?t[a]:!0)})}),e)}var cv="splice",Hr="update",kP=1e4,AP={get:function(t,n){var r=t[tt];return n===tt?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):fi(hc,n)?hc[n]:t[n]},set:function(t,n,r){var s=t[tt];return n==="length"&&s.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:s.set_(parseInt(n),r),!0},preventExtensions:function(){ft(15)}},$m=function(){function e(n,r,s,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=o,this.atom_=new to(n),this.enhancer_=function(a,u){return r(a,u,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return ml(this,r)},t.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),gl(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&ft("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var o=new Array(r-s),a=0;a<r-s;a++)o[a]=void 0;this.spliceWithArray_(s,0,o)}else this.spliceWithArray_(r,s-r)},t.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&ft(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&gw(r+s+1)},t.spliceWithArray_=function(r,s,o){var a=this;this.atom_;var u=this.values_.length;if(r===void 0?r=0:r>u?r=u:r<0&&(r=Math.max(0,u+r)),arguments.length===1?s=u-r:s==null?s=0:s=Math.max(0,Math.min(s,u-r)),o===void 0&&(o=ud),Xn(this)){var c=Jn(this,{object:this.proxy_,type:cv,index:r,removedCount:s,added:o});if(!c)return ud;s=c.removedCount,o=c.added}if(o=o.length===0?o:o.map(function(p){return a.enhancer_(p,void 0)}),this.legacyMode_){var h=o.length-s;this.updateArrayLength_(u,h)}var d=this.spliceItemsIntoValues_(r,s,o);return(s!==0||o.length!==0)&&this.notifyArraySplice_(r,o,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,s,o){if(o.length<kP){var a;return(a=this.values_).splice.apply(a,[r,s].concat(o))}else{var u=this.values_.slice(r,r+s),c=this.values_.slice(r+s);this.values_.length+=o.length-s;for(var h=0;h<o.length;h++)this.values_[r+h]=o[h];for(var d=0;d<c.length;d++)this.values_[r+o.length+d]=c[d];return u}},t.notifyArrayChildUpdate_=function(r,s,o){var a=!this.owned_&&Da(),u=yr(this),c=u||a?{observableKind:"array",object:this.proxy_,type:Hr,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:o}:null;this.atom_.reportChanged(),u&&br(this,c)},t.notifyArraySplice_=function(r,s,o){var a=!this.owned_&&Da(),u=yr(this),c=u||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:cv,index:r,removed:o,added:s,removedCount:o.length,addedCount:s.length}:null;this.atom_.reportChanged(),u&&br(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,s){var o=this.values_;if(this.legacyMode_&&r>o.length&&ft(17,r,o.length),r<o.length){this.atom_;var a=o[r];if(Xn(this)){var u=Jn(this,{type:Hr,object:this.proxy_,index:r,newValue:s});if(!u)return;s=u.newValue}s=this.enhancer_(s,a);var c=s!==a;c&&(o[r]=s,this.notifyArrayChildUpdate_(r,s,a))}else{for(var h=new Array(r+1-o.length),d=0;d<h.length-1;d++)h[d]=void 0;h[h.length-1]=s,this.spliceWithArray_(o.length,0,h)}},e}();function xP(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),xb(),no(function(){var s=new $m(n,t,r,!1);Cb(s.values_,tt,s);var o=new Proxy(s.values_,AP);return s.proxy_=o,e&&e.length&&s.spliceWithArray_(0,0,e),o})}var hc={clear:function(){return this.splice(0)},replace:function(t){var n=this[tt];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];var a=this[tt];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,s)},spliceWithArray:function(t,n,r){return this[tt].spliceWithArray_(t,n,r)},push:function(){for(var t=this[tt],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[tt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[tt],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return Ue.trackingDerivation&&ft(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Ue.trackingDerivation&&ft(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[tt],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Pt("at",Wn);Pt("concat",Wn);Pt("flat",Wn);Pt("includes",Wn);Pt("indexOf",Wn);Pt("join",Wn);Pt("lastIndexOf",Wn);Pt("slice",Wn);Pt("toString",Wn);Pt("toLocaleString",Wn);Pt("toSorted",Wn);Pt("toSpliced",Wn);Pt("with",Wn);Pt("every",kr);Pt("filter",kr);Pt("find",kr);Pt("findIndex",kr);Pt("findLast",kr);Pt("findLastIndex",kr);Pt("flatMap",kr);Pt("forEach",kr);Pt("map",kr);Pt("some",kr);Pt("toReversed",kr);Pt("reduce",cw);Pt("reduceRight",cw);function Pt(e,t){typeof Array.prototype[e]=="function"&&(hc[e]=t(e))}function Wn(e){return function(){var t=this[tt];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function kr(e){return function(t,n){var r=this,s=this[tt];s.atom_.reportObserved();var o=s.dehanceValues_(s.values_);return o[e](function(a,u){return t.call(n,a,u,r)})}}function cw(e){return function(){var t=this,n=this[tt];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(o,a,u){return s(o,a,u,t)},r[e].apply(r,arguments)}}var PP=zo("ObservableArrayAdministration",$m);function Wc(e){return Bc(e)&&PP(e[tt])}var TP={},zi="add",fc="delete",hw=function(){function e(n,r,s){var o=this;r===void 0&&(r=Do),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[tt]=TP,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,Sr(Map)||ft(18),no(function(){o.keysAtom_=Rb("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var s=this;if(!Ue.trackingDerivation)return this.has_(r);var o=this.hasMap_.get(r);if(!o){var a=o=new Ao(this.has_(r),jc,"ObservableMap.key?",!1);this.hasMap_.set(r,a),rw(a,function(){return s.hasMap_.delete(r)})}return o.get()},t.set=function(r,s){var o=this.has_(r);if(Xn(this)){var a=Jn(this,{type:o?Hr:zi,object:this,newValue:s,name:r});if(!a)return this;s=a.newValue}return o?this.updateValue_(r,s):this.addValue_(r,s),this},t.delete=function(r){var s=this;if(this.keysAtom_,Xn(this)){var o=Jn(this,{type:fc,object:this,name:r});if(!o)return!1}if(this.has_(r)){var a=Da(),u=yr(this),c=u||a?{observableKind:"map",debugObjectName:this.name_,type:fc,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return li(function(){var h;s.keysAtom_.reportChanged(),(h=s.hasMap_.get(r))==null||h.setNewValue_(!1);var d=s.data_.get(r);d.setNewValue_(void 0),s.data_.delete(r)}),u&&br(this,c),!0}return!1},t.updateValue_=function(r,s){var o=this.data_.get(r);if(s=o.prepareNewValue_(s),s!==Ue.UNCHANGED){var a=Da(),u=yr(this),c=u||a?{observableKind:"map",debugObjectName:this.name_,type:Hr,object:this,oldValue:o.value_,name:r,newValue:s}:null;o.setNewValue_(s),u&&br(this,c)}},t.addValue_=function(r,s){var o=this;this.keysAtom_,li(function(){var h,d=new Ao(s,o.enhancer_,"ObservableMap.key",!1);o.data_.set(r,d),s=d.value_,(h=o.hasMap_.get(r))==null||h.setNewValue_(!0),o.keysAtom_.reportChanged()});var a=Da(),u=yr(this),c=u||a?{observableKind:"map",debugObjectName:this.name_,type:zi,object:this,name:r,newValue:s}:null;u&&br(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,s=this.keys();return hv({next:function(){var a=s.next(),u=a.done,c=a.value;return{done:u,value:u?void 0:r.get(c)}}})},t.entries=function(){var r=this,s=this.keys();return hv({next:function(){var a=s.next(),u=a.done,c=a.value;return{done:u,value:u?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,s){for(var o=Es(this),a;!(a=o()).done;){var u=a.value,c=u[0],h=u[1];r.call(s,h,c,this)}},t.merge=function(r){var s=this;return $o(r)&&(r=new Map(r)),li(function(){vi(r)?QA(r).forEach(function(o){return s.set(o,r[o])}):Array.isArray(r)?r.forEach(function(o){var a=o[0],u=o[1];return s.set(a,u)}):Vs(r)?(YA(r)||ft(19,r),r.forEach(function(o,a){return s.set(a,o)})):r!=null&&ft(20,r)}),this},t.clear=function(){var r=this;li(function(){Vb(function(){for(var s=Es(r.keys()),o;!(o=s()).done;){var a=o.value;r.delete(a)}})})},t.replace=function(r){var s=this;return li(function(){for(var o=CP(r),a=new Map,u=!1,c=Es(s.data_.keys()),h;!(h=c()).done;){var d=h.value;if(!o.has(d)){var p=s.delete(d);if(p)u=!0;else{var m=s.data_.get(d);a.set(d,m)}}}for(var g=Es(o.entries()),w;!(w=g()).done;){var x=w.value,P=x[0],A=x[1],y=s.data_.has(P);if(s.set(P,A),s.data_.has(P)){var S=s.data_.get(P);a.set(P,S),y||(u=!0)}}if(!u)if(s.data_.size!==a.size)s.keysAtom_.reportChanged();else for(var I=s.data_.keys(),R=a.keys(),T=I.next(),C=R.next();!T.done;){if(T.value!==C.value){s.keysAtom_.reportChanged();break}T=I.next(),C=R.next()}s.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,s){return gl(this,r)},t.intercept_=function(r){return ml(this,r)},Hs(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),$o=zo("ObservableMap",hw);function hv(e){return e[Symbol.toStringTag]="MapIterator",Vm(e)}function CP(e){if(Vs(e)||$o(e))return e;if(Array.isArray(e))return new Map(e);if(vi(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return ft(21,e)}var MP={},fw=function(){function e(n,r,s){var o=this;r===void 0&&(r=Do),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[tt]=MP,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,Sr(Set)||ft(22),this.enhancer_=function(a,u){return r(a,u,s)},no(function(){o.atom_=Rb(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;li(function(){Vb(function(){for(var s=Es(r.data_.values()),o;!(o=s()).done;){var a=o.value;r.delete(a)}})})},t.forEach=function(r,s){for(var o=Es(this),a;!(a=o()).done;){var u=a.value;r.call(s,u,u,this)}},t.add=function(r){var s=this;if(this.atom_,Xn(this)){var o=Jn(this,{type:zi,object:this,newValue:r});if(!o)return this;r=o.newValue}if(!this.has(r)){li(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var a=!1,u=yr(this),c=u||a?{observableKind:"set",debugObjectName:this.name_,type:zi,object:this,newValue:r}:null;u&&br(this,c)}return this},t.delete=function(r){var s=this;if(Xn(this)){var o=Jn(this,{type:fc,object:this,oldValue:r});if(!o)return!1}if(this.has(r)){var a=!1,u=yr(this),c=u||a?{observableKind:"set",debugObjectName:this.name_,type:fc,object:this,oldValue:r}:null;return li(function(){s.atom_.reportChanged(),s.data_.delete(r)}),u&&br(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return fv({next:function(){var o=r.next(),a=o.value,u=o.done;return u?{value:void 0,done:u}:{value:[a,a],done:u}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,s=this.data_.values();return fv({next:function(){var a=s.next(),u=a.value,c=a.done;return c?{value:void 0,done:c}:{value:r.dehanceValue_(u),done:c}}})},t.intersection=function(r){if(ai(r)&&!Br(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},t.union=function(r){if(ai(r)&&!Br(r))return r.union(this);var s=new Set(this);return s.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(ai(r)&&!Br(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(ai(r)&&!Br(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},t.replace=function(r){var s=this;return Br(r)&&(r=new Set(r)),li(function(){Array.isArray(r)?(s.clear(),r.forEach(function(o){return s.add(o)})):ai(r)?(s.clear(),r.forEach(function(o){return s.add(o)})):r!=null&&ft("Cannot initialize set from "+r)}),this},t.observe_=function(r,s){return gl(this,r)},t.intercept_=function(r){return ml(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Hs(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Br=zo("ObservableSet",fw);function fv(e){return e[Symbol.toStringTag]="SetIterator",Vm(e)}var dv=Object.create(null),pv="remove",dw=function(){function e(n,r,s,o){r===void 0&&(r=new Map),o===void 0&&(o=Tx),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=s,this.defaultAnnotation_=o,this.keysAtom_=new to("ObservableObject.keys"),this.isPlainObject_=vi(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,s){var o=this.values_.get(r);if(o instanceof Er)return o.set(s),!0;if(Xn(this)){var a=Jn(this,{type:Hr,object:this.proxy_||this.target_,name:r,newValue:s});if(!a)return null;s=a.newValue}if(s=o.prepareNewValue_(s),s!==Ue.UNCHANGED){var u=yr(this),c=!1,h=u||c?{type:Hr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:r,newValue:s}:null;o.setNewValue_(s),u&&br(this,h)}return!0},t.get_=function(r){return Ue.trackingDerivation&&!fi(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,s,o){return o===void 0&&(o=!1),fi(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):o?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(r){if(!Ue.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Ao(r in this.target_,jc,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},t.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var o;if((o=this.target_[jr])!=null&&o[r])return;ft(1,s.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==Dc;){var u=oc(a,r);if(u){var c=s.make_(this,r,u,a);if(c===0)return;if(c===1)break}a=Object.getPrototypeOf(a)}gv(this,s,r)}},t.extend_=function(r,s,o,a){if(a===void 0&&(a=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(r,s,a);var u=o.extend_(this,r,s,a);return u&&gv(this,o,r),u},t.defineProperty_=function(r,s,o){o===void 0&&(o=!1),this.keysAtom_;try{tr();var a=this.delete_(r);if(!a)return a;if(Xn(this)){var u=Jn(this,{object:this.proxy_||this.target_,name:r,type:zi,newValue:s.value});if(!u)return null;var c=u.newValue;s.value!==c&&(s=Lo({},s,{value:c}))}if(o){if(!Reflect.defineProperty(this.target_,r,s))return!1}else Wr(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{nr()}return!0},t.defineObservableProperty_=function(r,s,o,a){a===void 0&&(a=!1),this.keysAtom_;try{tr();var u=this.delete_(r);if(!u)return u;if(Xn(this)){var c=Jn(this,{object:this.proxy_||this.target_,name:r,type:zi,newValue:s});if(!c)return null;s=c.newValue}var h=mv(r),d={configurable:Ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:h.get,set:h.set};if(a){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Wr(this.target_,r,d);var p=new Ao(s,o,"ObservableObject.key",!1);this.values_.set(r,p),this.notifyPropertyAddition_(r,p.value_)}finally{nr()}return!0},t.defineComputedProperty_=function(r,s,o){o===void 0&&(o=!1),this.keysAtom_;try{tr();var a=this.delete_(r);if(!a)return a;if(Xn(this)){var u=Jn(this,{object:this.proxy_||this.target_,name:r,type:zi,newValue:void 0});if(!u)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var c=mv(r),h={configurable:Ue.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,r,h))return!1}else Wr(this.target_,r,h);this.values_.set(r,new Er(s)),this.notifyPropertyAddition_(r,void 0)}finally{nr()}return!0},t.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!fi(this.target_,r))return!0;if(Xn(this)){var o=Jn(this,{object:this.proxy_||this.target_,name:r,type:pv});if(!o)return null}try{var a;tr();var u=yr(this),c=!1,h=this.values_.get(r),d=void 0;if(!h&&(u||c)){var p;d=(p=oc(this.target_,r))==null?void 0:p.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(h&&(this.values_.delete(r),h instanceof Ao&&(d=h.value_),Yb(h)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(r))==null||a.set(r in this.target_),u||c){var m={type:pv,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};u&&br(this,m)}}finally{nr()}return!0},t.observe_=function(r,s){return gl(this,r)},t.intercept_=function(r){return ml(this,r)},t.notifyPropertyAddition_=function(r,s){var o,a=yr(this),u=!1;if(a||u){var c=a||u?{type:zi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;a&&br(this,c)}(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Bs(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Wo(e,t){var n;if(fi(e,tt))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",s=new dw(e,new Map,String(r),Ux(t));return hl(e,tt,s),e}var IP=zo("ObservableObjectAdministration",dw);function mv(e){return dv[e]||(dv[e]={get:function(){return this[tt].getObservablePropValue_(e)},set:function(n){return this[tt].setObservablePropValue_(e,n)}})}function Vc(e){return Bc(e)?IP(e[tt]):!1}function gv(e,t,n){var r;(r=e.target_[jr])==null||delete r[n]}var OP=mw(0),RP=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),Qh=0,pw=function(){};function NP(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}NP(pw,Array.prototype);var Wm=function(e){function t(r,s,o,a){var u;return o===void 0&&(o="ObservableArray"),a===void 0&&(a=!1),u=e.call(this)||this,no(function(){var c=new $m(o,s,a,!0);c.proxy_=u,Cb(u,tt,c),r&&r.length&&u.spliceWithArray(0,0,r),RP&&Object.defineProperty(u,"0",OP)}),u}Ob(t,e);var n=t.prototype;return n.concat=function(){this[tt].atom_.reportObserved();for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),o.map(function(u){return Wc(u)?u.slice():u}))},n[Symbol.iterator]=function(){var r=this,s=0;return Vm({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},Hs(t,[{key:"length",get:function(){return this[tt].getArrayLength_()},set:function(s){this[tt].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(pw);Object.entries(hc).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&hl(Wm.prototype,t,n)});function mw(e){return{enumerable:!1,configurable:!0,get:function(){return this[tt].get_(e)},set:function(n){this[tt].set_(e,n)}}}function LP(e){Wr(Wm.prototype,""+e,mw(e))}function gw(e){if(e>Qh){for(var t=Qh;t<e+100;t++)LP(t);Qh=e}}gw(1e3);function DP(e,t,n){return new Wm(e,t,n)}function dc(e,t){if(typeof e=="object"&&e!==null){if(Wc(e))return t!==void 0&&ft(23),e[tt].atom_;if(Br(e))return e.atom_;if($o(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||ft(25,t,vd(e)),n}if(Vc(e)){if(!t)return ft(26);var r=e[tt].values_.get(t);return r||ft(27,t,vd(e)),r}if(Um(e)||$c(e)||uc(e))return e}else if(Sr(e)&&uc(e[tt]))return e[tt];ft(28)}function BP(e,t){if(e||ft(29),Um(e)||$c(e)||uc(e)||$o(e)||Br(e))return e;if(e[tt])return e[tt];ft(24,e)}function vd(e,t){var n;if(t!==void 0)n=dc(e,t);else{if(rl(e))return e.name;Vc(e)||$o(e)||Br(e)?n=BP(e):n=dc(e)}return n.name_}function no(e){var t=Fo(),n=zc(!0);tr();try{return e()}finally{nr(),Fc(n),di(t)}}var _v=Dc.toString;function _w(e,t,n){return n===void 0&&(n=-1),yd(e,t,n)}function yd(e,t,n,r,s){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var a=_v.call(e);if(a!==_v.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=vv(e),t=vv(t);var u=a==="[object Array]";if(!u){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,h=t.constructor;if(c!==h&&!(Sr(c)&&c instanceof c&&Sr(h)&&h instanceof h)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],s=s||[];for(var d=r.length;d--;)if(r[d]===e)return s[d]===t;if(r.push(e),s.push(t),u){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!yd(e[d],t[d],n-1,r,s))return!1}else{var p=Object.keys(e),m=p.length;if(Object.keys(t).length!==m)return!1;for(var g=0;g<m;g++){var w=p[g];if(!(fi(t,w)&&yd(e[w],t[w],n-1,r,s)))return!1}}return r.pop(),s.pop(),!0}function vv(e){return Wc(e)?e.slice():Vs(e)||$o(e)||ai(e)||Br(e)?Array.from(e.entries()):e}var yv,jP=((yv=Lc().Iterator)==null?void 0:yv.prototype)||{};function Vm(e){return e[Symbol.iterator]=UP,Object.assign(Object.create(jP),e)}function UP(){return this}["Symbol","Map","Set"].forEach(function(e){var t=Lc();typeof t[e]>"u"&&ft("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:rP,extras:{getDebugName:vd},$mobx:tt});if(!Re.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!_l)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function zP(e){e()}function FP(e){e||(e=zP),gP({reactionScheduler:e})}function $P(e){return _P(e)}var WP=1e4,VP=1e4,HP=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=WP),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(o,a){s-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,VP))}}),e}(),GP=typeof FinalizationRegistry<"u"?FinalizationRegistry:HP,bd=new GP(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),vw={exports:{}},yw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs=Re;function ZP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qP=typeof Object.is=="function"?Object.is:ZP,KP=zs.useState,YP=zs.useEffect,QP=zs.useLayoutEffect,XP=zs.useDebugValue;function JP(e,t){var n=t(),r=KP({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return QP(function(){s.value=n,s.getSnapshot=t,Xh(s)&&o({inst:s})},[e,n,t]),YP(function(){return Xh(s)&&o({inst:s}),e(function(){Xh(s)&&o({inst:s})})},[e]),XP(n),n}function Xh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qP(e,n)}catch{return!0}}function eT(e,t){return t()}var tT=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eT:JP;yw.useSyncExternalStore=zs.useSyncExternalStore!==void 0?zs.useSyncExternalStore:tT;vw.exports=yw;var nT=vw.exports;function bv(e){e.reaction=new Gr("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function rT(e,t){t===void 0&&(t="observed");var n=Ki.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(u){return bd.unregister(r),r.onStoreChange=u,r.reaction||(bv(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var s=n.current;s.reaction||(bv(s),bd.register(n,s,s)),Ki.useDebugValue(s.reaction,$P),nT.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var o,a;if(s.reaction.track(function(){try{o=e()}catch(u){a=u}}),a)throw a;return o}var Jh,ef,bw=typeof Symbol=="function"&&Symbol.for,iT=(ef=(Jh=Object.getOwnPropertyDescriptor(function(){},"name"))===null||Jh===void 0?void 0:Jh.configurable)!==null&&ef!==void 0?ef:!1,wv=bw?Symbol.for("react.forward_ref"):typeof Re.forwardRef=="function"&&Re.forwardRef(function(e){return null}).$$typeof,Sv=bw?Symbol.for("react.memo"):typeof Re.memo=="function"&&Re.memo(function(e){return null}).$$typeof;function Ar(e,t){var n;if(Sv&&e.$$typeof===Sv)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,s=e,o=e.displayName||e.name;if(wv&&e.$$typeof===wv&&(r=!0,s=e.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(u,c){return rT(function(){return s(u,c)},o)};return a.displayName=e.displayName,iT&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),r&&(a=Re.forwardRef(a)),a=Re.memo(a),sT(e,a),a}var oT={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function sT(e,t){Object.keys(e).forEach(function(n){oT[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var tf;FP(kb.unstable_batchedUpdates);tf=bd.finalizeAllImmediately;var wd=(e=>(e.NUMBER="NUMBER",e.TOGGLE="TOGGLE",e.STRING="STRING",e))(wd||{});const Hm=[{categoryName:"General",fields:[{key:"Tolerance",label:"Radius Tolerance",description:"Distance in meters added to safe radius before triggering alarm",type:"NUMBER",path:"/Settings/AnchorAlarm/RadiusTolerance",min:0,max:512,advanced:!1},{key:"NoGPSCountThreshold",label:"No GPS Threshold",description:"Seconds GPS can be lost before activating no GPS alarm",type:"NUMBER",path:"/Settings/AnchorAlarm/NoGPSCountThreshold",min:0,max:300,advanced:!0},{key:"MuteDuration",label:"Mute Duration",description:"Seconds alarm will be muted when acknowledged",type:"NUMBER",path:"/Settings/AnchorAlarm/MuteDuration",min:0,max:600,advanced:!1},{key:"MooringRadius",label:"Mooring Ball Radius",description:"Safe radius to use when activating mooring ball mode (meters)",type:"NUMBER",path:"/Settings/AnchorAlarm/MooringRadius",min:0,max:256,advanced:!1},{key:"SelfMMSI",label:"MMSI",description:"MMSI of your boat. Used to strip out AIS data from your own boat and avoid showing on the map twice",type:"STRING",path:"/Settings/AnchorAlarm/Vessels/self/MMSI",min:0,max:0,advanced:!0},{key:"SelfBeam",label:"Beam",description:"Beam of your boat (m), to accurately represent your boat on the map. If 0, can be set automatically from AIS data",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/self/Beam",min:0,max:0,advanced:!0},{key:"SelfLength",label:"Length",description:"Length of your boat (m), to accurately represent your boat on the map. If 0, can be set automatically from AIS data",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/self/Length",min:0,max:0,advanced:!0}]},{categoryName:"Digital Inputs",fields:[{key:"AnchorDownDigitalInputNumber",label:"Anchor Down Digital Input",description:"Digital input number for anchor down detection. Wire relay to windlass DOWN contactor. Use 0 to disable.",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/AnchorDown/DigitalInputNumber",min:0,max:4,advanced:!1},{key:"AnchorDownDigitalInputDuration",label:"Anchor Down Duration",description:"Duration input must be active before triggering anchor down (prevents false positives)",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/AnchorDown/DigitalInputDuration",min:0,max:30,advanced:!0},{key:"AnchorUpDigitalInputNumber",label:"Anchor Up Digital Input",description:"Digital input number for anchor up detection. Wire relay to windlass UP contactor. Use 0 to disable.",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/AnchorUp/DigitalInputNumber",min:0,max:4,advanced:!1},{key:"AnchorUpDigitalInputDuration",label:"Anchor Up Duration",description:"Duration input must be active before triggering anchor up",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/AnchorUp/DigitalInputDuration",min:0,max:30,advanced:!0},{key:"ChainOutDigitalInputNumber",label:"Chain Out Digital Input",description:"Digital input number for chain out/set radius trigger. Usually handled by NMEA bus. Use 0 to disable.",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/ChainOut/DigitalInputNumber",min:0,max:4,advanced:!0},{key:"ChainOutDigitalInputDuration",label:"Chain Out Duration",description:"Duration input must be active before triggering chain out",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/ChainOut/DigitalInputDuration",min:0,max:30,advanced:!0},{key:"MuteAlarmDigitalInputNumber",label:"Mute Alarm Digital Input",description:"Digital input number for mute alarm trigger. Usually handled by NMEA bus. Use 0 to disable.",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/MuteAlarm/DigitalInputNumber",min:0,max:4,advanced:!0},{key:"MuteAlarmDigitalInputDuration",label:"Mute Alarm Duration",description:"Duration input must be active before muting alarm",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/MuteAlarm/DigitalInputDuration",min:0,max:30,advanced:!0},{key:"MooringModeDigitalInputNumber",label:"Mooring Mode Digital Input",description:"Digital input number for mooring ball mode trigger. Usually handled by NMEA bus. Use 0 to disable.",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/MooringMode/DigitalInputNumber",min:0,max:4,advanced:!0},{key:"MooringModeDigitalInputDuration",label:"Mooring Mode Duration",description:"Duration input must be active before enabling mooring mode",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/MooringMode/DigitalInputDuration",min:0,max:30,advanced:!0},{key:"FeedbackDigitalInputNumber",label:"Feedback Digital Input",description:"Digital input number for displaying alarm status and notifications on Cerbo. Use 0 to disable.",type:"NUMBER",path:"/Settings/AnchorAlarm/DigitalInputs/Feedback/DigitalInputNumber",min:0,max:4,advanced:!1},{key:"FeedbackUseSystemName",label:"Use System Name for Feedback",description:"Show alarm messages in system name (will override any custom name)",type:"TOGGLE",path:"/Settings/AnchorAlarm/FeedbackUseSystemName",min:0,max:1,advanced:!1}]},{categoryName:"Relay Control",fields:[{key:"RelayEnabled",label:"Enable Relay",description:"Enable/disable relay when alarm is active",type:"TOGGLE",path:"/Settings/AnchorAlarm/Relay/Enabled",min:0,max:1,advanced:!1},{key:"RelayNumber",label:"Relay Number",description:"Which relay to use (must be in manual mode)",type:"NUMBER",path:"/Settings/AnchorAlarm/Relay/Number",min:0,max:1,advanced:!0},{key:"RelayInverted",label:"Invert Relay",description:"Should the relay logic be inverted",type:"TOGGLE",path:"/Settings/AnchorAlarm/Relay/Inverted",min:0,max:1,advanced:!0}]},{categoryName:"Vessel Tracking",fields:[{key:"NumberOfTracks",label:"Number of Tracks",description:"Number of track points to store per vessel",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/NumberOfTracks",min:0,max:1e3,advanced:!0},{key:"TracksInterval",label:"Tracks Interval",description:"Seconds between track points",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/TracksInterval",min:0,max:1e3,advanced:!0},{key:"PruneInterval",label:"Prune Interval",description:"Seconds before removing old tracks",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/PruneInterval",min:0,max:3600,advanced:!0},{key:"DistanceToVessel",label:"Vessel Tracking Distance",description:"Maximum distance to track other vessels (meters)",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/DistanceToVessel",min:0,max:2e3,advanced:!1},{key:"MaxVessels",label:"Maximum Vessels",description:"Maximum number of vessels to keep track of",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/MaxVessels",min:0,max:30,advanced:!1},{key:"DefaultBeam",label:"Default Beam",description:"Default Beam to use when showing vessels on the anchor alarm map",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/DefaultBeam",min:2,max:40,advanced:!0},{key:"DefaultLength",label:"Default Length",description:"Default Length to use when showing vessels on the anchor alarm map",type:"NUMBER",path:"/Settings/AnchorAlarm/Vessels/DefaultLength",min:4,max:200,advanced:!0}]},{categoryName:"NMEA Alert",fields:[{key:"AutoAcknowledgeInterval",label:"Auto Acknowledge Interval",description:"Duration in seconds for auto-acknowledgment of info messages",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/Alert/AutoAcknowledgeInterval",min:1,max:90,advanced:!1}]},{categoryName:"AIS Anchor",fields:[{key:"AISAdvertiseInterval",label:"AIS Advertise Interval",description:"How often anchor position is advertised on AIS (seconds, 0 to disable)",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/AISAnchor/AdvertiseInterval",min:0,max:60,advanced:!1},{key:"AISTargetName",label:"AIS Target Name",description:"Name of the AIS target to display",type:"STRING",path:"/Settings/AnchorAlarm/NMEA/AISAnchor/TargetName",min:0,max:60,advanced:!0}]},{categoryName:"Digital Switching",fields:[{key:"DSBank",label:"DS Bank",description:"Digital Switching Bank ID for anchor alarm registration",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/DSBank",min:0,max:252,advanced:!1},{key:"DSAdvertiseInterval",label:"DS Advertise Interval",description:"How often switches are advertised (seconds, 0 to disable)",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/AdvertiseInterval",min:0,max:60,advanced:!0},{key:"AnchorDownChannel",label:"Anchor Down Channel",description:"Channel to receive anchor drop point command",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/AnchorDownChannel",min:0,max:28,advanced:!0},{key:"ChainOutChannel",label:"Chain Out Channel",description:"Channel to receive radius/enable alarm command",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/ChainOutChannel",min:0,max:28,advanced:!0},{key:"AnchorUpChannel",label:"Anchor Up Channel",description:"Channel to receive disable alarm command",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/AnchorUpChannel",min:0,max:28,advanced:!0},{key:"MuteAlarmChannel",label:"Mute Alarm Channel",description:"Channel to receive mute alarm command",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/MuteAlarmChannel",min:0,max:28,advanced:!0},{key:"MooringModeChannel",label:"Mooring Mode Channel",description:"Channel to receive mooring mode command",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/MooringModeChannel",min:0,max:28,advanced:!0},{key:"DecreaseToleranceChannel",label:"Decrease Tolerance Channel",description:"Channel to decrease tolerance by 5m",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/DecreaseToleranceChannel",min:0,max:28,advanced:!0},{key:"IncreaseToleranceChannel",label:"Increase Tolerance Channel",description:"Channel to increase tolerance by 5m",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/IncreaseToleranceChannel",min:0,max:28,advanced:!0},{key:"DisabledFeedbackChannel",label:"Disabled Feedback Channel",description:"Feedback channel for disabled state",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/DisabledFeedbackChannel",min:0,max:28,advanced:!0},{key:"DropPointSetFeedbackChannel",label:"Drop Point Set Feedback Channel",description:"Feedback channel for drop point set state",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/DropPointSetFeedbackChannel",min:0,max:28,advanced:!0},{key:"InRadiusFeedbackChannel",label:"In Radius Feedback Channel",description:"Feedback channel for in radius state",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/InRadiusFeedbackChannel",min:0,max:28,advanced:!0},{key:"AlarmDraggingFeedbackChannel",label:"Alarm Dragging Feedback Channel",description:"Feedback channel for alarm dragging state",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/AlarmDraggingFeedbackChannel",min:0,max:28,advanced:!0},{key:"AlarmDraggingMutedFeedbackChannel",label:"Alarm Dragging Muted Feedback Channel",description:"Feedback channel for alarm dragging muted state",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/AlarmDraggingMutedFeedbackChannel",min:0,max:28,advanced:!0},{key:"AlarmNoGPSFeedbackChannel",label:"Alarm No GPS Feedback Channel",description:"Feedback channel for no GPS alarm state",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/AlarmNoGPSFeedbackChannel",min:0,max:28,advanced:!0},{key:"AlarmNoGPSMutedFeedbackChannel",label:"Alarm No GPS Muted Feedback Channel",description:"Feedback channel for no GPS alarm muted state",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/DigitalSwitching/AlarmNoGPSMutedFeedbackChannel",min:0,max:28,advanced:!0}]},{categoryName:"Engine Monitoring",fields:[{key:"SOGRPM_SOG",label:"SOG Threshold",description:"Speed Over Ground threshold for non-moving position (knots)",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/SOGRPM/SOG",min:0,max:1,advanced:!1},{key:"SOGRPM_NumberOfEngines",label:"Number of Engines",description:"Number of engines to watch RPM for",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/SOGRPM/NumberOfEngines",min:1,max:2,advanced:!1},{key:"SOGRPM_RPM",label:"RPM Threshold",description:"RPM threshold to enable anchor alarm",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/SOGRPM/RPM",min:1e3,max:2200,advanced:!1},{key:"SOGRPM_Duration",label:"SOG/RPM Duration",description:"Duration both SOG and RPM conditions must be met (seconds)",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/SOGRPM/Duration",min:0,max:10,advanced:!1}]},{categoryName:"YDAB-01 Alarm Button",fields:[{key:"YDAB_NMEAAddress",label:"NMEA Address",description:"NMEA address of YDAB-01 device",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/YDAB/NMEAAddress",min:0,max:254,advanced:!1},{key:"YDAB_AlarmSoundID",label:"Alarm Sound ID",description:"Sound ID to play when alarm is activated",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/YDAB/AlarmSoundID",min:1,max:28,advanced:!0},{key:"YDAB_AlarmVolume",label:"Alarm Volume",description:"Volume for alarm sound (0-100%)",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/YDAB/AlarmVolume",min:0,max:100,advanced:!0},{key:"YDAB_DSBank",label:"DS Bank",description:"Digital Switching Bank ID for YDAB-01",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/YDAB/DSBank",min:0,max:252,advanced:!0},{key:"YDAB_DSDropPointSetChannel",label:"DS Drop Point Set Channel",description:"Channel for button feedback when setting radius",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/YDAB/DSDropPointSetChannel",min:0,max:28,advanced:!0},{key:"YDAB_DSAlarmChannel",label:"DS Alarm Channel",description:"Channel for button feedback when alarm is activated",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/YDAB/DSAlarmChannel",min:0,max:28,advanced:!0},{key:"YDAB_DSAlarmMutedChannel",label:"DS Alarm Muted Channel",description:"Channel for button feedback when alarm is muted",type:"NUMBER",path:"/Settings/AnchorAlarm/NMEA/YDAB/DSAlarmMutedChannel",min:0,max:28,advanced:!0},{key:"YDAB_StartConfiguration",label:"Start Configuration",description:"Trigger to initiate YDAB-01 configuration",type:"TOGGLE",path:"/Settings/AnchorAlarm/NMEA/YDAB/StartConfiguration",min:0,max:1,advanced:!1}]}];var Ze=(e=>(e.DISABLED="DISABLED",e.DROP_POINT_SET="DROP_POINT_SET",e.IN_RADIUS="IN_RADIUS",e.ALARM_DRAGGING="ALARM_DRAGGING",e.ALARM_DRAGGING_MUTED="ALARM_DRAGGING_MUTED",e.ALARM_NO_GPS="ALARM_NO_GPS",e.ALARM_NO_GPS_MUTED="ALARM_NO_GPS_MUTED",e))(Ze||{}),Ve=(e=>(e.DISCONNECTED="DISCONNECTED",e.CONNECTING="CONNECTING",e.CONNECTED="CONNECTED",e.ERROR="ERROR",e))(Ve||{}),nn=(e=>(e.CONFIGURATION="CONFIGURATION",e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.SERVICE="SERVICE",e))(nn||{}),lt=(e=>(e.AnchorDown="ANCHOR_DOWN",e.ChainOut="CHAIN_OUT",e.AnchorUp="ANCHOR_UP",e.MuteAlarm="MUTE_ALARM",e.MooringMode="MOORING_MODE",e.IncreaseTolerance="INCREASE_TOLERANCE",e.DecreaseTolerance="DECREASE_TOLERANCE",e.DWPRegister="DWP_REGISTER",e.DWPUnregister="DWP_UNREGISTER",e.DWPSendTest="DWP_SEND_TEST",e.DemoStateCycle="DEMO_STATE_CYCLE",e.PublishSettings="PUBLISH_SETTINGS",e))(lt||{});const ww=3e4,aT=0,lT=1e3,uT=(e,t)=>e?t?{fill:"#2563eb",stroke:"#1e40af",opacity:.5}:{fill:"#94a3b8",stroke:"#64748b",opacity:.5*.7}:t?{fill:"#fed7aa",stroke:"#fb923c",opacity:.5}:{fill:"#cbd5e1",stroke:"#94a3b8",opacity:.5*.7},cT=e=>({fill:"none",stroke:"#94a3b8",opacity:e?1:.5}),hT=(e,t)=>{let n;if(!t)n="#94a3b8";else switch(e){case"IN_RADIUS":n="#10b981";break;case"ALARM_DRAGGING":case"ALARM_DRAGGING_MUTED":n="#ef4444";break;case"ALARM_NO_GPS":case"ALARM_NO_GPS_MUTED":n="#f59e0b";break;default:n="#3b82f6";break}return{fill:n,stroke:null,opacity:.2}},fT=e=>({fill:"none",stroke:e?"#2c3e50":"#94a3b8",opacity:e?1:.5}),dT=()=>({fill:"#fed7aa",stroke:null,opacity:.2}),as=1e3;class pT{constructor(){this.connectionStatus={state:Ve.DISCONNECTED,error:null},this.anchorAlarmStore=null,this.metersPerPixel=1.194,uw(this)}setConnectionStatus(t){this.connectionStatus=t}setAnchorAlarmStore(t){this.anchorAlarmStore=t}setMetersPerPixel(t){this.metersPerPixel=Math.max(.01,t)}}class mT{constructor(){this.cerboIP="",this.vrmAccessKey="",this.vrmEmail="",this.cerboID="",this.enablePushNotifications=!1,this.demoMode=!1,this.pushNotificationSubscriptionId="",this.anchorAlarmSettings=null,uw(this),this.loadSettings()}setCerboIP(t){this.cerboIP!==t&&(this.cerboID=""),this.cerboIP=t}setVrmAccessKey(t){this.vrmAccessKey=t}setVrmEmail(t){this.vrmEmail=t}setCerboID(t){this.cerboID=t,this.saveSettings()}setEnablePushNotifications(t){this.enablePushNotifications=t}setDemoMode(t){this.demoMode=t}setPushNotificationSubscriptionId(t){this.pushNotificationSubscriptionId=t,this.saveSettings()}get isClient(){return typeof globalThis<"u"&&"window"in globalThis&&"localStorage"in globalThis}loadSettings(){if(this.isClient)try{const t=globalThis.localStorage.getItem("anchorAlarmSettings");if(t){const n=JSON.parse(t);this.cerboIP=n.cerboIP||"",this.vrmAccessKey=n.vrmAccessKey||"",this.vrmEmail=n.vrmEmail||"",this.cerboID=n.cerboID||"",this.enablePushNotifications=n.enablePushNotifications||!1,this.pushNotificationSubscriptionId=n.pushNotificationSubscriptionId||"",this.vrmAccessKey==""&&this.vrmEmail==""&&this.cerboIP==""&&this.cerboID==""?this.demoMode=!0:this.demoMode=n.demoMode}}catch(t){console.error("Failed to load settings:",t)}}saveSettings(){if(this.isClient)try{const t={cerboIP:this.cerboIP,vrmAccessKey:this.vrmAccessKey,vrmEmail:this.vrmEmail,cerboID:this.cerboID,enablePushNotifications:this.enablePushNotifications,demoMode:this.demoMode,pushNotificationSubscriptionId:this.pushNotificationSubscriptionId};globalThis.localStorage.setItem("anchorAlarmSettings",JSON.stringify(t))}catch(t){console.error("Failed to save settings:",t)}}setAnchorAlarmSettings(t){this.anchorAlarmSettings=t}}class Sw{constructor(){this.state=Ze.DISABLED,this.muted=!1,this.message="",this.level="info",this.outOfRadiusDuration=0,this.noGPSDuration=0,this.anchorLatitude=null,this.anchorLongitude=null,this.radius=null,this.tolerance=null,this.distanceToAnchor=null,this.vessels=Ie([{vesselId:"self",latitude:0,longitude:0,heading:0,cog:null,sog:0,tracks:Ie([]),beam:4,length:10}]),this.windSpeed=null,this.windDirection=null,this.depth=null,this.version="",this.setState=t=>{this.state=t},this.setMuted=t=>{this.muted=t},this.setMessage=t=>{this.message=t},this.setLevel=t=>{this.level=t},this.setOutOfRadiusDuration=t=>{this.outOfRadiusDuration=t},this.setNoGPSDuration=t=>{this.noGPSDuration=t},this.setAnchorLatitude=t=>{this.anchorLatitude=t},this.setAnchorLongitude=t=>{this.anchorLongitude=t},this.setRadius=t=>{this.radius=t},this.setTolerance=t=>{this.tolerance=t},this.setDistanceToAnchor=t=>{this.distanceToAnchor=t},this.updateVessel=(t,n,r)=>{const s=this.vessels.findIndex(o=>o.vesselId===t);if(s===-1){const o={vesselId:t,latitude:0,longitude:0,heading:null,cog:null,sog:0,tracks:Ie([]),beam:4,length:10};n==="tracks"?o.tracks.replace(r):o[n]=r,this.vessels.push(o)}else n==="tracks"?this.vessels[s].tracks.replace(r):this.vessels[s][n]=r},this.setWindSpeed=t=>{this.windSpeed=t},this.setWindDirection=t=>{this.windDirection=t},this.setDepth=t=>{this.depth=t},this.setVersion=t=>{this.version=t},this.dispose=()=>{},_l(this,{state:Ie,muted:Ie,message:Ie,level:Ie,outOfRadiusDuration:Ie,noGPSDuration:Ie,anchorLatitude:Ie,anchorLongitude:Ie,radius:Ie,tolerance:Ie,distanceToAnchor:Ie,vessels:Ie,windSpeed:Ie,windDirection:Ie,depth:Ie,version:Ie,setState:kt,setMuted:kt,setMessage:kt,setLevel:kt,setOutOfRadiusDuration:kt,setNoGPSDuration:kt,setAnchorLatitude:kt,setAnchorLongitude:kt,setRadius:kt,setTolerance:kt,setDistanceToAnchor:kt,updateVessel:kt,setWindSpeed:kt,setWindDirection:kt,setDepth:kt,setVersion:kt})}}class gT{constructor(){this.isLoaded=!1,this.Tolerance=null,this.NoGPSCountThreshold=null,this.MuteDuration=null,this.MooringRadius=null,this.AnchorDownDigitalInputNumber=null,this.AnchorDownDigitalInputDuration=null,this.AnchorUpDigitalInputNumber=null,this.AnchorUpDigitalInputDuration=null,this.ChainOutDigitalInputNumber=null,this.ChainOutDigitalInputDuration=null,this.MuteAlarmDigitalInputNumber=null,this.MuteAlarmDigitalInputDuration=null,this.MooringModeDigitalInputNumber=null,this.MooringModeDigitalInputDuration=null,this.FeedbackDigitalInputNumber=null,this.FeedbackUseSystemName=null,this.RelayEnabled=null,this.RelayNumber=null,this.RelayInverted=null,this.NumberOfTracks=null,this.TracksInterval=null,this.PruneInterval=null,this.DistanceToVessel=null,this.MaxVessels=null,this.SelfMMSI=null,this.SelfBeam=null,this.SelfLength=null,this.DefaultBeam=null,this.DefaultLength=null,this.AutoAcknowledgeInterval=null,this.AISAdvertiseInterval=null,this.AISTargetName=null,this.DSBank=null,this.DSAdvertiseInterval=null,this.AnchorDownChannel=null,this.ChainOutChannel=null,this.AnchorUpChannel=null,this.MuteAlarmChannel=null,this.MooringModeChannel=null,this.DecreaseToleranceChannel=null,this.IncreaseToleranceChannel=null,this.DisabledFeedbackChannel=null,this.DropPointSetFeedbackChannel=null,this.InRadiusFeedbackChannel=null,this.AlarmDraggingFeedbackChannel=null,this.AlarmDraggingMutedFeedbackChannel=null,this.AlarmNoGPSFeedbackChannel=null,this.AlarmNoGPSMutedFeedbackChannel=null,this.SOGRPM_SOG=null,this.SOGRPM_NumberOfEngines=null,this.SOGRPM_RPM=null,this.SOGRPM_Duration=null,this.YDAB_NMEAAddress=null,this.YDAB_AlarmSoundID=null,this.YDAB_AlarmVolume=null,this.YDAB_DSBank=null,this.YDAB_DSDropPointSetChannel=null,this.YDAB_DSAlarmChannel=null,this.YDAB_DSAlarmMutedChannel=null,this.YDAB_StartConfiguration=null,this.DWPPublicKey=null,this.Subscriptions=null,this.setLoaded=t=>{this.isLoaded=t},this.updateSetting=(t,n)=>{t in this&&(this[t]=n)},_l(this,{isLoaded:Ie,Tolerance:Ie,NoGPSCountThreshold:Ie,MuteDuration:Ie,MooringRadius:Ie,AnchorDownDigitalInputNumber:Ie,AnchorDownDigitalInputDuration:Ie,AnchorUpDigitalInputNumber:Ie,AnchorUpDigitalInputDuration:Ie,ChainOutDigitalInputNumber:Ie,ChainOutDigitalInputDuration:Ie,MuteAlarmDigitalInputNumber:Ie,MuteAlarmDigitalInputDuration:Ie,MooringModeDigitalInputNumber:Ie,MooringModeDigitalInputDuration:Ie,FeedbackDigitalInputNumber:Ie,FeedbackUseSystemName:Ie,RelayEnabled:Ie,RelayNumber:Ie,RelayInverted:Ie,NumberOfTracks:Ie,TracksInterval:Ie,PruneInterval:Ie,DistanceToVessel:Ie,MaxVessels:Ie,SelfMMSI:Ie,SelfBeam:Ie,SelfLength:Ie,DefaultBeam:Ie,DefaultLength:Ie,AutoAcknowledgeInterval:Ie,AISAdvertiseInterval:Ie,AISTargetName:Ie,DSBank:Ie,DSAdvertiseInterval:Ie,AnchorDownChannel:Ie,ChainOutChannel:Ie,AnchorUpChannel:Ie,MuteAlarmChannel:Ie,MooringModeChannel:Ie,DecreaseToleranceChannel:Ie,IncreaseToleranceChannel:Ie,DisabledFeedbackChannel:Ie,DropPointSetFeedbackChannel:Ie,InRadiusFeedbackChannel:Ie,AlarmDraggingFeedbackChannel:Ie,AlarmDraggingMutedFeedbackChannel:Ie,AlarmNoGPSFeedbackChannel:Ie,AlarmNoGPSMutedFeedbackChannel:Ie,SOGRPM_SOG:Ie,SOGRPM_NumberOfEngines:Ie,SOGRPM_RPM:Ie,SOGRPM_Duration:Ie,YDAB_NMEAAddress:Ie,YDAB_AlarmSoundID:Ie,YDAB_AlarmVolume:Ie,YDAB_DSBank:Ie,YDAB_DSDropPointSetChannel:Ie,YDAB_DSAlarmChannel:Ie,YDAB_DSAlarmMutedChannel:Ie,YDAB_StartConfiguration:Ie,DWPPublicKey:Ie,Subscriptions:Ie,setLoaded:kt,updateSetting:kt})}}class Ev{static parseMessage(t,n,r){const s=n.split("/");if(s.length<3||s[0]!=="anchoralarm"||s[1]!=="0")return;switch(s[2]){case"Alarm":this.parseAlarmMessage(t,s.slice(3),r);break;case"Anchor":this.parseAnchorMessage(t,s.slice(3),r);break;case"Vessels":this.parseVesselsMessage(t,s.slice(3),r);break;case"Environment":this.parseEnvironmentMessage(t,s.slice(3),r);break;case"Triggers":break;case"Mgmt":s[3]==="ProcessVersion"&&t.setVersion(r||"");break}}static parseAlarmMessage(t,n,r){switch(n[0]){case"State":console.log("Changed state to:",r),Object.values(Ze).includes(r)&&t.setState(r);break;case"Muted":t.setMuted(r===1||r==="1"||r===!0);break;case"Message":t.setMessage(r||"");break;case"Level":t.setLevel(r||"info");break;case"OutOfRadiusDuration":t.setOutOfRadiusDuration(Number(r)||0);break;case"NoGPSDuration":t.setNoGPSDuration(Number(r)||0);break}}static parseAnchorMessage(t,n,r){switch(n[0]){case"Longitude":r===null||r===""?t.setAnchorLongitude(null):t.setAnchorLongitude(Number(r));break;case"Latitude":r===null||r===""?t.setAnchorLatitude(null):t.setAnchorLatitude(Number(r));break;case"Radius":t.setRadius(Number(r));break;case"Tolerance":t.setTolerance(Number(r));break;case"Distance":t.setDistanceToAnchor(Number(r));break}}static parseVesselsMessage(t,n,r){if(n.length<2)return;const s=n[0];switch(n[1]){case"Longitude":t.updateVessel(s,"longitude",Number(r));break;case"Latitude":t.updateVessel(s,"latitude",Number(r));break;case"Heading":const a=r===null||r===""||r===void 0?null:Number(r);t.updateVessel(s,"heading",a);break;case"COG":const u=r===null||r===""||r===void 0?null:Number(r);t.updateVessel(s,"cog",u);break;case"SOG":t.updateVessel(s,"sog",Number(r));break;case"Tracks":let c=[];if(typeof r=="string"&&r.trim()!=="")try{c=JSON.parse(r)}catch(p){console.error("Failed to parse tracks:",p),c=[]}t.updateVessel(s,"tracks",c);break;case"Beam":const h=r===null||r===""||r===void 0?4:Number(r);t.updateVessel(s,"beam",h);break;case"Length":const d=r===null||r===""||r===void 0?10:Number(r);t.updateVessel(s,"length",d);break}}static parseEnvironmentMessage(t,n,r){if(n.length===0)return;if(n[0]==="Depth"){t.setDepth(Number(r)||null);return}if(n.length>=2){const o=n[0],a=n[1];if(o==="Wind")switch(a){case"Speed":t.setWindSpeed(Number(r)||null);break;case"Direction":t.setWindDirection(Number(r)||null);break}}}static getShortMessage(t){switch(t){case Ze.DISABLED:return"Anchor alarm disabled";case Ze.DROP_POINT_SET:return"Anchor set, waiting for chain";case Ze.IN_RADIUS:return"All good";case Ze.ALARM_DRAGGING:return"ANCHOR DRAGGING!";case Ze.ALARM_DRAGGING_MUTED:return"Dragging (muted)";case Ze.ALARM_NO_GPS:return"No GPS signal!";case Ze.ALARM_NO_GPS_MUTED:return"No GPS (muted)";default:return"Unknown state"}}static parseSettingsMessage(t,n,r){if(n==="/Settings/AnchorAlarm/PushNotifications/DWP/PublicKey"){t.updateSetting("DWPPublicKey",r);return}if(n==="/Settings/AnchorAlarm/PushNotifications/DWP/Subscriptions"){t.updateSetting("Subscriptions",r);return}for(const s of Hm)for(const o of s.fields)if(n===o.path){t.updateSetting(o.key,r);return}}}class Ew{constructor(t,n){this.connectionStatus={state:Ve.DISCONNECTED,error:null},this.anchorAlarmStore=null,this.anchorAlarmSettingsStore=null,this.cerboId=null,this.config=null,this.keepaliveInterval=null,this.discoveryTimeout=null,this.dataTimeout=null,this.isDiscovering=!1,this.queuedMessages=[],this.batchInterval=null,this.instanceId=-1,this.setConnectionStatus=kt((r,s=null)=>{r!==Ve.ERROR&&(s=null),this.connectionStatus={state:r,error:s}}),_l(this,{connectionStatus:Ie}),this.configResolver=t,this.errorAdapter=n}log(t,...n){console.log(`[MQTT-${this.instanceId}] ${t}`,...n)}getConfig(){return this.config}getAnchorAlarmStore(){return this.anchorAlarmStore}getAnchorAlarmSettingsStore(){return this.anchorAlarmSettingsStore}async onConnected(){this.log("MQTT connected"),this.setConnectionStatus(Ve.CONNECTING),this.cerboId?(this.log("Using existing cerboID:",this.cerboId),await this.completeDiscovery()):(this.log("Starting cerboID discovery..."),await this.startCerboDiscovery())}onDisconnected(){this.log("MQTT disconnected"),this.connectionStatus.state===Ve.CONNECTING?(this.setConnectionStatus(Ve.ERROR,{type:nn.NETWORK,message:"Unable to connect to server"}),this.disconnect()):this.connectionStatus.state===Ve.CONNECTED&&this.setConnectionStatus(Ve.DISCONNECTED),this.stopKeepalive(),this.isDiscovering=!1,this.discoveryTimeout&&(clearTimeout(this.discoveryTimeout),this.discoveryTimeout=null),this.dataTimeout&&(clearTimeout(this.dataTimeout),this.dataTimeout=null),this.batchInterval&&(window.clearInterval(this.batchInterval),this.batchInterval=null),this.queuedMessages.length=0}onError(t){this.log("MQTT error:",t);const n=this.errorAdapter?this.errorAdapter(t):t;this.setConnectionStatus(Ve.ERROR,n)}handleMessage(t,n){if(this.isDiscovering&&!this.cerboId){const r=t.match(/^N\/([^\/]+)\//);r&&r[1]&&(this.cerboId=r[1],this.log("Discovered Cerbo ID:",this.cerboId),this.completeDiscovery());return}this.cerboId&&(t.includes("/anchoralarm/0/Alarm/State")?(this.flushBatch(),this.processMessage(t,n)):this.queuedMessages.push({topic:t,payload:n}))}flushBatch(){if(this.queuedMessages.length===0)return;const t=this.queuedMessages.length;this.log(`Flushing batch: ${t} messages`),lv(()=>{this.queuedMessages.forEach(({topic:n,payload:r})=>{this.processMessage(n,r)}),this.queuedMessages.length=0})}startBatching(){this.batchInterval||(this.log("Starting batching mode"),this.batchInterval=window.setInterval(()=>{this.processBatch()},lT))}processBatch(){this.queuedMessages.length!==0&&(this.queuedMessages.length,lv(()=>{this.queuedMessages.forEach(({topic:t,payload:n})=>{this.processMessage(t,n)}),this.queuedMessages.length=0}))}processMessage(t,n){if(t.startsWith(`N/${this.cerboId}/anchoralarm/0/`)){this.connectionStatus.state!==Ve.CONNECTED&&(this.anchorAlarmStore=new Sw,this.anchorAlarmSettingsStore=new gT,this.setConnectionStatus(Ve.CONNECTED),this.startBatching());let r;try{r=JSON.parse(n).value}catch{r=n}const s=`N/${this.cerboId}/anchoralarm/0/`,o=t.substring(s.length);this.anchorAlarmStore&&Ev.parseMessage(this.anchorAlarmStore,`anchoralarm/0/${o}`,r);return}if(t.startsWith(`N/${this.cerboId}/settings/0/Settings/AnchorAlarm/`)){let r;try{r=JSON.parse(n).value}catch{r=n}const s=`N/${this.cerboId}/settings/0`,o=t.substring(s.length);this.anchorAlarmSettingsStore&&(Ev.parseSettingsMessage(this.anchorAlarmSettingsStore,o,r),this.anchorAlarmSettingsStore.isLoaded||this.anchorAlarmSettingsStore.setLoaded(!0));return}}setCerboIdFromSettings(t){this.cerboId=t}async startCerboDiscovery(){this.isDiscovering=!0;try{await this.subscribe("N/#")}catch(t){this.setConnectionStatus(Ve.ERROR,{type:nn.NETWORK,message:"Unable to connect to server",underlyingError:t instanceof Error?t:new Error(String(t))})}this.discoveryTimeout=window.setTimeout(()=>{this.cerboId||(this.log("Cerbo ID discovery timeout"),this.setConnectionStatus(Ve.ERROR,{type:nn.SERVICE,message:"Not a Victron MQTT server"}),this.disconnect())},5e3)}async completeDiscovery(){this.discoveryTimeout&&(clearTimeout(this.discoveryTimeout),this.discoveryTimeout=null),this.isDiscovering&&(await this.unsubscribe("N/#"),this.isDiscovering=!1),await this.subscribeToAnchorAlarmTopics(),await this.subscribeToAnchorAlarmSettingsTopics(),this.dataTimeout=window.setTimeout(()=>{this.connectionStatus.state!==Ve.CONNECTED&&(this.setConnectionStatus(Ve.ERROR,{type:nn.SERVICE,message:"Server not running AnchorAlarm service"}),this.disconnect())},5e3),this.startKeepalive()}async subscribeToAnchorAlarmTopics(){if(!this.cerboId)return;const t=`N/${this.cerboId}/anchoralarm/0/#`;await this.subscribe(t),this.log(`Subscribed to ${t}`)}async subscribeToAnchorAlarmSettingsTopics(){if(!this.cerboId)return;const t=`N/${this.cerboId}/settings/0/Settings/AnchorAlarm/#`;await this.subscribe(t),this.log(`Subscribed to ${t}`)}startKeepalive(){!this.cerboId||this.keepaliveInterval||(this.sendKeepalive(),this.keepaliveInterval=window.setInterval(()=>{this.sendKeepalive()},ww))}stopKeepalive(){this.keepaliveInterval&&(clearInterval(this.keepaliveInterval),this.keepaliveInterval=null)}sendKeepalive(){if(!this.cerboId)return;const t=`R/${this.cerboId}/keepalive`;this.publishRaw(t,""),this.log("Sent keepalive")}publish(t,n){if(!this.cerboId){console.error("Cannot publish: no Cerbo ID");return}const r=`W/${this.cerboId}${t}`,s=JSON.stringify({value:n});this.publishRaw(r,s),this.log(`Published to ${r}:`,n)}triggerAction(t,n=1){const r={[lt.AnchorDown]:"AnchorDown",[lt.ChainOut]:"ChainOut",[lt.AnchorUp]:"AnchorUp",[lt.MuteAlarm]:"MuteAlarm",[lt.MooringMode]:"MooringMode",[lt.IncreaseTolerance]:"IncreaseTolerance",[lt.DecreaseTolerance]:"DecreaseTolerance",[lt.DWPRegister]:"RegisterDWPDevice",[lt.DWPUnregister]:"UnregisterDWPDevice",[lt.DWPSendTest]:"SendTestDWP",[lt.DemoStateCycle]:"DemoStateCycle",[lt.PublishSettings]:"PublishSettings"};if(t===lt.PublishSettings){this.publishSettings(n);return}const s=r[t];if(!s){console.error("Unknown action type:",t);return}this.publish(`/anchoralarm/0/Triggers/${s}`,n)}publishSettings(t){this.anchorAlarmSettingsStore&&this.anchorAlarmSettingsStore.setLoaded(!1);for(const[n,r]of Object.entries(t))for(const s of Hm)for(const o of s.fields)if(o.key===n){const a=`/settings/0${o.path}`;console.log(`Publishing ${a} = ${r}`),this.publish(a,r);break}}}class _T{constructor(t,n){this.anchorPosition=null,this.tracks=[],this.updateCounter=0,this.instanceId=-1,this.drift={x:0,y:0},this.windDirection=45,this.windSpeed=12,this.outOfRadiusDuration=0,this.noGPSDuration=0,this.anchorAlarmStore=t,this.publishMockMessage=n,this.basePosition={latitude:25.7233,longitude:-80.1625,timestamp:Date.now()},this.currentPosition={...this.basePosition}}log(t,...n){console.log(`[MockGenerator-${this.instanceId}] ${t}`,...n)}initializeDefaultState(){this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.DISABLED),this.publishMockMessage("anchoralarm/0/Alarm/Muted",!1),this.publishMockMessage("anchoralarm/0/Alarm/Message","Anchor alarm is disabled"),this.publishMockMessage("anchoralarm/0/Alarm/Level","info"),this.updatePosition(),this.updateEnvironmentalData(),this.initializeTracks()}updateData(){if(this.updateCounter++,this.anchorAlarmStore.state!==Ze.ALARM_NO_GPS&&this.anchorAlarmStore.state!==Ze.ALARM_NO_GPS_MUTED&&(this.updatePosition(),this.updateCounter%30===0&&this.addTrackPoint()),this.updateCounter%5===0&&this.updateEnvironmentalData(),this.anchorPosition&&this.anchorAlarmStore.state!==Ze.ALARM_NO_GPS&&this.anchorAlarmStore.state!==Ze.ALARM_NO_GPS_MUTED){const t=this.calculateDistance(this.currentPosition,this.anchorPosition);this.publishMockMessage("anchoralarm/0/Anchor/Distance",t),this.anchorAlarmStore.state===Ze.IN_RADIUS&&this.checkForDragging(t)}this.anchorAlarmStore.state===Ze.ALARM_DRAGGING?(this.outOfRadiusDuration++,this.publishMockMessage("anchoralarm/0/Alarm/OutOfRadiusDuration",this.outOfRadiusDuration)):this.outOfRadiusDuration=0,this.anchorAlarmStore.state===Ze.ALARM_NO_GPS?(this.noGPSDuration++,this.publishMockMessage("anchoralarm/0/Alarm/NoGPSDuration",this.noGPSDuration)):this.noGPSDuration=0}stop(){this.drift.x=0,this.drift.y=0}simulateDragging(){if(this.log("Mock: Simulating anchor dragging"),this.anchorPosition){const t=this.currentPosition.latitude-this.anchorPosition.latitude,n=this.currentPosition.longitude-this.anchorPosition.longitude,r=Math.sqrt(t*t+n*n);if(r>0){const s=t/r,o=n/r,a=111320,u=s*30/a,c=o*30/(a*Math.cos(this.anchorPosition.latitude*Math.PI/180));this.basePosition={latitude:this.currentPosition.latitude+u,longitude:this.currentPosition.longitude+c,timestamp:Date.now()},this.drift.x=0,this.drift.y=0,this.updatePosition(),this.tracks.push({...this.currentPosition}),this.updateTracksInStore();const h=this.calculateDistance(this.currentPosition,this.anchorPosition);this.publishMockMessage("anchoralarm/0/Anchor/Distance",h),this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.ALARM_DRAGGING),this.publishMockMessage("anchoralarm/0/Alarm/Message",`ANCHOR DRAGGING! Distance: ${h.toFixed(1)}m`),this.publishMockMessage("anchoralarm/0/Alarm/Level","alarm"),this.publishMockMessage("anchoralarm/0/Alarm/Muted",!1),this.outOfRadiusDuration=0}}}simulateGPSLoss(){this.log("Mock: Simulating GPS loss"),this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.ALARM_NO_GPS),this.publishMockMessage("anchoralarm/0/Alarm/Message","GPS signal lost! Unable to determine position."),this.publishMockMessage("anchoralarm/0/Alarm/Level","alarm"),this.publishMockMessage("anchoralarm/0/Alarm/Muted",!1),this.noGPSDuration=0}restoreToInRadius(){if(this.log("Mock: Restoring to IN_RADIUS state"),this.drift.x=Math.max(-5,Math.min(5,this.drift.x*.1)),this.drift.y=Math.max(-5,Math.min(5,this.drift.y*.1)),this.updatePosition(),this.anchorPosition){const t=this.calculateDistance(this.currentPosition,this.anchorPosition);this.publishMockMessage("anchoralarm/0/Anchor/Distance",t),this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.IN_RADIUS),this.publishMockMessage("anchoralarm/0/Alarm/Message",`Back in safe radius. Distance: ${t.toFixed(1)}m`),this.publishMockMessage("anchoralarm/0/Alarm/Level","info"),this.publishMockMessage("anchoralarm/0/Alarm/Muted",!1)}}updatePosition(){if(this.drift.x+=(Math.random()-.5)*.1,this.drift.y+=(Math.random()-.5)*.1,this.anchorAlarmStore.state!==Ze.DISABLED){const o=this.windSpeed*.01,a=this.windDirection*Math.PI/180;this.drift.x+=Math.cos(a)*o*1,this.drift.y+=Math.sin(a)*o*1}this.drift.x=Math.max(-20,Math.min(20,this.drift.x)),this.drift.y=Math.max(-20,Math.min(20,this.drift.y));const n=111320,r=this.drift.y/n,s=this.drift.x/(n*Math.cos(this.basePosition.latitude*Math.PI/180));this.currentPosition={latitude:this.basePosition.latitude+r,longitude:this.basePosition.longitude+s,timestamp:Date.now()},this.publishMockMessage("anchoralarm/0/Vessels/self/Latitude",this.currentPosition.latitude),this.publishMockMessage("anchoralarm/0/Vessels/self/Longitude",this.currentPosition.longitude),this.publishMockMessage("anchoralarm/0/Vessels/self/Heading",95+(Math.random()-.5)*10),this.publishMockMessage("anchoralarm/0/Vessels/self/COG",90+(Math.random()-.5)*15),this.publishMockMessage("anchoralarm/0/Vessels/self/SOG",.1+Math.random()*.3),this.updateOtherVessels()}updateOtherVessels(){["228221980","367854210","503072560"].forEach((n,r)=>{const s=Date.now()/1e4,o=.002+r*.001,a=r*120+s*2,u=this.basePosition.latitude+Math.cos(a*Math.PI/180)*o,c=this.basePosition.longitude+Math.sin(a*Math.PI/180)*o,h=(a+180+(Math.random()-.5)*30)%360,d=.5+Math.random()*2;this.publishMockMessage(`anchoralarm/0/Vessels/${n}/Latitude`,u),this.publishMockMessage(`anchoralarm/0/Vessels/${n}/Longitude`,c),this.publishMockMessage(`anchoralarm/0/Vessels/${n}/Heading`,h),this.publishMockMessage(`anchoralarm/0/Vessels/${n}/COG`,h+(Math.random()-.5)*20),this.publishMockMessage(`anchoralarm/0/Vessels/${n}/SOG`,d);const p=[{latitude:u,longitude:c,timestamp:Date.now()},{latitude:u-1e-4,longitude:c-1e-4,timestamp:Date.now()-6e4},{latitude:u-2e-4,longitude:c-2e-4,timestamp:Date.now()-12e4}];this.publishMockMessage(`anchoralarm/0/Vessels/${n}/Tracks`,JSON.stringify(p))})}updateEnvironmentalData(){this.windDirection+=(Math.random()-.5)*5,this.windSpeed+=(Math.random()-.5)*2,this.windSpeed=Math.max(5,Math.min(25,this.windSpeed)),this.publishMockMessage("anchoralarm/0/Environment/Wind/Speed",this.windSpeed),this.publishMockMessage("anchoralarm/0/Environment/Wind/Direction",this.windDirection);const n=8.5+(Math.random()-.5)*1;this.publishMockMessage("anchoralarm/0/Environment/Depth",n)}initializeTracks(){const t=Date.now();for(let n=10;n>=0;n--){const r=t-n*6e4,s=n*1e-4;this.tracks.push({latitude:this.basePosition.latitude+s,longitude:this.basePosition.longitude+s,timestamp:r})}this.updateTracksInStore()}addTrackPoint(){this.tracks.push({...this.currentPosition}),this.tracks.length>100&&this.tracks.shift(),this.updateTracksInStore()}updateTracksInStore(){const t=JSON.stringify(this.tracks.map(n=>({latitude:n.latitude,longitude:n.longitude,timestamp:n.timestamp})));this.publishMockMessage("anchoralarm/0/Vessels/self/Tracks",t)}calculateDistance(t,n){const s=(n.latitude-t.latitude)*Math.PI/180,o=(n.longitude-t.longitude)*Math.PI/180,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(t.latitude*Math.PI/180)*Math.cos(n.latitude*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2);return 6371e3*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}checkForDragging(t){const n=this.anchorAlarmStore.radius,r=this.anchorAlarmStore.tolerance,s=this.anchorAlarmStore.state;n===null||r===null||(t>n+r&&s===Ze.IN_RADIUS?(this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.ALARM_DRAGGING),this.publishMockMessage("anchoralarm/0/Alarm/Message",`ANCHOR DRAGGING! Distance: ${t.toFixed(1)}m`),this.publishMockMessage("anchoralarm/0/Alarm/Level","alarm"),this.publishMockMessage("anchoralarm/0/Alarm/Muted",!1)):t<=n&&(s===Ze.ALARM_DRAGGING||s===Ze.ALARM_DRAGGING_MUTED)&&(this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.IN_RADIUS),this.publishMockMessage("anchoralarm/0/Alarm/Message",`Back in safe radius. Distance: ${t.toFixed(1)}m`),this.publishMockMessage("anchoralarm/0/Alarm/Level","info"),this.publishMockMessage("anchoralarm/0/Alarm/Muted",!1)))}handleAnchorDown(){this.log("Anchor down"),this.anchorPosition={...this.currentPosition},this.publishMockMessage("anchoralarm/0/Anchor/Latitude",this.anchorPosition.latitude),this.publishMockMessage("anchoralarm/0/Anchor/Longitude",this.anchorPosition.longitude);const n=-12/(111320*Math.cos(this.anchorPosition.latitude*Math.PI/180));this.basePosition={latitude:this.anchorPosition.latitude,longitude:this.anchorPosition.longitude+n,timestamp:Date.now()},this.currentPosition={...this.basePosition},this.tracks.push({...this.currentPosition}),this.updateTracksInStore(),this.drift.x=0,this.drift.y=0,this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.DROP_POINT_SET),this.publishMockMessage("anchoralarm/0/Alarm/Message","Anchor position saved. Set chain length to activate monitoring."),this.publishMockMessage("anchoralarm/0/Alarm/Level","info")}handleChainOut(){if(this.log("Chain out"),this.anchorPosition){const t=this.calculateDistance(this.currentPosition,this.anchorPosition),n=Math.round(t);this.publishMockMessage("anchoralarm/0/Anchor/Radius",n),this.publishMockMessage("anchoralarm/0/Anchor/Tolerance",10),this.publishMockMessage("anchoralarm/0/Anchor/Distance",t),this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.IN_RADIUS),this.publishMockMessage("anchoralarm/0/Alarm/Message",`Monitoring anchor. Safe radius: ${n}m`),this.publishMockMessage("anchoralarm/0/Alarm/Level","info")}}handleAnchorUp(){this.log("Anchor up"),this.anchorPosition=null,this.publishMockMessage("anchoralarm/0/Anchor/Latitude",null),this.publishMockMessage("anchoralarm/0/Anchor/Longitude",null),this.publishMockMessage("anchoralarm/0/Anchor/Radius",null),this.publishMockMessage("anchoralarm/0/Anchor/Distance",null),this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.DISABLED),this.publishMockMessage("anchoralarm/0/Alarm/Message","Anchor alarm disabled"),this.publishMockMessage("anchoralarm/0/Alarm/Level","info")}handleMuteAlarm(){this.log("Mute alarm");const t=this.anchorAlarmStore.state;t===Ze.ALARM_DRAGGING?(this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.ALARM_DRAGGING_MUTED),this.publishMockMessage("anchoralarm/0/Alarm/Muted",!0)):t===Ze.ALARM_NO_GPS&&(this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.ALARM_NO_GPS_MUTED),this.publishMockMessage("anchoralarm/0/Alarm/Muted",!0))}handleMooringMode(){this.log("Mooring mode"),this.anchorPosition={...this.currentPosition},this.publishMockMessage("anchoralarm/0/Anchor/Latitude",this.anchorPosition.latitude),this.publishMockMessage("anchoralarm/0/Anchor/Longitude",this.anchorPosition.longitude),this.publishMockMessage("anchoralarm/0/Anchor/Radius",5),this.publishMockMessage("anchoralarm/0/Alarm/State",Ze.IN_RADIUS),this.publishMockMessage("anchoralarm/0/Alarm/Message","Mooring mode active"),this.publishMockMessage("anchoralarm/0/Alarm/Level","info")}handleIncreaseTolerance(){this.log("Increase tolerance");const n=(this.anchorAlarmStore.tolerance||10)+5;this.publishMockMessage("anchoralarm/0/Anchor/Tolerance",n)}handleDecreaseTolerance(){this.log("Decrease tolerance");const t=this.anchorAlarmStore.tolerance||10,n=Math.max(t-5,0);this.publishMockMessage("anchoralarm/0/Anchor/Tolerance",n)}handleSetTolerance(t){this.log("Set tolerance to",t),this.publishMockMessage("anchoralarm/0/Anchor/Tolerance",t)}}class vT extends Ew{constructor(t,n){super(t,n),this.updateInterval=null,this.isConnecting=!1,this.demoTapCount=0,this.canceled=!1,this.log("MockMqttService initialized")}publishMockMessage(t,n){const r=`N/${this.cerboId||"mock-cerbo"}/${t}`;setTimeout(()=>{this.handleMessage(r,JSON.stringify({value:n}))},0)}async connect(){if(!this.isConnecting){this.isConnecting=!0,this.log("MockMqttService connecting..."),this.setConnectionStatus(Ve.CONNECTING);try{if(this.config=await this.configResolver(),this.canceled){this.log("MockMqttService connection canceled");return}setTimeout(()=>{if(this.canceled){this.log("MockMqttService connection canceled");return}this.onConnected(),this.isConnecting=!1},1e3)}catch(t){console.error("MockMqttService config error:",t),this.setConnectionStatus(Ve.ERROR,{type:nn.CONFIGURATION,message:t instanceof Error?t.message:"Connection failed",underlyingError:t instanceof Error?t:new Error(String(t))}),this.isConnecting=!1}}}disconnect(){this.log("MockMqttService disconnecting..."),this.canceled=!0,this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),this.mockDataGenerator&&this.mockDataGenerator.stop(),this.onDisconnected()}async subscribe(t){this.log("MockMqttService subscribing to:",t)}async unsubscribe(t){this.log("MockMqttService unsubscribing from:",t)}publishRaw(t,n){this.log("MockMqttService publishing:",t,n),t.includes("/Triggers/")&&this.handleTrigger(t,n)}async onConnected(){this.log("MockMqttService connected"),this.cerboId="mock-cerbo-id",this.anchorAlarmStore=new Sw,this.mockDataGenerator=new _T(this.anchorAlarmStore,this.publishMockMessage.bind(this)),this.mockDataGenerator.instanceId=this.instanceId,this.startMockUpdates(),this.mockDataGenerator.initializeDefaultState()}onDisconnected(){this.log("MockMqttService disconnected"),this.cerboId=null}startMockUpdates(){this.updateInterval=window.setInterval(()=>{this.mockDataGenerator.updateData()},1e3)}handleTrigger(t,n){const r=t.split("/"),s=r[r.length-1];switch(this.log("MockMqttService handling trigger:",s,n),s){case"AnchorDown":this.mockDataGenerator.handleAnchorDown();break;case"ChainOut":this.mockDataGenerator.handleChainOut();break;case"AnchorUp":this.mockDataGenerator.handleAnchorUp();break;case"MuteAlarm":this.mockDataGenerator.handleMuteAlarm();break;case"MooringMode":this.mockDataGenerator.handleMooringMode();break;case"IncreaseTolerance":this.mockDataGenerator.handleIncreaseTolerance();break;case"DecreaseTolerance":this.mockDataGenerator.handleDecreaseTolerance();break;case"SetTolerance":const o=parseFloat(n);isNaN(o)||this.mockDataGenerator.handleSetTolerance(o);break;case"DemoStateCycle":this.cycleDemoState();break;default:this.log("Unknown trigger:",s)}}anchorDown(){this.publishRaw("anchoralarm/0/Triggers/AnchorDown","1")}chainOut(){this.publishRaw("anchoralarm/0/Triggers/ChainOut","1")}anchorUp(){this.publishRaw("anchoralarm/0/Triggers/AnchorUp","1")}muteAlarm(){this.publishRaw("anchoralarm/0/Triggers/MuteAlarm","1")}mooringMode(){this.publishRaw("anchoralarm/0/Triggers/MooringMode","1")}increaseTolerance(){this.publishRaw("anchoralarm/0/Triggers/IncreaseTolerance","1")}decreaseTolerance(){this.publishRaw("anchoralarm/0/Triggers/DecreaseTolerance","1")}setTolerance(t){this.publishRaw("anchoralarm/0/Triggers/SetTolerance",t.toString())}cycleDemoState(){var n;if(((n=this.anchorAlarmStore)==null?void 0:n.state)!==Ze.IN_RADIUS){this.log("MockMqttService: Demo cycling only available in IN_RADIUS state");return}this.demoTapCount++;const t=this.demoTapCount%2;switch(this.log("MockMqttService: Demo tap",this.demoTapCount,"cycle step",t),t){case 1:this.mockDataGenerator.simulateDragging();break;case 0:this.mockDataGenerator.simulateGPSLoss();break}}}class yT{constructor(t,n,r,s){this.mqttService=null,this.currentAnchorAlarmStore=null,this.connectionReactionDisposers=[],this.settingsReactionDisposer=null,this.instanceCounter=0,this.appStore=t,this.settingsStore=n,this.MqttServiceClass=r,this.configProvider=s,this._connectOnSettingsUpdated()}async connect(){if(this.disconnect(),this.settingsStore.demoMode){this.connectDemoService();return}this.appStore.setConnectionStatus({state:Ve.CONNECTING,error:null}),this.connectLocalService()}connectDemoService(){const t=this.configProvider(this.settingsStore,"demo"),n=new vT(t);this.setupServiceObserver(n,()=>!1,()=>!1),n.connect()}connectLocalService(){const t=this.configProvider(this.settingsStore,"local"),n=new this.MqttServiceClass(t);this.setupServiceObserver(n,()=>{if(!this.settingsStore.cerboIP){const r=n.getConfig();r!=null&&r.hostname&&this._silentlySetSettings({cerboIP:r.hostname})}return n.cerboId!==this.settingsStore.cerboID&&this.settingsStore.setCerboID(n.cerboId),!1},()=>{if(this.settingsStore.cerboIP){if(this.hasVRMCredentials())return console.log("Local connection failed, trying VRM..."),this.connectVRMService(),!0}else return console.log("Local auto-discovery failed, switching to demo mode"),this._silentlySetSettings({demoMode:!0}),this.connectDemoService(),!0;return!1}),n.connect()}async connectVRMService(){const t=this.configProvider(this.settingsStore,"vrm"),n=new this.MqttServiceClass(t,this.adaptVRMError.bind(this));this.setupServiceObserver(n,()=>!1,()=>!1),n.connect()}setMqttService(t){this.mqttService&&this.mqttService.disconnect(),t.instanceId=this.instanceCounter++,this.mqttService=t}setupServiceObserver(t,n,r){this.setMqttService(t);const s=cc(()=>t.connectionStatus,o=>{if(o.state===Ve.CONNECTED){const a=t.getAnchorAlarmStore(),u=t.getAnchorAlarmSettingsStore();a&&(this.currentAnchorAlarmStore=a,this.appStore.setAnchorAlarmStore(a)),u&&this.settingsStore.setAnchorAlarmSettings(u),n()||this.appStore.setConnectionStatus(t.connectionStatus)}else o.state===Ve.ERROR?r()||this.appStore.setConnectionStatus(t.connectionStatus):this.appStore.setConnectionStatus(t.connectionStatus)});this.connectionReactionDisposers.push(s)}disconnect(){this.connectionReactionDisposers.forEach(t=>t()),this.connectionReactionDisposers=[],this.mqttService&&(console.log("Disconnecting MQTT service..."),this.mqttService.disconnect(),this.mqttService=null),this.currentAnchorAlarmStore&&(this.currentAnchorAlarmStore.dispose(),this.currentAnchorAlarmStore=null,this.appStore.setAnchorAlarmStore(null)),this.settingsStore.setAnchorAlarmSettings(null)}getMqttService(){return this.mqttService}triggerAction(t,n=1){const r=this.getMqttService();r?r.triggerAction(t,n):console.error("No MQTT service available for triggering action:",t)}testLocal(t,n){const r={...this.settingsStore,cerboIP:t},s=this.configProvider(r,"local",{timeout:n}),o=new this.MqttServiceClass(s);return o.connect(),o}testVRM(t,n,r){const s={...this.settingsStore,vrmEmail:t,vrmAccessKey:n},o=this.configProvider(s,"vrm",{timeout:r}),a=new this.MqttServiceClass(o,this.adaptVRMError.bind(this));return a.connect(),a}hasVRMCredentials(){return!!(this.settingsStore.cerboID&&this.settingsStore.vrmAccessKey)}adaptVRMError(t){if(!t)return t;switch(t.type){case nn.SERVICE:return{type:nn.SERVICE,message:"Enable 2-way communication on the Cerbo",underlyingError:t.underlyingError};case nn.AUTHENTICATION:return{type:nn.AUTHENTICATION,message:"Invalid VRM credentials",underlyingError:t.underlyingError};case nn.NETWORK:return{type:nn.NETWORK,message:"VRM connection failed, tap to retry",underlyingError:t.underlyingError};default:return t}}onAppLaunch(){(!this.mqttService||this.mqttService.connectionStatus.state===Ve.DISCONNECTED||this.mqttService.connectionStatus.state===Ve.ERROR)&&this.connect()}onNetworkChanged(t){t?this.mqttService&&(this.mqttService.connectionStatus.state===Ve.DISCONNECTED||this.mqttService.connectionStatus.state===Ve.ERROR)&&(console.log("Network came back online, retrying connection..."),this.connect()):(console.log("Network went offline, setting disconnected..."),this.disconnect(),this.appStore.setConnectionStatus({state:Ve.DISCONNECTED,error:null}))}_silentlySetSettings(t){var n;(n=this.settingsReactionDisposer)==null||n.call(this),this.settingsReactionDisposer=null,t.cerboIP!==void 0&&this.settingsStore.setCerboIP(t.cerboIP),t.demoMode!==void 0&&this.settingsStore.setDemoMode(t.demoMode),this._connectOnSettingsUpdated()}_connectOnSettingsUpdated(){this.settingsReactionDisposer=cc(()=>[this.settingsStore.demoMode,this.settingsStore.cerboIP,this.settingsStore.vrmEmail,this.settingsStore.vrmAccessKey],()=>this.connect())}}var $t=(e=>(e.UNREGISTERED="UNREGISTERED",e.REGISTERING="REGISTERING",e.REGISTERED="REGISTERED",e.ERROR="ERROR",e))($t||{}),hr=(e=>(e.NOT_SUPPORTED="NOT_SUPPORTED",e.PERMISSION_DENIED="PERMISSION_DENIED",e.SERVICE_WORKER="SERVICE_WORKER",e.SUBSCRIPTION="SUBSCRIPTION",e.NETWORK="NETWORK",e.UNKNOWN="UNKNOWN",e))(hr||{});class bT{constructor(t,n){this.status={state:"UNREGISTERED",subscriptionId:null,error:null},this.setStatus=kt((r,s=null,o=null)=>{r!=="ERROR"&&(o=null),this.status={state:r,subscriptionId:s||this.status.subscriptionId,error:o}}),this.connectionManager=t,this.settingsStore=n,_l(this,{status:Ie})}getVapidPublicKey(){var t;return((t=this.settingsStore.anchorAlarmSettings)==null?void 0:t.DWPPublicKey)||null}async waitForSubscriptionConfirmation(t,n){return new Promise(r=>{let s=!1;const o=setTimeout(()=>{s||(s=!0,a(),console.warn(`Subscription confirmation timeout after ${n}ms`),r(!1))},n),a=cc(()=>{var u;return(u=this.settingsStore.anchorAlarmSettings)==null?void 0:u.Subscriptions},u=>{if(!s&&u)try{const c=JSON.parse(u);c&&c[t]&&(s=!0,clearTimeout(o),a(),console.log(`Subscription ${t} confirmed by server`),r(!0))}catch(c){console.error("Error parsing subscriptions data:",c)}},{fireImmediately:!0})})}async triggerSubscribeAction(t){try{const n={subscriptionId:t.id,subscription:{endpoint:t.endpoint,keys:t.keys}},r=JSON.stringify(n);return this.connectionManager.triggerAction(lt.DWPRegister,r),console.log("Triggered push subscribe action"),!0}catch(n){return console.error("Failed to trigger subscribe action:",n),this.setStatus("ERROR",null,this.createError("NETWORK","Failed to send subscription data",n instanceof Error?n:new Error(String(n)))),!1}}async triggerUnsubscribeAction(t){try{return this.connectionManager.triggerAction(lt.DWPUnregister,t),console.log("Triggered push unsubscribe action"),!0}catch(n){return console.error("Failed to trigger unsubscribe action:",n),this.setStatus("ERROR",null,this.createError("NETWORK","Failed to send unsubscribe request",n instanceof Error?n:new Error(String(n)))),!1}}createError(t,n,r){return{type:t,message:n,underlyingError:r}}}const wT=e=>{if(!e.length)return[];const t=Date.now(),n=e.map(a=>a.timestamp||t).filter(a=>a>0);if(!n.length)return e.map((a,u)=>.6+.4*u/(e.length-1));const r=Math.min(...n),o=Math.max(...n)-r||1;return e.map(a=>.6+.4*(((a.timestamp||t)-r)/o))},ST=Ar(({anchorAlarmStore:e,connectionStatus:t,children:n})=>{const s=Re.useMemo(()=>Kn(e?()=>{const P=[];for(const A of e.vessels){if(!A.tracks||A.tracks.length<2)continue;const y=A.vesselId==="self",S=cT(y),I=[...A.tracks];if(A.latitude&&A.longitude){const C={latitude:A.latitude,longitude:A.longitude},N=A.tracks[A.tracks.length-1];(!N||N.latitude!==A.latitude||N.longitude!==A.longitude)&&I.push(C)}const R=wT(I),T=[];for(let C=0;C<I.length-1;C++){const N=I[C],te=I[C+1];if(N.latitude&&N.longitude&&te.latitude&&te.longitude){const he=(R[C]+R[C+1])/2*S.opacity;T.push({positions:[N,te],opacity:he})}}T.length>0&&P.push({vesselId:A.vesselId,colors:S,segments:T})}return P}:()=>[]),[e]).get(),a=Re.useMemo(()=>Kn(e?()=>{const P=t.state===Ve.CONNECTED,A=e.vessels.find(S=>S.vesselId==="self"),y=(A==null?void 0:A.heading)||null;return e.vessels.map(S=>{const I=S.vesselId==="self",R=uT(I,P);let T=S.heading;if(S.heading===null&&S.cog!==null)if(S.sog&&S.sog>1)T=S.cog;else if(y!==null){const C=(S.cog+90)%360,N=(S.cog-90+360)%360,te=Math.min(Math.abs(C-y),360-Math.abs(C-y)),ie=Math.min(Math.abs(N-y),360-Math.abs(N-y));T=te<=ie?C:N}else T=(S.cog+90)%360;return{...S,heading:T,colors:R}})}:()=>[]),[e,t.state]).get(),c=Re.useMemo(()=>Kn(e?()=>e.anchorLatitude===null||e.anchorLongitude===null?null:{latitude:e.anchorLatitude,longitude:e.anchorLongitude}:()=>null),[e]).get(),h=Re.useRef(null),d=Re.useRef(!1);Re.useEffect(()=>{if(!e)return;const P=e.state;if(!(t.state===Ve.CONNECTED)){h.current=null,d.current=!1;return}h.current!==P&&(console.log("State changed, will center",{lastCenteredState:h.current,state:P}),d.current=!0)},[e==null?void 0:e.state,t.state]),Re.useEffect(()=>{(e==null?void 0:e.tolerance)!==null&&(d.current=!0)},[e==null?void 0:e.tolerance]);const[p,m]=Re.useReducer((P,A)=>A?(A.animate=P!=null,h.current=(e==null?void 0:e.state)||null,d.current=!1,A):P,null);Re.useEffect(()=>{if(!d.current||!e)return;const P=e.state,A=t.state===Ve.CONNECTED,y=a.find(C=>C.vesselId==="self"),S=e.radius,I=e.tolerance;if(!A)return;let R=null;const T=100;if(P===Ze.DISABLED)y!=null&&y.latitude&&(y!=null&&y.longitude)&&(R={lat:y.latitude,lng:y.longitude,zoomToFitRadius:T,animate:!0});else if(c&&y){let C=T;if(P===Ze.IN_RADIUS)if(S&&I)C=S+y.length+I;else return;R={lat:c.latitude,lng:c.longitude,zoomToFitRadius:C,animate:!0}}R&&m(R)},[d.current,e,t.state,a,c]);const w=Re.useMemo(()=>Kn(e?()=>{const P=c;if(!P||!e.radius)return[];const A=[],y=P,S=t.state===Ve.CONNECTED,I=e.vessels.find(T=>T.vesselId==="self"),R=(I==null?void 0:I.length)||10;return e.tolerance!==null&&e.tolerance>0&&e.state!==Ze.DISABLED&&e.state!==Ze.DROP_POINT_SET&&A.push({center:y,radius:e.radius+R+e.tolerance,colors:dT()}),e.radius>0&&e.state!==Ze.DISABLED&&A.push({center:y,radius:e.radius+R,colors:hT(e.state,S)}),A}:()=>[]),[e,c,t.state]).get(),x=Re.useMemo(()=>{if(!c)return null;const P=t.state===Ve.CONNECTED;return{position:c,colors:fT(P)}},[c,t.state]);return D.jsx(D.Fragment,{children:n({vessels:a,tracks:s,anchorZones:w,anchor:x,mapCenter:p})})});function ET(e,t){const n=Re.useRef(t);Re.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function kT(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const AT=1;function xT(e){return Object.freeze({__version:AT,map:e})}function Gm(e,t){return Object.freeze({...e,...t})}const kw=Re.createContext(null),Aw=kw.Provider;function Zm(){const e=Re.useContext(kw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function xw(e){function t(n,r){const{instance:s,context:o}=e(n).current;return Re.useImperativeHandle(r,()=>s),n.children==null?null:Ki.createElement(Aw,{value:o},n.children)}return Re.forwardRef(t)}function PT(e){function t(n,r){const{instance:s}=e(n).current;return Re.useImperativeHandle(r,()=>s),null}return Re.forwardRef(t)}function Pw(e,t){const n=Re.useRef();Re.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function qm(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var Sd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(wE,function(n){var r="1.9.4";function s(i){var l,f,_,k;for(f=1,_=arguments.length;f<_;f++){k=arguments[f];for(l in k)i[l]=k[l]}return i}var o=Object.create||function(){function i(){}return function(l){return i.prototype=l,new i}}();function a(i,l){var f=Array.prototype.slice;if(i.bind)return i.bind.apply(i,f.call(arguments,1));var _=f.call(arguments,2);return function(){return i.apply(l,_.length?_.concat(f.call(arguments)):arguments)}}var u=0;function c(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function h(i,l,f){var _,k,M,Z;return Z=function(){_=!1,k&&(M.apply(f,k),k=!1)},M=function(){_?k=arguments:(i.apply(f,arguments),setTimeout(Z,l),_=!0)},M}function d(i,l,f){var _=l[1],k=l[0],M=_-k;return i===_&&f?i:((i-k)%M+M)%M+k}function p(){return!1}function m(i,l){if(l===!1)return i;var f=Math.pow(10,l===void 0?6:l);return Math.round(i*f)/f}function g(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function w(i){return g(i).split(/\s+/)}function x(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var f in l)i.options[f]=l[f];return i.options}function P(i,l,f){var _=[];for(var k in i)_.push(encodeURIComponent(f?k.toUpperCase():k)+"="+encodeURIComponent(i[k]));return(!l||l.indexOf("?")===-1?"?":"&")+_.join("&")}var A=/\{ *([\w_ -]+) *\}/g;function y(i,l){return i.replace(A,function(f,_){var k=l[_];if(k===void 0)throw new Error("No value provided for variable "+f);return typeof k=="function"&&(k=k(l)),k})}var S=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function I(i,l){for(var f=0;f<i.length;f++)if(i[f]===l)return f;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var C=0;function N(i){var l=+new Date,f=Math.max(0,16-(l-C));return C=l+f,window.setTimeout(i,f)}var te=window.requestAnimationFrame||T("RequestAnimationFrame")||N,ie=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function he(i,l,f){if(f&&te===N)i.call(l);else return te.call(window,a(i,l))}function U(i){i&&ie.call(window,i)}var se={__proto__:null,extend:s,create:o,bind:a,get lastId(){return u},stamp:c,throttle:h,wrapNum:d,falseFn:p,formatNum:m,trim:g,splitWords:w,setOptions:x,getParamString:P,template:y,isArray:S,indexOf:I,emptyImageUrl:R,requestFn:te,cancelFn:ie,requestAnimFrame:he,cancelAnimFrame:U};function ue(){}ue.extend=function(i){var l=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,_=o(f);_.constructor=l,l.prototype=_;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(l[k]=this[k]);return i.statics&&s(l,i.statics),i.includes&&(X(i.includes),s.apply(null,[_].concat(i.includes))),s(_,i),delete _.statics,delete _.includes,_.options&&(_.options=f.options?o(f.options):{},s(_.options,i.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,Z=_._initHooks.length;M<Z;M++)_._initHooks[M].call(this)}},l},ue.include=function(i){var l=this.prototype.options;return s(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},ue.mergeOptions=function(i){return s(this.prototype.options,i),this},ue.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),f=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function X(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=S(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ee={on:function(i,l,f){if(typeof i=="object")for(var _ in i)this._on(_,i[_],l);else{i=w(i);for(var k=0,M=i.length;k<M;k++)this._on(i[k],l,f)}return this},off:function(i,l,f){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var _ in i)this._off(_,i[_],l);else{i=w(i);for(var k=arguments.length===1,M=0,Z=i.length;M<Z;M++)k?this._off(i[M]):this._off(i[M],l,f)}return this},_on:function(i,l,f,_){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,f)===!1){f===this&&(f=void 0);var k={fn:l,ctx:f};_&&(k.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(k)}},_off:function(i,l,f){var _,k,M;if(this._events&&(_=this._events[i],!!_)){if(arguments.length===1){if(this._firingCount)for(k=0,M=_.length;k<M;k++)_[k].fn=p;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var Z=this._listens(i,l,f);if(Z!==!1){var ae=_[Z];this._firingCount&&(ae.fn=p,this._events[i]=_=_.slice()),_.splice(Z,1)}}},fire:function(i,l,f){if(!this.listens(i,f))return this;var _=s({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var k=this._events[i];if(k){this._firingCount=this._firingCount+1||1;for(var M=0,Z=k.length;M<Z;M++){var ae=k[M],de=ae.fn;ae.once&&this.off(i,de,ae.ctx),de.call(ae.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(i,l,f,_){typeof i!="string"&&console.warn('"string" type argument expected');var k=l;typeof l!="function"&&(_=!!l,k=void 0,f=void 0);var M=this._events&&this._events[i];if(M&&M.length&&this._listens(i,k,f)!==!1)return!0;if(_){for(var Z in this._eventParents)if(this._eventParents[Z].listens(i,l,f,_))return!0}return!1},_listens:function(i,l,f){if(!this._events)return!1;var _=this._events[i]||[];if(!l)return!!_.length;f===this&&(f=void 0);for(var k=0,M=_.length;k<M;k++)if(_[k].fn===l&&_[k].ctx===f)return k;return!1},once:function(i,l,f){if(typeof i=="object")for(var _ in i)this._on(_,i[_],l,!0);else{i=w(i);for(var k=0,M=i.length;k<M;k++)this._on(i[k],l,f,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[c(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[c(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,s({layer:i.target,propagatedFrom:i.target},i),!0)}};Ee.addEventListener=Ee.on,Ee.removeEventListener=Ee.clearAllEventListeners=Ee.off,Ee.addOneTimeEventListener=Ee.once,Ee.fireEvent=Ee.fire,Ee.hasEventListeners=Ee.listens;var ke=ue.extend(Ee);function K(i,l,f){this.x=f?Math.round(i):i,this.y=f?Math.round(l):l}var ye=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(i){return this.clone()._add($(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract($(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new K(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new K(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ye(this.x),this.y=ye(this.y),this},distanceTo:function(i){i=$(i);var l=i.x-this.x,f=i.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(i){return i=$(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=$(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function $(i,l,f){return i instanceof K?i:S(i)?new K(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new K(i.x,i.y):new K(i,l,f)}function ce(i,l){if(i)for(var f=l?[i,l]:i,_=0,k=f.length;_<k;_++)this.extend(f[_])}ce.prototype={extend:function(i){var l,f;if(!i)return this;if(i instanceof K||typeof i[0]=="number"||"x"in i)l=f=$(i);else if(i=j(i),l=i.min,f=i.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(i){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,f;return typeof i[0]=="number"||i instanceof K?i=$(i):i=j(i),i instanceof ce?(l=i.min,f=i.max):l=f=i,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(i){i=j(i);var l=this.min,f=this.max,_=i.min,k=i.max,M=k.x>=l.x&&_.x<=f.x,Z=k.y>=l.y&&_.y<=f.y;return M&&Z},overlaps:function(i){i=j(i);var l=this.min,f=this.max,_=i.min,k=i.max,M=k.x>l.x&&_.x<f.x,Z=k.y>l.y&&_.y<f.y;return M&&Z},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,f=this.max,_=Math.abs(l.x-f.x)*i,k=Math.abs(l.y-f.y)*i;return j($(l.x-_,l.y-k),$(f.x+_,f.y+k))},equals:function(i){return i?(i=j(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function j(i,l){return!i||i instanceof ce?i:new ce(i,l)}function fe(i,l){if(i)for(var f=l?[i,l]:i,_=0,k=f.length;_<k;_++)this.extend(f[_])}fe.prototype={extend:function(i){var l=this._southWest,f=this._northEast,_,k;if(i instanceof V)_=i,k=i;else if(i instanceof fe){if(_=i._southWest,k=i._northEast,!_||!k)return this}else return i?this.extend(xe(i)||ge(i)):this;return!l&&!f?(this._southWest=new V(_.lat,_.lng),this._northEast=new V(k.lat,k.lng)):(l.lat=Math.min(_.lat,l.lat),l.lng=Math.min(_.lng,l.lng),f.lat=Math.max(k.lat,f.lat),f.lng=Math.max(k.lng,f.lng)),this},pad:function(i){var l=this._southWest,f=this._northEast,_=Math.abs(l.lat-f.lat)*i,k=Math.abs(l.lng-f.lng)*i;return new fe(new V(l.lat-_,l.lng-k),new V(f.lat+_,f.lng+k))},getCenter:function(){return new V((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new V(this.getNorth(),this.getWest())},getSouthEast:function(){return new V(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof V||"lat"in i?i=xe(i):i=ge(i);var l=this._southWest,f=this._northEast,_,k;return i instanceof fe?(_=i.getSouthWest(),k=i.getNorthEast()):_=k=i,_.lat>=l.lat&&k.lat<=f.lat&&_.lng>=l.lng&&k.lng<=f.lng},intersects:function(i){i=ge(i);var l=this._southWest,f=this._northEast,_=i.getSouthWest(),k=i.getNorthEast(),M=k.lat>=l.lat&&_.lat<=f.lat,Z=k.lng>=l.lng&&_.lng<=f.lng;return M&&Z},overlaps:function(i){i=ge(i);var l=this._southWest,f=this._northEast,_=i.getSouthWest(),k=i.getNorthEast(),M=k.lat>l.lat&&_.lat<f.lat,Z=k.lng>l.lng&&_.lng<f.lng;return M&&Z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=ge(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(i,l){return i instanceof fe?i:new fe(i,l)}function V(i,l,f){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,f!==void 0&&(this.alt=+f)}V.prototype={equals:function(i,l){if(!i)return!1;i=xe(i);var f=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return f<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+m(this.lat,i)+", "+m(this.lng,i)+")"},distanceTo:function(i){return G.distance(this,xe(i))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,f=l/Math.cos(Math.PI/180*this.lat);return ge([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new V(this.lat,this.lng,this.alt)}};function xe(i,l,f){return i instanceof V?i:S(i)&&typeof i[0]!="object"?i.length===3?new V(i[0],i[1],i[2]):i.length===2?new V(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new V(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new V(i,l,f)}var J={latLngToPoint:function(i,l){var f=this.projection.project(i),_=this.scale(l);return this.transformation._transform(f,_)},pointToLatLng:function(i,l){var f=this.scale(l),_=this.transformation.untransform(i,f);return this.projection.unproject(_)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(i),_=this.transformation.transform(l.min,f),k=this.transformation.transform(l.max,f);return new ce(_,k)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?d(i.lng,this.wrapLng,!0):i.lng,f=this.wrapLat?d(i.lat,this.wrapLat,!0):i.lat,_=i.alt;return new V(f,l,_)},wrapLatLngBounds:function(i){var l=i.getCenter(),f=this.wrapLatLng(l),_=l.lat-f.lat,k=l.lng-f.lng;if(_===0&&k===0)return i;var M=i.getSouthWest(),Z=i.getNorthEast(),ae=new V(M.lat-_,M.lng-k),de=new V(Z.lat-_,Z.lng-k);return new fe(ae,de)}},G=s({},J,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var f=Math.PI/180,_=i.lat*f,k=l.lat*f,M=Math.sin((l.lat-i.lat)*f/2),Z=Math.sin((l.lng-i.lng)*f/2),ae=M*M+Math.cos(_)*Math.cos(k)*Z*Z,de=2*Math.atan2(Math.sqrt(ae),Math.sqrt(1-ae));return this.R*de}}),pe=6378137,ee={R:pe,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,i.lat),-f),k=Math.sin(_*l);return new K(this.R*i.lng*l,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(i){var l=180/Math.PI;return new V((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:function(){var i=pe*Math.PI;return new ce([-i,-i],[i,i])}()};function ne(i,l,f,_){if(S(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=f,this._d=_}ne.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new K((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function re(i,l,f,_){return new ne(i,l,f,_)}var we=s({},G,{code:"EPSG:3857",projection:ee,transformation:function(){var i=.5/(Math.PI*ee.R);return re(i,.5,-i,.5)}()}),be=s({},we,{code:"EPSG:900913"});function H(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Y(i,l){var f="",_,k,M,Z,ae,de;for(_=0,M=i.length;_<M;_++){for(ae=i[_],k=0,Z=ae.length;k<Z;k++)de=ae[k],f+=(k?"L":"M")+de.x+" "+de.y;f+=l?$e.svg?"z":"x":""}return f||"M0 0"}var le=document.documentElement.style,_e="ActiveXObject"in window,ve=_e&&!document.addEventListener,Ae="msLaunchUri"in navigator&&!("documentMode"in document),Q=Et("webkit"),Se=Et("android"),Ne=Et("android 2")||Et("android 3"),me=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xe=Se&&Et("Google")&&me<537&&!("AudioNode"in window),v=!!window.opera,b=!Ae&&Et("chrome"),E=Et("gecko")&&!Q&&!v&&!_e,O=!b&&Et("safari"),z=Et("phantom"),q="OTransition"in le,oe=navigator.platform.indexOf("Win")===0,Be=_e&&"transition"in le,je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ne,qe="MozPerspective"in le,nt=!window.L_DISABLE_3D&&(Be||je||qe)&&!q&&!z,Ke=typeof orientation<"u"||Et("mobile"),Vn=Ke&&Q,dn=Ke&&je,pn=!window.PointerEvent&&window.MSPointerEvent,St=!!(window.PointerEvent||pn),Vt="ontouchstart"in window||!!window.TouchEvent,Je=!window.L_NO_TOUCH&&(Vt||St),vt=Ke&&v,Jt=Ke&&E,Ht=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,an=function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",p,l),window.removeEventListener("testPassiveEventSupport",p,l)}catch{}return i}(),xr=function(){return!!document.createElement("canvas").getContext}(),B=!!(document.createElementNS&&H("svg").createSVGRect),W=!!B&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Le=!B&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),ze=navigator.platform.indexOf("Mac")===0,Ge=navigator.platform.indexOf("Linux")===0;function Et(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var $e={ie:_e,ielt9:ve,edge:Ae,webkit:Q,android:Se,android23:Ne,androidStock:Xe,opera:v,chrome:b,gecko:E,safari:O,phantom:z,opera12:q,win:oe,ie3d:Be,webkit3d:je,gecko3d:qe,any3d:nt,mobile:Ke,mobileWebkit:Vn,mobileWebkit3d:dn,msPointer:pn,pointer:St,touch:Je,touchNative:Vt,mobileOpera:vt,mobileGecko:Jt,retina:Ht,passiveEvents:an,canvas:xr,svg:B,vml:Le,inlineSvg:W,mac:ze,linux:Ge},Pr=$e.msPointer?"MSPointerDown":"pointerdown",Ys=$e.msPointer?"MSPointerMove":"pointermove",yl=$e.msPointer?"MSPointerUp":"pointerup",Qs=$e.msPointer?"MSPointerCancel":"pointercancel",qo={touchstart:Pr,touchmove:Ys,touchend:yl,touchcancel:Qs},Ko={touchstart:yS,touchmove:bl,touchend:bl,touchcancel:bl},Tr={},Yo=!1;function oo(i,l,f){return l==="touchstart"&&vS(),Ko[l]?(f=Ko[l].bind(this,f),i.addEventListener(qo[l],f,!1),f):(console.warn("wrong event specified:",l),p)}function Zr(i,l,f){if(!qo[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(qo[l],f,!1)}function sr(i){Tr[i.pointerId]=i}function _S(i){Tr[i.pointerId]&&(Tr[i.pointerId]=i)}function og(i){delete Tr[i.pointerId]}function vS(){Yo||(document.addEventListener(Pr,sr,!0),document.addEventListener(Ys,_S,!0),document.addEventListener(yl,og,!0),document.addEventListener(Qs,og,!0),Yo=!0)}function bl(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in Tr)l.touches.push(Tr[f]);l.changedTouches=[l],i(l)}}function yS(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ln(l),bl(i,l)}function bS(i){var l={},f,_;for(_ in i)f=i[_],l[_]=f&&f.bind?f.bind(i):f;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var wS=200;function SS(i,l){i.addEventListener("dblclick",l);var f=0,_;function k(M){if(M.detail!==1){_=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var Z=cg(M);if(!(Z.some(function(de){return de instanceof HTMLLabelElement&&de.attributes.for})&&!Z.some(function(de){return de instanceof HTMLInputElement||de instanceof HTMLSelectElement}))){var ae=Date.now();ae-f<=wS?(_++,_===2&&l(bS(M))):_=1,f=ae}}}return i.addEventListener("click",k),{dblclick:l,simDblclick:k}}function ES(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var Qc=El(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xs=El(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sg=Xs==="webkitTransition"||Xs==="OTransition"?Xs+"End":"transitionend";function ag(i){return typeof i=="string"?document.getElementById(i):i}function Js(i,l){var f=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(i,null);f=_?_[l]:null}return f==="auto"?null:f}function dt(i,l,f){var _=document.createElement(i);return _.className=l||"",f&&f.appendChild(_),_}function Lt(i){var l=i.parentNode;l&&l.removeChild(i)}function wl(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Qo(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function Xo(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function Xc(i,l){if(i.classList!==void 0)return i.classList.contains(l);var f=Sl(i);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function it(i,l){if(i.classList!==void 0)for(var f=w(l),_=0,k=f.length;_<k;_++)i.classList.add(f[_]);else if(!Xc(i,l)){var M=Sl(i);Jc(i,(M?M+" ":"")+l)}}function Gt(i,l){i.classList!==void 0?i.classList.remove(l):Jc(i,g((" "+Sl(i)+" ").replace(" "+l+" "," ")))}function Jc(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function Sl(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Hn(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&kS(i,l)}function kS(i,l){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=i.filters.item(_)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):i.style.filter+=" progid:"+_+"(opacity="+l+")"}function El(i){for(var l=document.documentElement.style,f=0;f<i.length;f++)if(i[f]in l)return i[f];return!1}function so(i,l,f){var _=l||new K(0,0);i.style[Qc]=($e.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function qt(i,l){i._leaflet_pos=l,$e.any3d?so(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function ao(i){return i._leaflet_pos||new K(0,0)}var ea,ta,eh;if("onselectstart"in document)ea=function(){rt(window,"selectstart",ln)},ta=function(){At(window,"selectstart",ln)};else{var na=El(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ea=function(){if(na){var i=document.documentElement.style;eh=i[na],i[na]="none"}},ta=function(){na&&(document.documentElement.style[na]=eh,eh=void 0)}}function th(){rt(window,"dragstart",ln)}function nh(){At(window,"dragstart",ln)}var kl,rh;function ih(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Al(),kl=i,rh=i.style.outlineStyle,i.style.outlineStyle="none",rt(window,"keydown",Al))}function Al(){kl&&(kl.style.outlineStyle=rh,kl=void 0,rh=void 0,At(window,"keydown",Al))}function lg(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function oh(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var AS={__proto__:null,TRANSFORM:Qc,TRANSITION:Xs,TRANSITION_END:sg,get:ag,getStyle:Js,create:dt,remove:Lt,empty:wl,toFront:Qo,toBack:Xo,hasClass:Xc,addClass:it,removeClass:Gt,setClass:Jc,getClass:Sl,setOpacity:Hn,testProp:El,setTransform:so,setPosition:qt,getPosition:ao,get disableTextSelection(){return ea},get enableTextSelection(){return ta},disableImageDrag:th,enableImageDrag:nh,preventOutline:ih,restoreOutline:Al,getSizedParentNode:lg,getScale:oh};function rt(i,l,f,_){if(l&&typeof l=="object")for(var k in l)ah(i,k,l[k],f);else{l=w(l);for(var M=0,Z=l.length;M<Z;M++)ah(i,l[M],f,_)}return this}var Cr="_leaflet_events";function At(i,l,f,_){if(arguments.length===1)ug(i),delete i[Cr];else if(l&&typeof l=="object")for(var k in l)lh(i,k,l[k],f);else if(l=w(l),arguments.length===2)ug(i,function(ae){return I(l,ae)!==-1});else for(var M=0,Z=l.length;M<Z;M++)lh(i,l[M],f,_);return this}function ug(i,l){for(var f in i[Cr]){var _=f.split(/\d/)[0];(!l||l(_))&&lh(i,_,null,null,f)}}var sh={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ah(i,l,f,_){var k=l+c(f)+(_?"_"+c(_):"");if(i[Cr]&&i[Cr][k])return this;var M=function(ae){return f.call(_||i,ae||window.event)},Z=M;!$e.touchNative&&$e.pointer&&l.indexOf("touch")===0?M=oo(i,l,M):$e.touch&&l==="dblclick"?M=SS(i,M):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(sh[l]||l,M,$e.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(M=function(ae){ae=ae||window.event,ch(i,ae)&&Z(ae)},i.addEventListener(sh[l],M,!1)):i.addEventListener(l,Z,!1):i.attachEvent("on"+l,M),i[Cr]=i[Cr]||{},i[Cr][k]=M}function lh(i,l,f,_,k){k=k||l+c(f)+(_?"_"+c(_):"");var M=i[Cr]&&i[Cr][k];if(!M)return this;!$e.touchNative&&$e.pointer&&l.indexOf("touch")===0?Zr(i,l,M):$e.touch&&l==="dblclick"?ES(i,M):"removeEventListener"in i?i.removeEventListener(sh[l]||l,M,!1):i.detachEvent("on"+l,M),i[Cr][k]=null}function lo(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function uh(i){return ah(i,"wheel",lo),this}function ra(i){return rt(i,"mousedown touchstart dblclick contextmenu",lo),i._leaflet_disable_click=!0,this}function ln(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function uo(i){return ln(i),lo(i),this}function cg(i){if(i.composedPath)return i.composedPath();for(var l=[],f=i.target;f;)l.push(f),f=f.parentNode;return l}function hg(i,l){if(!l)return new K(i.clientX,i.clientY);var f=oh(l),_=f.boundingClientRect;return new K((i.clientX-_.left)/f.x-l.clientLeft,(i.clientY-_.top)/f.y-l.clientTop)}var xS=$e.linux&&$e.chrome?window.devicePixelRatio:$e.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fg(i){return $e.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/xS:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ch(i,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==i;)f=f.parentNode}catch{return!1}return f!==i}var PS={__proto__:null,on:rt,off:At,stopPropagation:lo,disableScrollPropagation:uh,disableClickPropagation:ra,preventDefault:ln,stop:uo,getPropagationPath:cg,getMousePosition:hg,getWheelDelta:fg,isExternalTarget:ch,addListener:rt,removeListener:At},dg=ke.extend({run:function(i,l,f,_){this.stop(),this._el=i,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=ao(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=he(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var f=this._startPos.add(this._offset.multiplyBy(i));l&&f._round(),qt(this._el,f),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ut=ke.extend({options:{crs:we,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=x(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(xe(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xs&&$e.any3d&&!$e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),rt(this._proxy,sg,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(xe(i),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=s({animate:f.animate},f.zoom),f.pan=s({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,f.zoom):this._tryAnimatedPan(i,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,f){var _=this.getZoomScale(l),k=this.getSize().divideBy(2),M=i instanceof K?i:this.latLngToContainerPoint(i),Z=M.subtract(k).multiplyBy(1-1/_),ae=this.containerPointToLatLng(k.add(Z));return this.setView(ae,l,{zoom:f})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():ge(i);var f=$(l.paddingTopLeft||l.padding||[0,0]),_=$(l.paddingBottomRight||l.padding||[0,0]),k=this.getBoundsZoom(i,!1,f.add(_));if(k=typeof l.maxZoom=="number"?Math.min(l.maxZoom,k):k,k===1/0)return{center:i.getCenter(),zoom:k};var M=_.subtract(f).divideBy(2),Z=this.project(i.getSouthWest(),k),ae=this.project(i.getNorthEast(),k),de=this.unproject(Z.add(ae).divideBy(2).add(M),k);return{center:de,zoom:k}},fitBounds:function(i,l){if(i=ge(i),!i.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(i,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=$(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new dg,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){it(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,f){if(f=f||{},f.animate===!1||!$e.any3d)return this.setView(i,l,f);this._stop();var _=this.project(this.getCenter()),k=this.project(i),M=this.getSize(),Z=this._zoom;i=xe(i),l=l===void 0?Z:l;var ae=Math.max(M.x,M.y),de=ae*this.getZoomScale(Z,l),Me=k.distanceTo(_)||1,Fe=1.42,et=Fe*Fe;function ot(Kt){var Bl=Kt?-1:1,mE=Kt?de:ae,gE=de*de-ae*ae+Bl*et*et*Me*Me,_E=2*mE*et*Me,wh=gE/_E,Zg=Math.sqrt(wh*wh+1)-wh,vE=Zg<1e-9?-18:Math.log(Zg);return vE}function bn(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function en(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}function Zn(Kt){return bn(Kt)/en(Kt)}var Pn=ot(0);function is(Kt){return ae*(en(Pn)/en(Pn+Fe*Kt))}function hE(Kt){return ae*(en(Pn)*Zn(Pn+Fe*Kt)-bn(Pn))/et}function fE(Kt){return 1-Math.pow(1-Kt,1.5)}var dE=Date.now(),Hg=(ot(1)-Pn)/Fe,pE=f.duration?1e3*f.duration:1e3*Hg*.8;function Gg(){var Kt=(Date.now()-dE)/pE,Bl=fE(Kt)*Hg;Kt<=1?(this._flyToFrame=he(Gg,this),this._move(this.unproject(_.add(k.subtract(_).multiplyBy(hE(Bl)/Me)),Z),this.getScaleZoom(ae/is(Bl),Z),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Gg.call(this),this},flyToBounds:function(i,l){var f=this._getBoundsCenterZoom(i,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(i){return i=ge(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,ge(i));return f.equals(_)||this.panTo(_,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var f=$(l.paddingTopLeft||l.padding||[0,0]),_=$(l.paddingBottomRight||l.padding||[0,0]),k=this.project(this.getCenter()),M=this.project(i),Z=this.getPixelBounds(),ae=j([Z.min.add(f),Z.max.subtract(_)]),de=ae.getSize();if(!ae.contains(M)){this._enforcingBounds=!0;var Me=M.subtract(ae.getCenter()),Fe=ae.extend(M).getSize().subtract(de);k.x+=Me.x<0?-Fe.x:Fe.x,k.y+=Me.y<0?-Fe.y:Fe.y,this.panTo(this.unproject(k),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=s({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=l.divideBy(2).round(),k=f.divideBy(2).round(),M=_.subtract(k);return!M.x&&!M.y?this:(i.animate&&i.pan?this.panBy(M):(i.pan&&this._rawPanBy(M),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=s({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),f=a(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,i):navigator.geolocation.getCurrentPosition(l,f,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,f=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,f=i.coords.longitude,_=new V(l,f),k=_.toBounds(i.coords.accuracy*2),M=this._locateOptions;if(M.setView){var Z=this.getBoundsZoom(k);this.setView(_,M.maxZoom?Math.min(Z,M.maxZoom):Z)}var ae={latlng:_,bounds:k,timestamp:i.timestamp};for(var de in i.coords)typeof i.coords[de]=="number"&&(ae[de]=i.coords[de]);this.fire("locationfound",ae)}},addHandler:function(i,l){if(!l)return this;var f=this[i]=new l(this);return this._handlers.push(f),this.options[i]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Lt(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var f="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),_=dt("div",f,l||this._mapPane);return i&&(this._panes[i]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),f=this.unproject(i.getTopRight());return new fe(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,f){i=ge(i),f=$(f||[0,0]);var _=this.getZoom()||0,k=this.getMinZoom(),M=this.getMaxZoom(),Z=i.getNorthWest(),ae=i.getSouthEast(),de=this.getSize().subtract(f),Me=j(this.project(ae,_),this.project(Z,_)).getSize(),Fe=$e.any3d?this.options.zoomSnap:1,et=de.x/Me.x,ot=de.y/Me.y,bn=l?Math.max(et,ot):Math.min(et,ot);return _=this.getScaleZoom(bn,_),Fe&&(_=Math.round(_/(Fe/100))*(Fe/100),_=l?Math.ceil(_/Fe)*Fe:Math.floor(_/Fe)*Fe),Math.max(k,Math.min(M,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var f=this._getTopLeftPoint(i,l);return new ce(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(i)/f.scale(l)},getScaleZoom:function(i,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var _=f.zoom(i*f.scale(l));return isNaN(_)?1/0:_},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(xe(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng($(i),l)},layerPointToLatLng:function(i){var l=$(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(xe(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(xe(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ge(i))},distance:function(i,l){return this.options.crs.distance(xe(i),xe(l))},containerPointToLayerPoint:function(i){return $(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return $(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint($(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(i)))},mouseEventToContainerPoint:function(i){return hg(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=ag(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");rt(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e.any3d,it(i,"leaflet-container"+($e.touch?" leaflet-touch":"")+($e.retina?" leaflet-retina":"")+($e.ielt9?" leaflet-oldie":"")+($e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Js(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(it(i.markerPane,"leaflet-zoom-hide"),it(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,f){qt(this._mapPane,new K(0,0));var _=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var k=this._zoom!==l;this._moveStart(k,f)._move(i,l)._moveEnd(k),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,f,_){l===void 0&&(l=this._zoom);var k=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),_?f&&f.pinch&&this.fire("zoom",f):((k||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){qt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[c(this._container)]=this;var l=i?At:rt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),$e.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=he(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var f=[],_,k=l==="mouseout"||l==="mouseover",M=i.target||i.srcElement,Z=!1;M;){if(_=this._targets[c(M)],_&&(l==="click"||l==="preclick")&&this._draggableMoved(_)){Z=!0;break}if(_&&_.listens(l,!0)&&(k&&!ch(M,i)||(f.push(_),k))||M===this._container)break;M=M.parentNode}return!f.length&&!Z&&!k&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var f=i.type;f==="mousedown"&&ih(l),this._fireDOMEvent(i,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,f){if(i.type==="click"){var _=s({},i);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var k=this._findEventTargets(i,l);if(f){for(var M=[],Z=0;Z<f.length;Z++)f[Z].listens(l,!0)&&M.push(f[Z]);k=M.concat(k)}if(k.length){l==="contextmenu"&&ln(i);var ae=k[0],de={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var Me=ae.getLatLng&&(!ae._radius||ae._radius<=10);de.containerPoint=Me?this.latLngToContainerPoint(ae.getLatLng()):this.mouseEventToContainerPoint(i),de.layerPoint=this.containerPointToLayerPoint(de.containerPoint),de.latlng=Me?ae.getLatLng():this.layerPointToLatLng(de.layerPoint)}for(Z=0;Z<k.length;Z++)if(k[Z].fire(l,de,!0),de.originalEvent._stopped||k[Z].options.bubblingMouseEvents===!1&&I(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return ao(this._mapPane)||new K(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var f=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var f=this.getSize()._divideBy(2);return this.project(i,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,f){var _=this._getNewPixelOrigin(f,l);return this.project(i,l)._subtract(_)},_latLngBoundsToNewLayerBounds:function(i,l,f){var _=this._getNewPixelOrigin(f,l);return j([this.project(i.getSouthWest(),l)._subtract(_),this.project(i.getNorthWest(),l)._subtract(_),this.project(i.getSouthEast(),l)._subtract(_),this.project(i.getNorthEast(),l)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,f){if(!f)return i;var _=this.project(i,l),k=this.getSize().divideBy(2),M=new ce(_.subtract(k),_.add(k)),Z=this._getBoundsOffset(M,f,l);return Math.abs(Z.x)<=1&&Math.abs(Z.y)<=1?i:this.unproject(_.add(Z),l)},_limitOffset:function(i,l){if(!l)return i;var f=this.getPixelBounds(),_=new ce(f.min.add(i),f.max.add(i));return i.add(this._getBoundsOffset(_,l))},_getBoundsOffset:function(i,l,f){var _=j(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),k=_.min.subtract(i.min),M=_.max.subtract(i.max),Z=this._rebound(k.x,-M.x),ae=this._rebound(k.y,-M.y);return new K(Z,ae)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),f=this.getMaxZoom(),_=$e.any3d?this.options.zoomSnap:1;return _&&(i=Math.round(i/_)*_),Math.max(l,Math.min(f,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Gt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var f=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var i=this._proxy=dt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var f=Qc,_=this._proxy.style[f];so(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();so(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(l),k=this._getCenterOffset(i)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(k)?!1:(he(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,it(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Gt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function TS(i,l){return new ut(i,l)}var ar=ue.extend({options:{position:"topright"},initialize:function(i){x(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),f=this.getPosition(),_=i._controlCorners[f];return it(l,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(l,_.firstChild):_.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ia=function(i){return new ar(i)};ut.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",f=this._controlContainer=dt("div",l+"control-container",this._container);function _(k,M){var Z=l+k+" "+l+M;i[k+M]=dt("div",Z,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Lt(this._controlCorners[i]);Lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var pg=ar.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,f,_){return f<_?-1:_<f?1:0}},initialize:function(i,l,f){x(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in i)this._addLayer(i[_],_);for(_ in l)this._addLayer(l[_],_,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return ar.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){it(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(it(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Gt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Gt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=dt("div",i),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ra(l),uh(l);var _=this._section=dt("section",i+"-list");f&&(this._map.on("click",this.collapse,this),rt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=dt("a",i+"-toggle",l);k.href="#",k.title="Layers",k.setAttribute("role","button"),rt(k,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){ln(M),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=dt("div",i+"-base",_),this._separator=dt("div",i+"-separator",_),this._overlaysList=dt("div",i+"-overlays",_),l.appendChild(_)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,f){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(a(function(_,k){return this.options.sortFunction(_.layer,k.layer,_.name,k.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;wl(this._baseLayersList),wl(this._overlaysList),this._layerControlInputs=[];var i,l,f,_,k=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),l=l||_.overlay,i=i||!_.overlay,k+=_.overlay?0:1;return this.options.hideSingleBase&&(i=i&&k>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(c(i.target)),f=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(i,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(i){var l=document.createElement("label"),f=this._map.hasLayer(i.layer),_;i.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+c(this),f),this._layerControlInputs.push(_),_.layerId=c(i.layer),rt(_,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+i.name;var M=document.createElement("span");l.appendChild(M),M.appendChild(_),M.appendChild(k);var Z=i.overlay?this._overlaysList:this._baseLayersList;return Z.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,f,_=[],k=[];this._handlingClick=!0;for(var M=i.length-1;M>=0;M--)l=i[M],f=this._getLayer(l.layerId).layer,l.checked?_.push(f):l.checked||k.push(f);for(M=0;M<k.length;M++)this._map.hasLayer(k[M])&&this._map.removeLayer(k[M]);for(M=0;M<_.length;M++)this._map.hasLayer(_[M])||this._map.addLayer(_[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,f,_=this._map.getZoom(),k=i.length-1;k>=0;k--)l=i[k],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,rt(i,"click",ln),this.expand();var l=this;setTimeout(function(){At(i,"click",ln),l._preventClick=!1})}}),CS=function(i,l,f){return new pg(i,l,f)},hh=ar.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",f=dt("div",l+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,f,_,k){var M=dt("a",f,_);return M.innerHTML=i,M.href="#",M.title=l,M.setAttribute("role","button"),M.setAttribute("aria-label",l),ra(M),rt(M,"click",uo),rt(M,"click",k,this),rt(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";Gt(this._zoomInButton,l),Gt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(it(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(it(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});ut.mergeOptions({zoomControl:!0}),ut.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hh,this.addControl(this.zoomControl))});var MS=function(i){return new hh(i)},mg=ar.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",f=dt("div",l),_=this.options;return this._addScales(_,l+"-line",f),i.on(_.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),f},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,f){i.metric&&(this._mScale=dt("div",l,f)),i.imperial&&(this._iScale=dt("div",l,f))},_update:function(){var i=this._map,l=i.getSize().y/2,f=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/i)},_updateImperial:function(i){var l=i*3.2808399,f,_,k;l>5280?(f=l/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(k=this._getRoundNum(l),this._updateScale(this._iScale,k+" ft",k/l))},_updateScale:function(i,l,f){i.style.width=Math.round(this.options.maxWidth*f)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),f=i/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),IS=function(i){return new mg(i)},OS='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fh=ar.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($e.inlineSvg?OS+" ":"")+"Leaflet</a>"},initialize:function(i){x(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=dt("div","leaflet-control-attribution"),ra(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),i.length&&f.push(i.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});ut.mergeOptions({attributionControl:!0}),ut.addInitHook(function(){this.options.attributionControl&&new fh().addTo(this)});var RS=function(i){return new fh(i)};ar.Layers=pg,ar.Zoom=hh,ar.Scale=mg,ar.Attribution=fh,ia.layers=CS,ia.zoom=MS,ia.scale=IS,ia.attribution=RS;var Mr=ue.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mr.addTo=function(i,l){return i.addHandler(l,this),this};var NS={Events:Ee},gg=$e.touch?"touchstart mousedown":"mousedown",Ai=ke.extend({options:{clickTolerance:3},initialize:function(i,l,f,_){x(this,_),this._element=i,this._dragStartTarget=l||i,this._preventOutline=f},enable:function(){this._enabled||(rt(this._dragStartTarget,gg,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ai._dragging===this&&this.finishDrag(!0),At(this._dragStartTarget,gg,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Xc(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Ai._dragging===this&&this.finishDrag();return}if(!(Ai._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Ai._dragging=this,this._preventOutline&&ih(this._element),th(),ea(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,f=lg(this._element);this._startPoint=new K(l.clientX,l.clientY),this._startPos=ao(this._element),this._parentScale=oh(f);var _=i.type==="mousedown";rt(document,_?"mousemove":"touchmove",this._onMove,this),rt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,f=new K(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,ln(i),this._moved||(this.fire("dragstart"),this._moved=!0,it(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),it(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),qt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Gt(document.body,"leaflet-dragging"),this._lastTarget&&(Gt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),At(document,"mousemove touchmove",this._onMove,this),At(document,"mouseup touchend touchcancel",this._onUp,this),nh(),ta();var l=this._moved&&this._moving;this._moving=!1,Ai._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function _g(i,l,f){var _,k=[1,4,2,8],M,Z,ae,de,Me,Fe,et,ot;for(M=0,Fe=i.length;M<Fe;M++)i[M]._code=co(i[M],l);for(ae=0;ae<4;ae++){for(et=k[ae],_=[],M=0,Fe=i.length,Z=Fe-1;M<Fe;Z=M++)de=i[M],Me=i[Z],de._code&et?Me._code&et||(ot=xl(Me,de,et,l,f),ot._code=co(ot,l),_.push(ot)):(Me._code&et&&(ot=xl(Me,de,et,l,f),ot._code=co(ot,l),_.push(ot)),_.push(de));i=_}return i}function vg(i,l){var f,_,k,M,Z,ae,de,Me,Fe;if(!i||i.length===0)throw new Error("latlngs not passed");Gn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var et=xe([0,0]),ot=ge(i),bn=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());bn<1700&&(et=dh(i));var en=i.length,Zn=[];for(f=0;f<en;f++){var Pn=xe(i[f]);Zn.push(l.project(xe([Pn.lat-et.lat,Pn.lng-et.lng])))}for(ae=de=Me=0,f=0,_=en-1;f<en;_=f++)k=Zn[f],M=Zn[_],Z=k.y*M.x-M.y*k.x,de+=(k.x+M.x)*Z,Me+=(k.y+M.y)*Z,ae+=Z*3;ae===0?Fe=Zn[0]:Fe=[de/ae,Me/ae];var is=l.unproject($(Fe));return xe([is.lat+et.lat,is.lng+et.lng])}function dh(i){for(var l=0,f=0,_=0,k=0;k<i.length;k++){var M=xe(i[k]);l+=M.lat,f+=M.lng,_++}return xe([l/_,f/_])}var LS={__proto__:null,clipPolygon:_g,polygonCenter:vg,centroid:dh};function yg(i,l){if(!l||!i.length)return i.slice();var f=l*l;return i=jS(i,f),i=BS(i,f),i}function bg(i,l,f){return Math.sqrt(oa(i,l,f,!0))}function DS(i,l,f){return oa(i,l,f)}function BS(i,l){var f=i.length,_=typeof Uint8Array<"u"?Uint8Array:Array,k=new _(f);k[0]=k[f-1]=1,ph(i,k,l,0,f-1);var M,Z=[];for(M=0;M<f;M++)k[M]&&Z.push(i[M]);return Z}function ph(i,l,f,_,k){var M=0,Z,ae,de;for(ae=_+1;ae<=k-1;ae++)de=oa(i[ae],i[_],i[k],!0),de>M&&(Z=ae,M=de);M>f&&(l[Z]=1,ph(i,l,f,_,Z),ph(i,l,f,Z,k))}function jS(i,l){for(var f=[i[0]],_=1,k=0,M=i.length;_<M;_++)US(i[_],i[k])>l&&(f.push(i[_]),k=_);return k<M-1&&f.push(i[M-1]),f}var wg;function Sg(i,l,f,_,k){var M=_?wg:co(i,f),Z=co(l,f),ae,de,Me;for(wg=Z;;){if(!(M|Z))return[i,l];if(M&Z)return!1;ae=M||Z,de=xl(i,l,ae,f,k),Me=co(de,f),ae===M?(i=de,M=Me):(l=de,Z=Me)}}function xl(i,l,f,_,k){var M=l.x-i.x,Z=l.y-i.y,ae=_.min,de=_.max,Me,Fe;return f&8?(Me=i.x+M*(de.y-i.y)/Z,Fe=de.y):f&4?(Me=i.x+M*(ae.y-i.y)/Z,Fe=ae.y):f&2?(Me=de.x,Fe=i.y+Z*(de.x-i.x)/M):f&1&&(Me=ae.x,Fe=i.y+Z*(ae.x-i.x)/M),new K(Me,Fe,k)}function co(i,l){var f=0;return i.x<l.min.x?f|=1:i.x>l.max.x&&(f|=2),i.y<l.min.y?f|=4:i.y>l.max.y&&(f|=8),f}function US(i,l){var f=l.x-i.x,_=l.y-i.y;return f*f+_*_}function oa(i,l,f,_){var k=l.x,M=l.y,Z=f.x-k,ae=f.y-M,de=Z*Z+ae*ae,Me;return de>0&&(Me=((i.x-k)*Z+(i.y-M)*ae)/de,Me>1?(k=f.x,M=f.y):Me>0&&(k+=Z*Me,M+=ae*Me)),Z=i.x-k,ae=i.y-M,_?Z*Z+ae*ae:new K(k,M)}function Gn(i){return!S(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Eg(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gn(i)}function kg(i,l){var f,_,k,M,Z,ae,de,Me;if(!i||i.length===0)throw new Error("latlngs not passed");Gn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Fe=xe([0,0]),et=ge(i),ot=et.getNorthWest().distanceTo(et.getSouthWest())*et.getNorthEast().distanceTo(et.getNorthWest());ot<1700&&(Fe=dh(i));var bn=i.length,en=[];for(f=0;f<bn;f++){var Zn=xe(i[f]);en.push(l.project(xe([Zn.lat-Fe.lat,Zn.lng-Fe.lng])))}for(f=0,_=0;f<bn-1;f++)_+=en[f].distanceTo(en[f+1])/2;if(_===0)Me=en[0];else for(f=0,M=0;f<bn-1;f++)if(Z=en[f],ae=en[f+1],k=Z.distanceTo(ae),M+=k,M>_){de=(M-_)/k,Me=[ae.x-de*(ae.x-Z.x),ae.y-de*(ae.y-Z.y)];break}var Pn=l.unproject($(Me));return xe([Pn.lat+Fe.lat,Pn.lng+Fe.lng])}var zS={__proto__:null,simplify:yg,pointToSegmentDistance:bg,closestPointOnSegment:DS,clipSegment:Sg,_getEdgeIntersection:xl,_getBitCode:co,_sqClosestPointOnSegment:oa,isFlat:Gn,_flat:Eg,polylineCenter:kg},mh={project:function(i){return new K(i.lng,i.lat)},unproject:function(i){return new V(i.y,i.x)},bounds:new ce([-180,-90],[180,90])},gh={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,f=this.R,_=i.lat*l,k=this.R_MINOR/f,M=Math.sqrt(1-k*k),Z=M*Math.sin(_),ae=Math.tan(Math.PI/4-_/2)/Math.pow((1-Z)/(1+Z),M/2);return _=-f*Math.log(Math.max(ae,1e-10)),new K(i.lng*l*f,_)},unproject:function(i){for(var l=180/Math.PI,f=this.R,_=this.R_MINOR/f,k=Math.sqrt(1-_*_),M=Math.exp(-i.y/f),Z=Math.PI/2-2*Math.atan(M),ae=0,de=.1,Me;ae<15&&Math.abs(de)>1e-7;ae++)Me=k*Math.sin(Z),Me=Math.pow((1-Me)/(1+Me),k/2),de=Math.PI/2-2*Math.atan(M*Me)-Z,Z+=de;return new V(Z*l,i.x*l/f)}},FS={__proto__:null,LonLat:mh,Mercator:gh,SphericalMercator:ee},$S=s({},G,{code:"EPSG:3395",projection:gh,transformation:function(){var i=.5/(Math.PI*gh.R);return re(i,.5,-i,.5)}()}),Ag=s({},G,{code:"EPSG:4326",projection:mh,transformation:re(1/180,1,-1/180,.5)}),WS=s({},J,{projection:mh,transformation:re(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var f=l.lng-i.lng,_=l.lat-i.lat;return Math.sqrt(f*f+_*_)},infinite:!0});J.Earth=G,J.EPSG3395=$S,J.EPSG3857=we,J.EPSG900913=be,J.EPSG4326=Ag,J.Simple=WS;var lr=ke.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[c(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[c(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});ut.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=c(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return c(i)in this._layers},eachLayer:function(i,l){for(var f in this._layers)i.call(l,this._layers[f]);return this},_addLayers:function(i){i=i?S(i)?i:[i]:[];for(var l=0,f=i.length;l<f;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[c(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=c(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var k=this._zoomBoundLayers[_].options;i=k.minZoom===void 0?i:Math.min(i,k.minZoom),l=k.maxZoom===void 0?l:Math.max(l,k.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Jo=lr.extend({initialize:function(i,l){x(this,l),this._layers={};var f,_;if(i)for(f=0,_=i.length;f<_;f++)this.addLayer(i[f])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[i]&&_[i].apply(_,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var f in this._layers)i.call(l,this._layers[f]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return c(i)}}),VS=function(i,l){return new Jo(i,l)},qr=Jo.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Jo.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Jo.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new fe;for(var l in this._layers){var f=this._layers[l];i.extend(f.getBounds?f.getBounds():f.getLatLng())}return i}}),HS=function(i,l){return new qr(i,l)},es=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){x(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var f=this._getIconUrl(i);if(!f){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(_,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(i,l){var f=this.options,_=f[l+"Size"];typeof _=="number"&&(_=[_,_]);var k=$(_),M=$(l==="shadow"&&f.shadowAnchor||f.iconAnchor||k&&k.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(f.className||""),M&&(i.style.marginLeft=-M.x+"px",i.style.marginTop=-M.y+"px"),k&&(i.style.width=k.x+"px",i.style.height=k.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return $e.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function GS(i){return new es(i)}var sa=es.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof sa.imagePath!="string"&&(sa.imagePath=this._detectIconPath()),(this.options.imagePath||sa.imagePath)+es.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(f,_,k){var M=_.exec(f);return M&&M[k]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=dt("div","leaflet-default-icon-path",document.body),l=Js(i,"background-image")||Js(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),xg=Mr.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Ai(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),it(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Gt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,f=l._map,_=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,M=ao(l._icon),Z=f.getPixelBounds(),ae=f.getPixelOrigin(),de=j(Z.min._subtract(ae).add(k),Z.max._subtract(ae).subtract(k));if(!de.contains(M)){var Me=$((Math.max(de.max.x,M.x)-de.max.x)/(Z.max.x-de.max.x)-(Math.min(de.min.x,M.x)-de.min.x)/(Z.min.x-de.min.x),(Math.max(de.max.y,M.y)-de.max.y)/(Z.max.y-de.max.y)-(Math.min(de.min.y,M.y)-de.min.y)/(Z.min.y-de.min.y)).multiplyBy(_);f.panBy(Me,{animate:!1}),this._draggable._newPos._add(Me),this._draggable._startPos._add(Me),qt(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=he(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=he(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,f=l._shadow,_=ao(l._icon),k=l._map.layerPointToLatLng(_);f&&qt(f,_),l._latlng=k,i.latlng=k,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Pl=lr.extend({options:{icon:new sa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){x(this,l),this._latlng=xe(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=xe(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=i.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,i.title&&(f.title=i.title),f.tagName==="IMG"&&(f.alt=i.alt||"")),it(f,l),i.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(f,"focus",this._panOnFocus,this);var k=i.icon.createShadow(this._shadow),M=!1;k!==this._shadow&&(this._removeShadow(),M=!0),k&&(it(k,l),k.alt=""),this._shadow=k,i.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&M&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(this._icon,"focus",this._panOnFocus,this),Lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Lt(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&qt(this._icon,i),this._shadow&&qt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(it(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xg)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xg(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Hn(this._icon,i),this._shadow&&Hn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,f=l.iconSize?$(l.iconSize):$(0,0),_=l.iconAnchor?$(l.iconAnchor):$(0,0);i.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ZS(i,l){return new Pl(i,l)}var xi=lr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return x(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Tl=xi.extend({options:{fill:!0,radius:10},initialize:function(i,l){x(this,l),this._latlng=xe(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=xe(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return xi.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,f=this._clickTolerance(),_=[i+f,l+f];this._pxBounds=new ce(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qS(i,l){return new Tl(i,l)}var _h=Tl.extend({initialize:function(i,l,f){if(typeof l=="number"&&(l=s({},f,{radius:l})),x(this,l),this._latlng=xe(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new fe(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:xi.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===G.distance){var k=Math.PI/180,M=this._mRadius/G.R/k,Z=f.project([l+M,i]),ae=f.project([l-M,i]),de=Z.add(ae).divideBy(2),Me=f.unproject(de).lat,Fe=Math.acos((Math.cos(M*k)-Math.sin(l*k)*Math.sin(Me*k))/(Math.cos(l*k)*Math.cos(Me*k)))/k;(isNaN(Fe)||Fe===0)&&(Fe=M/Math.cos(Math.PI/180*l)),this._point=de.subtract(f.getPixelOrigin()),this._radius=isNaN(Fe)?0:de.x-f.project([Me,i-Fe]).x,this._radiusY=de.y-Z.y}else{var et=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(et).x}this._updateBounds()}});function KS(i,l,f){return new _h(i,l,f)}var Kr=xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){x(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,f=null,_=oa,k,M,Z=0,ae=this._parts.length;Z<ae;Z++)for(var de=this._parts[Z],Me=1,Fe=de.length;Me<Fe;Me++){k=de[Me-1],M=de[Me];var et=_(i,k,M,!0);et<l&&(l=et,f=_(i,k,M))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kg(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=xe(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new fe,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],f=Gn(i),_=0,k=i.length;_<k;_++)f?(l[_]=xe(i[_]),this._bounds.extend(l[_])):l[_]=this._convertLatLngs(i[_]);return l},_project:function(){var i=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new K(i,i);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,f){var _=i[0]instanceof V,k=i.length,M,Z;if(_){for(Z=[],M=0;M<k;M++)Z[M]=this._map.latLngToLayerPoint(i[M]),f.extend(Z[M]);l.push(Z)}else for(M=0;M<k;M++)this._projectLatlngs(i[M],l,f)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,_,k,M,Z,ae,de;for(f=0,k=0,M=this._rings.length;f<M;f++)for(de=this._rings[f],_=0,Z=de.length;_<Z-1;_++)ae=Sg(de[_],de[_+1],i,_,!0),ae&&(l[k]=l[k]||[],l[k].push(ae[0]),(ae[1]!==de[_+1]||_===Z-2)&&(l[k].push(ae[1]),k++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,f=0,_=i.length;f<_;f++)i[f]=yg(i[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var f,_,k,M,Z,ae,de=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(f=0,M=this._parts.length;f<M;f++)for(ae=this._parts[f],_=0,Z=ae.length,k=Z-1;_<Z;k=_++)if(!(!l&&_===0)&&bg(i,ae[k],ae[_])<=de)return!0;return!1}});function YS(i,l){return new Kr(i,l)}Kr._flat=Eg;var ts=Kr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vg(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=Kr.prototype._convertLatLngs.call(this,i),f=l.length;return f>=2&&l[0]instanceof V&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(i){Kr.prototype._setLatLngs.call(this,i),Gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,f=new K(l,l);if(i=new ce(i.min.subtract(f),i.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,k=this._rings.length,M;_<k;_++)M=_g(this._rings[_],i,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,f,_,k,M,Z,ae,de,Me;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(M=0,de=this._parts.length;M<de;M++)for(f=this._parts[M],Z=0,Me=f.length,ae=Me-1;Z<Me;ae=Z++)_=f[Z],k=f[ae],_.y>i.y!=k.y>i.y&&i.x<(k.x-_.x)*(i.y-_.y)/(k.y-_.y)+_.x&&(l=!l);return l||Kr.prototype._containsPoint.call(this,i,!0)}});function QS(i,l){return new ts(i,l)}var Yr=qr.extend({initialize:function(i,l){x(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=S(i)?i:i.features,f,_,k;if(l){for(f=0,_=l.length;f<_;f++)k=l[f],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var M=this.options;if(M.filter&&!M.filter(i))return this;var Z=Cl(i,M);return Z?(Z.feature=Ol(i),Z.defaultOptions=Z.options,this.resetStyle(Z),M.onEachFeature&&M.onEachFeature(i,Z),this.addLayer(Z)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=s({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function Cl(i,l){var f=i.type==="Feature"?i.geometry:i,_=f?f.coordinates:null,k=[],M=l&&l.pointToLayer,Z=l&&l.coordsToLatLng||vh,ae,de,Me,Fe;if(!_&&!f)return null;switch(f.type){case"Point":return ae=Z(_),Pg(M,i,ae,l);case"MultiPoint":for(Me=0,Fe=_.length;Me<Fe;Me++)ae=Z(_[Me]),k.push(Pg(M,i,ae,l));return new qr(k);case"LineString":case"MultiLineString":return de=Ml(_,f.type==="LineString"?0:1,Z),new Kr(de,l);case"Polygon":case"MultiPolygon":return de=Ml(_,f.type==="Polygon"?1:2,Z),new ts(de,l);case"GeometryCollection":for(Me=0,Fe=f.geometries.length;Me<Fe;Me++){var et=Cl({geometry:f.geometries[Me],type:"Feature",properties:i.properties},l);et&&k.push(et)}return new qr(k);case"FeatureCollection":for(Me=0,Fe=f.features.length;Me<Fe;Me++){var ot=Cl(f.features[Me],l);ot&&k.push(ot)}return new qr(k);default:throw new Error("Invalid GeoJSON object.")}}function Pg(i,l,f,_){return i?i(l,f):new Pl(f,_&&_.markersInheritOptions&&_)}function vh(i){return new V(i[1],i[0],i[2])}function Ml(i,l,f){for(var _=[],k=0,M=i.length,Z;k<M;k++)Z=l?Ml(i[k],l-1,f):(f||vh)(i[k]),_.push(Z);return _}function yh(i,l){return i=xe(i),i.alt!==void 0?[m(i.lng,l),m(i.lat,l),m(i.alt,l)]:[m(i.lng,l),m(i.lat,l)]}function Il(i,l,f,_){for(var k=[],M=0,Z=i.length;M<Z;M++)k.push(l?Il(i[M],Gn(i[M])?0:l-1,f,_):yh(i[M],_));return!l&&f&&k.length>0&&k.push(k[0].slice()),k}function ns(i,l){return i.feature?s({},i.feature,{geometry:l}):Ol(l)}function Ol(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var bh={toGeoJSON:function(i){return ns(this,{type:"Point",coordinates:yh(this.getLatLng(),i)})}};Pl.include(bh),_h.include(bh),Tl.include(bh),Kr.include({toGeoJSON:function(i){var l=!Gn(this._latlngs),f=Il(this._latlngs,l?1:0,!1,i);return ns(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),ts.include({toGeoJSON:function(i){var l=!Gn(this._latlngs),f=l&&!Gn(this._latlngs[0]),_=Il(this._latlngs,f?2:l?1:0,!0,i);return l||(_=[_]),ns(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),Jo.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(i).geometry.coordinates)}),ns(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var f=l==="GeometryCollection",_=[];return this.eachLayer(function(k){if(k.toGeoJSON){var M=k.toGeoJSON(i);if(f)_.push(M.geometry);else{var Z=Ol(M);Z.type==="FeatureCollection"?_.push.apply(_,Z.features):_.push(Z)}}}),f?ns(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Tg(i,l){return new Yr(i,l)}var XS=Tg,Rl=lr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,f){this._url=i,this._bounds=ge(l),x(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(it(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Qo(this._image),this},bringToBack:function(){return this._map&&Xo(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ge(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:dt("img");if(it(l,"leaflet-image-layer"),this._zoomAnimated&&it(l,"leaflet-zoom-animated"),this.options.className&&it(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;so(this._image,f,l)},_reset:function(){var i=this._image,l=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();qt(i,l.min),i.style.width=f.x+"px",i.style.height=f.y+"px"},_updateOpacity:function(){Hn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),JS=function(i,l,f){return new Rl(i,l,f)},Cg=Rl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:dt("video");if(it(l,"leaflet-image-layer"),this._zoomAnimated&&it(l,"leaflet-zoom-animated"),this.options.className&&it(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onloadeddata=a(this.fire,this,"load"),i){for(var f=l.getElementsByTagName("source"),_=[],k=0;k<f.length;k++)_.push(f[k].src);this._url=f.length>0?_:[l.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var Z=dt("source");Z.src=this._url[M],l.appendChild(Z)}}});function eE(i,l,f){return new Cg(i,l,f)}var Mg=Rl.extend({_initImage:function(){var i=this._image=this._url;it(i,"leaflet-image-layer"),this._zoomAnimated&&it(i,"leaflet-zoom-animated"),this.options.className&&it(i,this.options.className),i.onselectstart=p,i.onmousemove=p}});function tE(i,l,f){return new Mg(i,l,f)}var Ir=lr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof V||S(i))?(this._latlng=xe(i),x(this,l)):(x(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Hn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Hn(this._container,1),this.bringToFront(),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Hn(this._container,0),this._removeTimeout=setTimeout(a(Lt,void 0,this._container),200)):Lt(this._container),this.options.interactive&&(Gt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=xe(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qo(this._container),this},bringToBack:function(){return this._map&&Xo(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof qr){l=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){l=f[_];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=$(this.options.offset),f=this._getAnchor();this._zoomAnimated?qt(this._container,i.add(f)):l=l.add(i).add(f);var _=this._containerBottom=-l.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=_+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});ut.include({_initOverlay:function(i,l,f,_){var k=l;return k instanceof i||(k=new i(_).setContent(l)),f&&k.setLatLng(f),k}}),lr.include({_initOverlay:function(i,l,f,_){var k=f;return k instanceof i?(x(k,_),k._source=this):(k=l&&!_?l:new i(_,this),k.setContent(f)),k}});var Nl=Ir.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Ir.prototype.openOn.call(this,i)},onAdd:function(i){Ir.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xi||this._source.on("preclick",lo))},onRemove:function(i){Ir.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xi||this._source.off("preclick",lo))},getEvents:function(){var i=Ir.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=dt("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=dt("div",i+"-content-wrapper",l);if(this._contentNode=dt("div",i+"-content",f),ra(l),uh(this._contentNode),rt(l,"contextmenu",lo),this._tipContainer=dt("div",i+"-tip-container",l),this._tip=dt("div",i+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=dt("a",i+"-close-button",l);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',rt(_,"click",function(k){ln(k),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var f=i.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var _=i.offsetHeight,k=this.options.maxHeight,M="leaflet-popup-scrolled";k&&_>k?(l.height=k+"px",it(i,M)):Gt(i,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),f=this._getAnchor();qt(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Js(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,_=this._containerWidth,k=new K(this._containerLeft,-f-this._containerBottom);k._add(ao(this._container));var M=i.layerPointToContainerPoint(k),Z=$(this.options.autoPanPadding),ae=$(this.options.autoPanPaddingTopLeft||Z),de=$(this.options.autoPanPaddingBottomRight||Z),Me=i.getSize(),Fe=0,et=0;M.x+_+de.x>Me.x&&(Fe=M.x+_-Me.x+de.x),M.x-Fe-ae.x<0&&(Fe=M.x-ae.x),M.y+f+de.y>Me.y&&(et=M.y+f-Me.y+de.y),M.y-et-ae.y<0&&(et=M.y-ae.y),(Fe||et)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Fe,et]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),nE=function(i,l){return new Nl(i,l)};ut.mergeOptions({closePopupOnClick:!0}),ut.include({openPopup:function(i,l,f){return this._initOverlay(Nl,i,l,f).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),lr.include({bindPopup:function(i,l){return this._popup=this._initOverlay(Nl,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof qr||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){uo(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Ll=Ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Ir.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Ir.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Ir.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=dt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,f,_=this._map,k=this._container,M=_.latLngToContainerPoint(_.getCenter()),Z=_.layerPointToContainerPoint(i),ae=this.options.direction,de=k.offsetWidth,Me=k.offsetHeight,Fe=$(this.options.offset),et=this._getAnchor();ae==="top"?(l=de/2,f=Me):ae==="bottom"?(l=de/2,f=0):ae==="center"?(l=de/2,f=Me/2):ae==="right"?(l=0,f=Me/2):ae==="left"?(l=de,f=Me/2):Z.x<M.x?(ae="right",l=0,f=Me/2):(ae="left",l=de+(Fe.x+et.x)*2,f=Me/2),i=i.subtract($(l,f,!0)).add(Fe).add(et),Gt(k,"leaflet-tooltip-right"),Gt(k,"leaflet-tooltip-left"),Gt(k,"leaflet-tooltip-top"),Gt(k,"leaflet-tooltip-bottom"),it(k,"leaflet-tooltip-"+ae),qt(k,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Hn(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),rE=function(i,l){return new Ll(i,l)};ut.include({openTooltip:function(i,l,f){return this._initOverlay(Ll,i,l,f).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),lr.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ll,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof qr||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(rt(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),rt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,f,_;this._tooltip.options.sticky&&i.originalEvent&&(f=this._map.mouseEventToContainerPoint(i.originalEvent),_=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(l)}});var Ig=es.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),f=this.options;if(f.html instanceof Element?(wl(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=$(f.bgPos);l.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function iE(i){return new Ig(i)}es.Default=sa;var aa=lr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){x(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Lt(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof K?i:new K(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,f=-i(-1/0,1/0),_=0,k=l.length,M;_<k;_++)M=l[_].style.zIndex,l[_]!==this._container&&M&&(f=i(f,+M));isFinite(f)&&(this.options.zIndex=f+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$e.ielt9){Hn(this._container,this.options.opacity);var i=+new Date,l=!1,f=!1;for(var _ in this._tiles){var k=this._tiles[_];if(!(!k.current||!k.loaded)){var M=Math.min(1,(i-k.loaded)/200);Hn(k.el,M),M<1?l=!0:(k.active?f=!0:this._onOpaqueTile(k),k.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=he(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=dt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===i?(this._levels[f].el.style.zIndex=l-Math.abs(i-f),this._onUpdateLevel(f)):(Lt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[i],k=this._map;return _||(_=this._levels[i]={},_.el=dt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=l,_.origin=k.project(k.unproject(k.getPixelOrigin()),i).round(),_.zoom=i,this._setZoomTransform(_,k.getCenter(),k.getZoom()),p(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var i,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var _=l.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Lt(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,f,_){var k=Math.floor(i/2),M=Math.floor(l/2),Z=f-1,ae=new K(+k,+M);ae.z=+Z;var de=this._tileCoordsToKey(ae),Me=this._tiles[de];return Me&&Me.active?(Me.retain=!0,!0):(Me&&Me.loaded&&(Me.retain=!0),Z>_?this._retainParent(k,M,Z,_):!1)},_retainChildren:function(i,l,f,_){for(var k=2*i;k<2*i+2;k++)for(var M=2*l;M<2*l+2;M++){var Z=new K(k,M);Z.z=f+1;var ae=this._tileCoordsToKey(Z),de=this._tiles[ae];if(de&&de.active){de.retain=!0;continue}else de&&de.loaded&&(de.retain=!0);f+1<_&&this._retainChildren(k,M,f+1,_)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,f,_){var k=Math.round(l);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var M=this.options.updateWhenZooming&&k!==this._tileZoom;(!_||M)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(i),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],i,l)},_setZoomTransform:function(i,l,f){var _=this._map.getZoomScale(f,i.zoom),k=i.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(l,f)).round();$e.any3d?so(i.el,k,_):qt(i.el,k)},_resetGrid:function(){var i=this._map,l=i.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],_).x/f.x),Math.ceil(i.project([0,l.wrapLng[1]],_).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],_).y/f.x),Math.ceil(i.project([l.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),_=l.getZoomScale(f,this._tileZoom),k=l.project(i,this._tileZoom).floor(),M=l.getSize().divideBy(_*2);return new ce(k.subtract(M),k.add(M))},_update:function(i){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(i),k=this._pxBoundsToTileRange(_),M=k.getCenter(),Z=[],ae=this.options.keepBuffer,de=new ce(k.getBottomLeft().subtract([ae,-ae]),k.getTopRight().add([ae,-ae]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Me in this._tiles){var Fe=this._tiles[Me].coords;(Fe.z!==this._tileZoom||!de.contains(new K(Fe.x,Fe.y)))&&(this._tiles[Me].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(i,f);return}for(var et=k.min.y;et<=k.max.y;et++)for(var ot=k.min.x;ot<=k.max.x;ot++){var bn=new K(ot,et);if(bn.z=this._tileZoom,!!this._isValidTile(bn)){var en=this._tiles[this._tileCoordsToKey(bn)];en?en.current=!0:Z.push(bn)}}if(Z.sort(function(Pn,is){return Pn.distanceTo(M)-is.distanceTo(M)}),Z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zn=document.createDocumentFragment();for(ot=0;ot<Z.length;ot++)this._addTile(Z[ot],Zn);this._level.el.appendChild(Zn)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(i.x<f.min.x||i.x>f.max.x)||!l.wrapLat&&(i.y<f.min.y||i.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(i);return ge(this.options.bounds).overlaps(_)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,f=this.getTileSize(),_=i.scaleBy(f),k=_.add(f),M=l.unproject(_,i.z),Z=l.unproject(k,i.z);return[M,Z]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),f=new fe(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),f=new K(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(i){var l=this._tiles[i];l&&(Lt(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){it(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=p,i.onmousemove=p,$e.ielt9&&this.options.opacity<1&&Hn(i,this.options.opacity)},_addTile:function(i,l){var f=this._getTilePos(i),_=this._tileCoordsToKey(i),k=this.createTile(this._wrapCoords(i),a(this._tileReady,this,i));this._initTile(k),this.createTile.length<2&&he(a(this._tileReady,this,i,null,k)),qt(k,f),this._tiles[_]={el:k,coords:i,current:!0},l.appendChild(k),this.fire("tileloadstart",{tile:k,coords:i})},_tileReady:function(i,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:i});var _=this._tileCoordsToKey(i);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Hn(f.el,0),U(this._fadeFrame),this._fadeFrame=he(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(it(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$e.ielt9||!this._map._fadeAnimated?he(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new K(this._wrapX?d(i.x,this._wrapX):i.x,this._wrapY?d(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new ce(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function oE(i){return new aa(i)}var rs=aa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=x(this,l),l.detectRetina&&$e.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var f=document.createElement("img");return rt(f,"load",a(this._tileOnLoad,this,l,f)),rt(f,"error",a(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(i),f},getTileUrl:function(i){var l={r:$e.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=f),l["-y"]=f}return y(this._url,s(l,this.options))},_tileOnLoad:function(i,l){$e.ielt9?setTimeout(a(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,f){var _=this.options.errorTileUrl;_&&l.getAttribute("src")!==_&&(l.src=_),i(f,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(i=l-i),i+_},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=p,l.onerror=p,!l.complete)){l.src=R;var f=this._tiles[i].coords;Lt(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",R),aa.prototype._removeTile.call(this,i)},_tileReady:function(i,l,f){if(!(!this._map||f&&f.getAttribute("src")===R))return aa.prototype._tileReady.call(this,i,l,f)}});function Og(i,l){return new rs(i,l)}var Rg=rs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var f=s({},this.defaultWmsParams);for(var _ in l)_ in this.options||(f[_]=l[_]);l=x(this,l);var k=l.detectRetina&&$e.retina?2:1,M=this.getTileSize();f.width=M.x*k,f.height=M.y*k,this.wmsParams=f},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,rs.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),f=this._crs,_=j(f.project(l[0]),f.project(l[1])),k=_.min,M=_.max,Z=(this._wmsVersion>=1.3&&this._crs===Ag?[k.y,k.x,M.y,M.x]:[k.x,k.y,M.x,M.y]).join(","),ae=rs.prototype.getTileUrl.call(this,i);return ae+P(this.wmsParams,ae,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Z},setParams:function(i,l){return s(this.wmsParams,i),l||this.redraw(),this}});function sE(i,l){return new Rg(i,l)}rs.WMS=Rg,Og.wms=sE;var Qr=lr.extend({options:{padding:.1},initialize:function(i){x(this,i),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),it(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var f=this._map.getZoomScale(l,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,l),M=_.multiplyBy(-f).add(k).subtract(this._map._getNewPixelOrigin(i,l));$e.any3d?so(this._container,M,f):qt(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new ce(f,f.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ng=Qr.extend({options:{tolerance:0},getEvents:function(){var i=Qr.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");rt(i,"mousemove",this._onMouseMove,this),rt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),rt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Lt(this._container),At(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qr.prototype._update.call(this);var i=this._bounds,l=this._container,f=i.getSize(),_=$e.retina?2:1;qt(l,i.min),l.width=_*f.x,l.height=_*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",$e.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[c(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,f=l.next,_=l.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete i._order,delete this._layers[c(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),f=[],_,k;for(k=0;k<l.length;k++){if(_=Number(l[k]),isNaN(_))return;f.push(_)}i.options._dashArray=f}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||he(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)i=_.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var f,_,k,M,Z=i._parts,ae=Z.length,de=this._ctx;if(ae){for(de.beginPath(),f=0;f<ae;f++){for(_=0,k=Z[f].length;_<k;_++)M=Z[f][_],de[_?"lineTo":"moveTo"](M.x,M.y);l&&de.closePath()}this._fillStroke(de,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,f=this._ctx,_=Math.max(Math.round(i._radius),1),k=(Math.max(Math.round(i._radiusY),1)||_)/_;k!==1&&(f.save(),f.scale(1,k)),f.beginPath(),f.arc(l.x,l.y/k,_,0,Math.PI*2,!1),k!==1&&f.restore(),this._fillStroke(f,i)}},_fillStroke:function(i,l){var f=l.options;f.fill&&(i.globalAlpha=f.fillOpacity,i.fillStyle=f.fillColor||f.color,i.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=f.opacity,i.lineWidth=f.weight,i.strokeStyle=f.color,i.lineCap=f.lineCap,i.lineJoin=f.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),f,_,k=this._drawFirst;k;k=k.next)f=k.layer,f.options.interactive&&f._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(Gt(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var f,_,k=this._drawFirst;k;k=k.next)f=k.layer,f.options.interactive&&f._containsPoint(l)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(i),_&&(it(this._container,"leaflet-interactive"),this._fireEvent([_],i,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,f){this._map._fireDOMEvent(l,f||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var f=l.next,_=l.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var f=l.next,_=l.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function Lg(i){return $e.canvas?new Ng(i):null}var la=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),aE={_initContainer:function(){this._container=dt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Qr.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=la("shape");it(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=la("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[c(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;Lt(l),i.removeInteractiveTarget(l),delete this._layers[c(i)]},_updateStyle:function(i){var l=i._stroke,f=i._fill,_=i.options,k=i._container;k.stroked=!!_.stroke,k.filled=!!_.fill,_.stroke?(l||(l=i._stroke=la("stroke")),k.appendChild(l),l.weight=_.weight+"px",l.color=_.color,l.opacity=_.opacity,_.dashArray?l.dashStyle=S(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=_.lineCap.replace("butt","flat"),l.joinstyle=_.lineJoin):l&&(k.removeChild(l),i._stroke=null),_.fill?(f||(f=i._fill=la("fill")),k.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(k.removeChild(f),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),f=Math.round(i._radius),_=Math.round(i._radiusY||f);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Qo(i._container)},_bringToBack:function(i){Xo(i._container)}},Dl=$e.vml?la:H,ua=Qr.extend({_initContainer:function(){this._container=Dl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Dl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Lt(this._container),At(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Qr.prototype._update.call(this);var i=this._bounds,l=i.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),qt(f,i.min),f.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Dl("path");i.options.className&&it(l,i.options.className),i.options.interactive&&it(l,"leaflet-interactive"),this._updateStyle(i),this._layers[c(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Lt(i._path),i.removeInteractiveTarget(i._path),delete this._layers[c(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,f=i.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Y(i._parts,l))},_updateCircle:function(i){var l=i._point,f=Math.max(Math.round(i._radius),1),_=Math.max(Math.round(i._radiusY),1)||f,k="a"+f+","+_+" 0 1,0 ",M=i._empty()?"M0 0":"M"+(l.x-f)+","+l.y+k+f*2+",0 "+k+-f*2+",0 ";this._setPath(i,M)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Qo(i._path)},_bringToBack:function(i){Xo(i._path)}});$e.vml&&ua.include(aE);function Dg(i){return $e.svg||$e.vml?new ua(i):null}ut.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&Lg(i)||Dg(i)}});var Bg=ts.extend({initialize:function(i,l){ts.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ge(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function lE(i,l){return new Bg(i,l)}ua.create=Dl,ua.pointsToPath=Y,Yr.geometryToLayer=Cl,Yr.coordsToLatLng=vh,Yr.coordsToLatLngs=Ml,Yr.latLngToCoords=yh,Yr.latLngsToCoords=Il,Yr.getFeature=ns,Yr.asFeature=Ol,ut.mergeOptions({boxZoom:!0});var jg=Mr.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ea(),th(),this._startPoint=this._map.mouseEventToContainerPoint(i),rt(document,{contextmenu:uo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=dt("div","leaflet-zoom-box",this._container),it(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new ce(this._point,this._startPoint),f=l.getSize();qt(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Lt(this._box),Gt(this._container,"leaflet-crosshair")),ta(),nh(),At(document,{contextmenu:uo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new fe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ut.addInitHook("addHandler","boxZoom",jg),ut.mergeOptions({doubleClickZoom:!0});var Ug=Mr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,f=l.getZoom(),_=l.options.zoomDelta,k=i.originalEvent.shiftKey?f-_:f+_;l.options.doubleClickZoom==="center"?l.setZoom(k):l.setZoomAround(i.containerPoint,k)}});ut.addInitHook("addHandler","doubleClickZoom",Ug),ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zg=Mr.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Ai(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}it(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Gt(this._map._container,"leaflet-grab"),Gt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ge(this._map.options.maxBounds);this._offsetLimit=j(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,k=(_-l+f)%i+l-f,M=(_+l+f)%i-l-f,Z=Math.abs(k+f)<Math.abs(M+f)?k:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Z},_onDragEnd:function(i){var l=this._map,f=l.options,_=!f.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),_)l.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,Z=f.easeLinearity,ae=k.multiplyBy(Z/M),de=ae.distanceTo([0,0]),Me=Math.min(f.inertiaMaxSpeed,de),Fe=ae.multiplyBy(Me/de),et=Me/(f.inertiaDeceleration*Z),ot=Fe.multiplyBy(-et/2).round();!ot.x&&!ot.y?l.fire("moveend"):(ot=l._limitOffset(ot,l.options.maxBounds),he(function(){l.panBy(ot,{duration:et,easeLinearity:Z,noMoveStart:!0,animate:!0})}))}}});ut.addInitHook("addHandler","dragging",zg),ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fg=Mr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),rt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),At(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,f=i.scrollTop||l.scrollTop,_=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},f=this.keyCodes,_,k;for(_=0,k=f.left.length;_<k;_++)l[f.left[_]]=[-1*i,0];for(_=0,k=f.right.length;_<k;_++)l[f.right[_]]=[i,0];for(_=0,k=f.down.length;_<k;_++)l[f.down[_]]=[0,i];for(_=0,k=f.up.length;_<k;_++)l[f.up[_]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},f=this.keyCodes,_,k;for(_=0,k=f.zoomIn.length;_<k;_++)l[f.zoomIn[_]]=i;for(_=0,k=f.zoomOut.length;_<k;_++)l[f.zoomOut[_]]=-i},_addHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){At(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,f=this._map,_;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[l],i.shiftKey&&(_=$(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset($(_),f.options.maxBounds)),f.options.worldCopyJump){var k=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(k)}else f.panBy(_)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;uo(i)}}});ut.addInitHook("addHandler","keyboard",Fg),ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $g=Mr.extend({addHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=fg(i),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),_),uo(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),f=this._map.options.zoomSnap||0;i._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,M=f?Math.ceil(k/f)*f:k,Z=i._limitZoom(l+(this._delta>0?M:-M))-l;this._delta=0,this._startTime=null,Z&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+Z):i.setZoomAround(this._lastMousePos,l+Z))}});ut.addInitHook("addHandler","scrollWheelZoom",$g);var uE=600;ut.mergeOptions({tapHold:$e.touchNative&&$e.safari&&$e.mobile,tapTolerance:15});var Wg=Mr.extend({addHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new K(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(rt(document,"touchend",ln),rt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),uE),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){At(document,"touchend",ln),At(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new K(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var f=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});ut.addInitHook("addHandler","tapHold",Wg),ut.mergeOptions({touchZoom:$e.touch,bounceAtZoomLimits:!0});var Vg=Mr.extend({addHooks:function(){it(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Gt(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(i.touches[0]),_=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),ln(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(i.touches[0]),_=l.mouseEventToContainerPoint(i.touches[1]),k=f.distanceTo(_)/this._startDist;if(this._zoom=l.getScaleZoom(k,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&k<1||this._zoom>l.getMaxZoom()&&k>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var M=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(k===1&&M.x===0&&M.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var Z=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=he(Z,this,!0),ln(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ut.addInitHook("addHandler","touchZoom",Vg),ut.BoxZoom=jg,ut.DoubleClickZoom=Ug,ut.Drag=zg,ut.Keyboard=Fg,ut.ScrollWheelZoom=$g,ut.TapHold=Wg,ut.TouchZoom=Vg,n.Bounds=ce,n.Browser=$e,n.CRS=J,n.Canvas=Ng,n.Circle=_h,n.CircleMarker=Tl,n.Class=ue,n.Control=ar,n.DivIcon=Ig,n.DivOverlay=Ir,n.DomEvent=PS,n.DomUtil=AS,n.Draggable=Ai,n.Evented=ke,n.FeatureGroup=qr,n.GeoJSON=Yr,n.GridLayer=aa,n.Handler=Mr,n.Icon=es,n.ImageOverlay=Rl,n.LatLng=V,n.LatLngBounds=fe,n.Layer=lr,n.LayerGroup=Jo,n.LineUtil=zS,n.Map=ut,n.Marker=Pl,n.Mixin=NS,n.Path=xi,n.Point=K,n.PolyUtil=LS,n.Polygon=ts,n.Polyline=Kr,n.Popup=Nl,n.PosAnimation=dg,n.Projection=FS,n.Rectangle=Bg,n.Renderer=Qr,n.SVG=ua,n.SVGOverlay=Mg,n.TileLayer=rs,n.Tooltip=Ll,n.Transformation=ne,n.Util=se,n.VideoOverlay=Cg,n.bind=a,n.bounds=j,n.canvas=Lg,n.circle=KS,n.circleMarker=qS,n.control=ia,n.divIcon=iE,n.extend=s,n.featureGroup=HS,n.geoJSON=Tg,n.geoJson=XS,n.gridLayer=oE,n.icon=GS,n.imageOverlay=JS,n.latLng=xe,n.latLngBounds=ge,n.layerGroup=VS,n.map=TS,n.marker=ZS,n.point=$,n.polygon=QS,n.polyline=YS,n.popup=nE,n.rectangle=lE,n.setOptions=x,n.stamp=c,n.svg=Dg,n.svgOverlay=tE,n.tileLayer=Og,n.tooltip=rE,n.transformation=re,n.version=r,n.videoOverlay=eE;var cE=window.L;n.noConflict=function(){return window.L=cE,this},window.L=n})})(Sd,Sd.exports);var Gs=Sd.exports;const Vo=hy(Gs);function Hc(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Km(e,t){return t==null?function(r,s){const o=Re.useRef();return o.current||(o.current=e(r,s)),o}:function(r,s){const o=Re.useRef();o.current||(o.current=e(r,s));const a=Re.useRef(r),{instance:u}=o.current;return Re.useEffect(function(){a.current!==r&&(t(u,r,a.current),a.current=r)},[u,r,s]),o}}function Tw(e,t){Re.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Cw(e){return function(n){const r=Zm(),s=e(qm(n,r),r);return ET(r.map,n.attribution),Pw(s.current,n.eventHandlers),Tw(s.current,r),s}}function TT(e,t){const n=Re.useRef();Re.useEffect(function(){if(t.pathOptions!==n.current){const s=t.pathOptions??{};e.instance.setStyle(s),n.current=s}},[e,t])}function CT(e){return function(n){const r=Zm(),s=e(qm(n,r),r);return Pw(s.current,n.eventHandlers),Tw(s.current,r),TT(s.current,n),s}}function MT(e,t){const n=Km(e,t),r=Cw(n);return xw(r)}function Mw(e,t){const n=Km(e,t),r=CT(n);return xw(r)}function IT(e,t){const n=Km(e,t),r=Cw(n);return PT(r)}function OT(e,t,n){const{opacity:r,zIndex:s}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),s!=null&&s!==n.zIndex&&e.setZIndex(s)}function Iw(){return Zm().map}function RT(e){const t=Iw();return Re.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const NT=Mw(function({center:t,children:n,...r},s){const o=new Gs.Circle(t,r);return Hc(o,Gm(s,{overlayContainer:o}))},kT);function Ed(){return Ed=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(this,arguments)}function LT({bounds:e,boundsOptions:t,center:n,children:r,className:s,id:o,placeholder:a,style:u,whenReady:c,zoom:h,...d},p){const[m]=Re.useState({className:s,id:o,style:u}),[g,w]=Re.useState(null);Re.useImperativeHandle(p,()=>(g==null?void 0:g.map)??null,[g]);const x=Re.useCallback(A=>{if(A!==null&&g===null){const y=new Gs.Map(A,d);n!=null&&h!=null?y.setView(n,h):e!=null&&y.fitBounds(e,t),c!=null&&y.whenReady(c),w(xT(y))}},[]);Re.useEffect(()=>()=>{g==null||g.map.remove()},[g]);const P=g?Ki.createElement(Aw,{value:g},r):a??null;return Ki.createElement("div",Ed({},m,{ref:x}),P)}const DT=Re.forwardRef(LT),Ow=MT(function({position:t,...n},r){const s=new Gs.Marker(t,n);return Hc(s,Gm(r,{overlayContainer:s}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),BT=Mw(function({positions:t,...n},r){const s=new Gs.Polyline(t,n);return Hc(s,Gm(r,{overlayContainer:s}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),jT=IT(function({url:t,...n},r){const s=new Gs.TileLayer(t,qm(n,r));return Hc(s,r)},function(t,n,r){OT(t,n,r);const{url:s}=n;s!=null&&s!==r.url&&t.setUrl(s)}),UT=(e,t,n)=>{let r=e.beam/t;r=Math.max(r,8);const o=r*2+6,a=o/2,u=o/2,c=`gradient-${e.vesselId}-${Date.now()}`,h=`
    <svg xmlns="http://www.w3.org/2000/svg" 
         width="${o}" 
         height="${o}" 
         viewBox="0 0 ${o} ${o}"
         style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
      <defs>
        <radialGradient id="${c}" cx="50%" cy="50%" r="50%">
          <stop offset="0%" style="stop-color:${n.fill};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${n.fill};stop-opacity:0.4" />
        </radialGradient>
      </defs>
      <circle cx="${a}" cy="${u}" r="${r}" 
              fill="url(#${c})"/>
    </svg>
  `;return Vo.divIcon({html:h,iconSize:[o,o],iconAnchor:[a,u],className:"vessel-circle-icon"})},zT=(e,t,n)=>{let r=e.length/t,s=e.beam/t;const o=20;if(r<o){const P=o/r;r=o,s=s*P}const a=Math.sqrt(r*r+s*s)*1.2,u=a/2,c=a/2,h=c-r/2,d=c+r/2,p=s/2,m=`
    <svg xmlns="http://www.w3.org/2000/svg" 
         width="${a}" 
         height="${a}" 
         viewBox="0 0 ${a} ${a}"
         style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
      <g transform="rotate(${e.heading}, ${u}, ${c})">
        <!-- Boat hull -->
        <path d="M ${u} ${h}
                 L ${u+p} ${h+r*.3}
                 L ${u+p} ${d-r*.2}
                 Q ${u} ${d} ${u-p} ${d-r*.2}
                 L ${u-p} ${h+r*.3}
                 Z" 
              fill="${n.fill}"
              stroke="${n.stroke}" 
              stroke-width="1"/>
 
       
        <!-- GPS position marker at bow -->
        <!--circle cx="${u}" cy="${h}" r="3" fill="red" stroke="white" stroke-width="1"/-->
      </g>
    </svg>
  `,g=e.heading*Math.PI/180,w=Math.sin(g)*(r/2),x=-Math.cos(g)*(r/2);return Vo.divIcon({html:m,iconSize:[a,a],iconAnchor:[u+w,c+x],className:"boat-icon"})},FT=(e,t,n)=>{let a=e.length/t,u=e.beam/t;const c=20;if(a<c){const ie=c/a;a=c,u=u*ie}const h=Math.sqrt(a*a+u*u)*1.2,d=h/2,p=h/2,m=p-a/2,g=p+a/2,w=u/2,P=u*.35/2,A=w-P,y=a*.3,S=a*.1,I=m+y,R=g-S,T=`
    <svg xmlns="http://www.w3.org/2000/svg" 
         width="${h}" 
         height="${h}" 
         viewBox="0 0 ${h} ${h}"
         style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
      <g transform="rotate(${e.heading}, ${d}, ${p})">
        <!-- Single path catamaran outline with smooth bows and semicircular sterns -->
        <path d="M ${d-A} ${m}
                 Q ${d-A-P*.7} ${m+y*.3} ${d-A-P} ${I}
                 L ${d-A-P} ${R}
                 A ${P} ${S} 0 0 0 ${d-A+P} ${R}
                 L ${d+A-P} ${R}
                 A ${P} ${S} 0 0 0 ${d+A+P} ${R}
                 L ${d+A+P} ${I}
                 Q ${d+A+P*.7} ${m+y*.3} ${d+A} ${m}
                 Q ${d+A-P*.7} ${m+y*.3} ${d+A-P} ${I}
                 L ${d-A+P} ${I}
                 Q ${d-A+P*.7} ${m+y*.3} ${d-A} ${m}
                 Z" 
              fill="${n.fill}"
              stroke="${n.stroke}" 
              stroke-width="1"/>
      </g>
    </svg>
  `,C=e.heading*Math.PI/180,N=Math.sin(C)*(a/2),te=-Math.cos(C)*(a/2);return Vo.divIcon({html:T,iconSize:[h,h],iconAnchor:[d+N,p+te],className:"catamaran-icon"})},$T=(e,t,n)=>e.heading===null||e.heading===void 0?UT(e,t,n):e.length/e.beam<=2.5?FT(e,t,n):zT(e,t,n),WT=(e,t)=>{const r=3/e,o=Math.max(r,10),a=`
    <svg xmlns="http://www.w3.org/2000/svg" 
         width="${o}" 
         height="${o}" 
         viewBox="0 0 24 24"
         style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));">
      <g fill="${t.fill}" stroke="${t.stroke}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"  opacity="${t.opacity}">
        <circle cx="12" cy="5" r="3"/>
        <line x1="12" y1="8" x2="12" y2="22"/>
        <path d="M5 12H2a10 10 0 0 0 20 0h-3"/>
      </g>
    </svg>
  `;return Vo.divIcon({html:a,iconSize:[o,o],iconAnchor:[o/2,o/2],className:"anchor-icon"})},VT=({vessels:e,metersPerPixel:t})=>D.jsx(D.Fragment,{children:e.map(n=>!n.latitude||!n.longitude?null:D.jsx(Ow,{position:[n.latitude,n.longitude],icon:$T(n,t,n.colors),opacity:n.colors.opacity},n.vesselId))}),HT=({anchor:e,metersPerPixel:t})=>e?D.jsx(Ow,{position:[e.position.latitude,e.position.longitude],icon:WT(t,e.colors),opacity:e.colors.opacity}):null,GT=({zones:e})=>D.jsx(D.Fragment,{children:e.map((t,n)=>D.jsx(NT,{center:[t.center.latitude,t.center.longitude],radius:t.radius,fillColor:t.colors.fill,fillOpacity:t.colors.opacity,stroke:t.colors.stroke!==null},n))}),ZT=({tracks:e})=>D.jsx(D.Fragment,{children:e.map(t=>t.segments.map((n,r)=>D.jsx(BT,{positions:n.positions.map(s=>[s.latitude,s.longitude]),color:t.colors.stroke||"#000000",opacity:n.opacity,weight:1.5,lineCap:"butt",lineJoin:"miter"},`${t.vesselId}-${r}`)))}),qT=Ar(({metersPerPixel:e})=>{const t=[5,10,20,50,100,200,500,1e3,2e3,5e3];let n="",r=0;for(const s of t){const o=s/e;if(o>=40&&o<=100){n=s>=1e3?`${(s/1e3).toFixed(s>=1e4?0:1)} km`:`${s} m`,r=o;break}}if(!n){const s=Math.round(60*e/10)*10;n=s>=1e3?`${(s/1e3).toFixed(0)} km`:`${s} m`,r=60}return D.jsxs("div",{className:"scale-bar",children:[D.jsx("div",{className:"scale-line",style:{width:`${r}px`}}),D.jsx("span",{children:n})]})});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YT=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),kv=e=>{const t=YT(e);return t.charAt(0).toUpperCase()+t.slice(1)},Rw=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),QT=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Re.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...u},c)=>Re.createElement("svg",{ref:c,...XT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Rw("lucide",s),...!o&&!QT(u)&&{"aria-hidden":"true"},...u},[...a.map(([h,d])=>Re.createElement(h,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(e,t)=>{const n=Re.forwardRef(({className:r,...s},o)=>Re.createElement(JT,{ref:o,iconNode:t,className:Rw(`lucide-${KT(kv(e))}`,`lucide-${e}`,r),...s}));return n.displayName=kv(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],Av=Tt("anchor",eC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],xv=Tt("bell-off",tC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rC=Tt("chevron-left",nC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oC=Tt("chevron-right",iC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aC=Tt("circle-alert",sC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pv=Tt("circle-check-big",lC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tv=Tt("circle-x",uC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Cv=Tt("external-link",cC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pc=Tt("loader-circle",hC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],dC=Tt("menu",fC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M5 12h14",key:"1ays0h"}]],mC=Tt("minus",pC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],_C=Tt("navigation",gC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],yC=Tt("plus",vC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M20.34 17.52a10 10 0 1 0-2.82 2.82",key:"fydyku"}],["circle",{cx:"19",cy:"19",r:"2",key:"17f5cg"}],["path",{d:"m13.41 13.41 4.18 4.18",key:"1gqbwc"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wC=Tt("radius",bC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],EC=Tt("send",SC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],Mv=Tt("share",kC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],xC=Tt("shield-alert",AC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],TC=Tt("shield-check",PC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],MC=Tt("shield-off",CC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],OC=Tt("shield-x",IC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],NC=Tt("shield",RC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],nf=Tt("smartphone",LC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],BC=Tt("wifi-high",DC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],UC=Tt("wifi-low",jC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Iv=Tt("wifi-off",zC);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],$C=Tt("wifi",FC),WC="_container_6hf66_1",VC="_visible_6hf66_9",HC="_hidden_6hf66_13",GC="_button_6hf66_18",ou={container:WC,visible:VC,hidden:HC,button:GC},ZC=Ar(({isVisible:e,onLocate:t})=>{const n=Re.useRef(null);return Re.useEffect(()=>{n.current&&Vo.DomEvent.disableClickPropagation(n.current)},[]),D.jsx("div",{ref:n,className:`${ou.container} ${e?ou.visible:ou.hidden}`,children:D.jsx("button",{className:ou.button,onClick:t,"aria-label":"Center map on target",children:D.jsx(_C,{size:16})})})}),qC="_map_9u5md_1",KC={map:qC},Ov=17,Nw=10,Lw=21,rf=(e,t)=>156543.03392*Math.cos(t*Math.PI/180)/Math.pow(2,e),YC=(e,t)=>{const r=156543.03392*Math.cos(t*Math.PI/180),s=Math.log2(r/e);return Math.max(Nw,Math.min(Lw,s))};delete Vo.Icon.Default.prototype._getIconUrl;Vo.Icon.Default.mergeOptions({iconRetinaUrl:void 0,iconUrl:void 0,shadowUrl:void 0});const QC=(e,t,n)=>{const r=n*.7,s=e*2/r;return YC(s,t)},XC=Ar(({vessels:e,tracks:t,anchorZones:n,anchor:r,mapCenter:s,safeArea:o})=>{const[a,u]=Re.useState(null),[c,h]=Re.useState(rf(Ov,0)),d=()=>{if(!a)return!1;let x;return r?x=r.position:x=e.find(y=>y.vesselId==="self"),x?!a.getBounds().contains([x.latitude,x.longitude]):!1},[p,m]=Re.useState(!1),g=Re.useCallback(()=>{a&&s&&a.setView([s.lat,s.lng],a.getZoom(),{animate:!0})},[s]),w=()=>{const x=Iw();return Re.useEffect(()=>{u(x);const P=x.getZoom(),A=x.getCenter(),y=rf(P,A.lat);h(y)},[x]),RT({zoomend:()=>{const P=x.getZoom(),A=x.getCenter(),y=rf(P,A.lat);h(y)},moveend:()=>{m(d())}}),null};return Re.useEffect(()=>{a&&m(d())},[e,r]),Re.useEffect(()=>{if(a&&s&&o){const{lat:x,lng:P,zoomToFitRadius:A,animate:y}=s,S=a.getContainer(),I=S.clientWidth/2,R=S.clientHeight/2,T=S.clientWidth-o.left-o.right,C=S.clientHeight-o.top-Math.abs(o.bottom),N=o.left+T/2,te=o.top+C/2,ie=(N-I)/2,he=(te-R)/2,U=a.project([x,P],a.getZoom());U.x-=ie,U.y-=he;const se=a.unproject(U,a.getZoom()),ue=se.lat,X=se.lng;if(A!==void 0){const Ee=QC(A,x,T);a.setView([ue,X],Ee,{animate:y})}else a.setView([ue,X],a.getZoom(),{animate:y})}},[s,a,o]),Re.useEffect(()=>{if(a&&o){console.log("Resetting safe area CSS variables:",o);const x=a.getContainer();x.style.setProperty("--safe-area-top",`${o.top}px`),x.style.setProperty("--safe-area-bottom",`${o.bottom}px`),x.style.setProperty("--safe-area-left",`${o.left}px`),x.style.setProperty("--safe-area-right",`${o.right}px`)}},[a,o]),D.jsxs(DT,{center:[0,0],zoom:Ov,className:KC.map,zoomControl:!1,maxZoom:Lw,minZoom:Nw,style:{position:"fixed",height:"100dvh",width:"100%"},children:[D.jsx(jT,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),D.jsx(w,{}),D.jsx(ZT,{tracks:t}),D.jsx(VT,{vessels:e,metersPerPixel:c}),D.jsx(GT,{zones:n}),D.jsx(HT,{anchor:r,metersPerPixel:c}),D.jsx(qT,{metersPerPixel:c}),D.jsx(ZC,{isVisible:p,onLocate:g})]})}),JC=({anchorAlarmStore:e,onTriggerAction:t,toleranceRef:n,connectionStatus:r})=>{const[s,o]=Re.useState(!1),[a,u]=Re.useState(null),c=Re.useRef(null),h=Re.useRef(e.tolerance);return Re.useEffect(()=>{const d=n.current,p=()=>{r.state===Ve.CONNECTED&&o(!0)};return d&&d.addEventListener("click",p),()=>{d&&d.removeEventListener("click",p)}},[r.state]),Re.useEffect(()=>{s&&r.state!==Ve.CONNECTED&&o(!1)},[s,r.state]),Re.useEffect(()=>{s&&(h.current=e.tolerance,u(null))},[s,e.tolerance]),Re.useEffect(()=>{const d=p=>{s&&c.current&&n.current&&!c.current.contains(p.target)&&!n.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[s,n]),Re.useEffect(()=>{a&&e.tolerance!==h.current&&(u(null),h.current=e.tolerance)},[e.tolerance,a]),s?D.jsxs("div",{ref:c,className:"tolerance-tooltip",children:[D.jsx("button",{className:"tolerance-button",onClick:()=>{u(lt.DecreaseTolerance),t(lt.DecreaseTolerance)},disabled:a===lt.IncreaseTolerance||e.tolerance===null||e.tolerance<=0,children:a===lt.DecreaseTolerance?D.jsx(pc,{size:16,className:"spinner"}):D.jsx(mC,{size:16})}),D.jsx("button",{className:"tolerance-button",onClick:()=>{u(lt.IncreaseTolerance),t(lt.IncreaseTolerance)},disabled:a===lt.DecreaseTolerance||e.tolerance===null||e.tolerance>=50,children:a===lt.IncreaseTolerance?D.jsx(pc,{size:16,className:"spinner"}):D.jsx(yC,{size:16})})]}):null},eM=[UC,BC,$C];function tM({step:e=0}){const t=eM[e];return D.jsx(t,{color:"#334155"})}function nM(){const[e,t]=Ki.useState(0);return Ki.useEffect(()=>{const n=setInterval(()=>t(r=>(r+1)%3),1e3);return()=>clearInterval(n)},[]),D.jsx(tM,{step:e})}const rM=Ar(({anchorAlarmStore:e,onStatusClick:t,connectionStatus:n,onTriggerAction:r})=>{var d;const s=Re.useRef(null),o=()=>{if(n.state===Ve.DISCONNECTED)return D.jsx("div",{className:"status-icon default",children:D.jsx(Iv,{size:20})});if(n.state===Ve.ERROR)return D.jsx("div",{className:"status-icon danger",children:D.jsx(Iv,{size:20})});if(n.state===Ve.CONNECTING)return D.jsx("div",{className:"status-icon connecting",children:D.jsx(nM,{})});switch(e==null?void 0:e.state){case Ze.DISABLED:return D.jsx("div",{className:"status-icon disabled",children:D.jsx(MC,{size:24,color:"#334155"})});case Ze.DROP_POINT_SET:return D.jsx("div",{className:"status-icon disabled",children:D.jsx(NC,{size:24,color:"#334155"})});case Ze.IN_RADIUS:return D.jsx("div",{className:"status-icon",children:D.jsx(TC,{size:24})});case Ze.ALARM_DRAGGING:case Ze.ALARM_DRAGGING_MUTED:return D.jsx("div",{className:"status-icon danger",children:D.jsx(xC,{size:24})});case Ze.ALARM_NO_GPS:case Ze.ALARM_NO_GPS_MUTED:return D.jsx("div",{className:"status-icon warning",children:D.jsx(OC,{size:24})})}},a=(p,m=1)=>n.state!==Ve.CONNECTED||p===null||p===void 0?"--":p.toFixed(m),u=p=>{if(p<60)return`${p}s`;const m=Math.floor(p/60),g=p%60;return g===0?`${m}m`:`${m}m ${g}s`},c=()=>{var p;switch(n.state){case Ve.DISCONNECTED:return"Disconnected, tap to retry";case Ve.CONNECTING:return"Connecting...";case Ve.ERROR:return((p=n.error)==null?void 0:p.message)||"Connection failed";case Ve.CONNECTED:switch(e==null?void 0:e.state){case Ze.DISABLED:return"Anchor alarm disabled";case Ze.DROP_POINT_SET:return"Drop point set, waiting for radius";case Ze.IN_RADIUS:return"In radius";case Ze.ALARM_DRAGGING:case Ze.ALARM_DRAGGING_MUTED:return`Dragging for ${u((e==null?void 0:e.outOfRadiusDuration)||0)}`;case Ze.ALARM_NO_GPS:case Ze.ALARM_NO_GPS_MUTED:return`No GPS for ${u((e==null?void 0:e.noGPSDuration)||0)}`;default:return"Unknown state"}default:return"Unknown connection status"}},h=()=>n.state===Ve.CONNECTED&&(e==null?void 0:e.state)!==Ze.DISABLED&&(e==null?void 0:e.state)!==Ze.DROP_POINT_SET&&(e==null?void 0:e.distanceToAnchor)!==null&&(e==null?void 0:e.radius)!==null&&(e==null?void 0:e.tolerance)!==null;return D.jsx("div",{className:"bottom-panel",children:D.jsxs("div",{className:"bottom-padded",children:[D.jsxs("div",{className:`status-pill ${n.state===Ve.DISCONNECTED||n.state===Ve.ERROR?"clickable":""}`,onClick:t,children:[o(),D.jsxs("div",{className:"status-text",children:[D.jsx("div",{className:"status-left",children:D.jsx("span",{className:"status-main",children:c()})}),h()&&D.jsxs("div",{className:"status-right",children:[D.jsx("span",{className:"status-divider"}),D.jsxs("span",{className:"status-distance",children:[Math.round(e==null?void 0:e.distanceToAnchor),"/",Math.round(e==null?void 0:e.radius),"m"]}),D.jsx("span",{className:"status-divider"}),D.jsxs("span",{ref:s,className:"status-tolerance clickable",children:["±",Math.round(e==null?void 0:e.tolerance),"m"]}),D.jsx(JC,{anchorAlarmStore:e,onTriggerAction:r,toleranceRef:s,connectionStatus:n})]})]})]}),D.jsxs("div",{className:"data-row",children:[D.jsxs("div",{className:"data-pill",children:[D.jsx("div",{className:"data-icon",children:D.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:n.state===Ve.CONNECTED?"#2c3e50":"#D1D1D6",strokeWidth:"2",children:D.jsx("path",{d:"M2 12l19-9-9 19-2-8-8-2z"})})}),D.jsx("div",{className:"data-content",children:D.jsxs("div",{className:"data-value",style:n.state!==Ve.CONNECTED?{color:"#D1D1D6"}:{},children:[a((d=e==null?void 0:e.vessels.find(p=>p.vesselId==="self"))==null?void 0:d.sog),D.jsx("span",{className:"data-unit",children:"kn"})]})})]}),D.jsxs("div",{className:"data-pill",children:[D.jsx("div",{className:"data-icon",children:D.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:n.state===Ve.CONNECTED?"#2c3e50":"#D1D1D6",strokeWidth:"2",children:D.jsx("path",{d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"})})}),D.jsx("div",{className:"data-content",children:D.jsxs("div",{className:"data-value",style:n.state!==Ve.CONNECTED?{color:"#D1D1D6"}:{},children:[a(e==null?void 0:e.windSpeed),D.jsx("span",{className:"data-unit",children:"kn"})]})})]}),D.jsxs("div",{className:"data-pill",children:[D.jsx("div",{className:"data-icon",children:D.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:n.state===Ve.CONNECTED?"#2c3e50":"#D1D1D6",strokeWidth:"2",children:[D.jsx("path",{d:"M2 10c.6-.6 1.4-1 2.2-1 1.3 0 2.5.7 3.3 1.8.8-1.1 2-1.8 3.3-1.8 1.3 0 2.5.7 3.2 1.8.8-1.1 2-1.8 3.3-1.8.8 0 1.6.4 2.2 1"}),D.jsx("path",{d:"M2 14c.6-.6 1.4-1 2.2-1 1.3 0 2.5.7 3.3 1.8.8-1.1 2-1.8 3.3-1.8 1.3 0 2.5.7 3.2 1.8.8-1.1 2-1.8 3.3-1.8.8 0 1.6.4 2.2 1"}),D.jsx("path",{d:"M2 18c.6-.6 1.4-1 2.2-1 1.3 0 2.5.7 3.3 1.8.8-1.1 2-1.8 3.3-1.8 1.3 0 2.5.7 3.2 1.8.8-1.1 2-1.8 3.3-1.8.8 0 1.6.4 2.2 1"})]})}),D.jsx("div",{className:"data-content",children:D.jsxs("div",{className:"data-value",style:n.state!==Ve.CONNECTED?{color:"#D1D1D6"}:{},children:[a(e==null?void 0:e.depth),D.jsx("span",{className:"data-unit",children:"m"})]})})]})]})]})})}),iM="_container_11rf7_1",oM={container:iM},sM="_actionButton_1o839_1",aM="_waiting_1o839_24",lM="_buttonContent_1o839_28",uM="_primary_1o839_34",cM="_danger_1o839_39",hM="_warning_1o839_44",fM="_icon_1o839_59",dM="_progressRing_1o839_65",pM="_progressBackground_1o839_75",mM="_progressBar_1o839_79",gM="_animated_1o839_85",_M="_noTransition_1o839_89",Rr={actionButton:sM,waiting:aM,buttonContent:lM,primary:uM,danger:cM,warning:hM,icon:fM,progressRing:dM,progressBackground:pM,progressBar:mM,animated:gM,noTransition:_M},Ti=({icon:e,onClick:t,holdDuration:n,disabled:r=!1,variant:s="primary"})=>{const[o,a]=Re.useState(!1),[u,c]=Re.useState(!1),[h,d]=Re.useState(0),[p,m]=Re.useState(!0),g=Re.useRef(),w=()=>{d(0);const R=Date.now();g.current=window.setInterval(()=>{const T=Date.now()-R,C=Math.min(T/n*100,100);d(C),C>=100&&(clearInterval(g.current),setTimeout(()=>{a(!1),c(!0),t(),x()},50))},16)},x=()=>{m(!1),d(0),setTimeout(()=>{m(!0);let R=0;const T=n/50;g.current=window.setInterval(()=>{R+=2,R>100?(m(!1),d(0),R=0,setTimeout(()=>m(!0),16)):(m(!0),d(R))},T)},16)},P=()=>{g.current&&(clearInterval(g.current),g.current=void 0),d(0)},A=()=>{r||u||(n===0?(c(!0),t(),x()):(a(!0),w()))},y=()=>{o&&(a(!1),P())};Re.useEffect(()=>{!r&&u&&(c(!1),P())},[r,u]),Re.useEffect(()=>()=>{g.current&&clearInterval(g.current)},[]);const S=o||u,I=r||u;return D.jsxs("button",{className:`${Rr.actionButton} ${Rr[s]} ${u?Rr.waiting:""}`,onPointerDown:A,onPointerUp:y,onPointerLeave:y,disabled:I,children:[D.jsx("div",{className:Rr.buttonContent,children:D.jsx("div",{className:Rr.icon,children:e})}),S&&D.jsxs("svg",{className:Rr.progressRing,viewBox:"0 0 100 100",children:[D.jsx("defs",{children:D.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",gradientUnits:"userSpaceOnUse",children:[D.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0)"}),D.jsx("stop",{offset:"70%",stopColor:"rgba(255, 255, 255, 0.8)"}),D.jsx("stop",{offset:"100%",stopColor:"rgba(255, 255, 255, 1)"})]})}),D.jsx("circle",{className:Rr.progressBackground,cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:"4"}),D.jsx("circle",{className:`${Rr.progressBar} ${p?Rr.animated:Rr.noTransition}`,cx:"50",cy:"50",r:"45",fill:"none",strokeWidth:"4",strokeDasharray:"283",strokeDashoffset:u?"0":`${283-283*h/100}`,stroke:u?"url(#progressGradient)":"#ffffff",transform:u?`rotate(${h*3.6} 50 50)`:""})]})]})},vM=Ar(({anchorAlarmStore:e,onTriggerAction:t,connectionStatus:n})=>{const[r,s]=Re.useState(!1);Re.useEffect(()=>{e&&s(!1)},[e==null?void 0:e.state]),Re.useEffect(()=>{n.state!==Ve.CONNECTED&&s(!0)},[n.state]);const o=h=>{s(!0),h()},a=({size:h=24})=>D.jsxs("svg",{width:h,height:h,viewBox:"0 0 100 100",children:[D.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"transparent",stroke:"#FFFFFF",strokeWidth:"2"}),D.jsx("path",{d:"M 10 50 A 40 40 0 0 1 90 50 Z",fill:"#FFFFFF"}),D.jsx("circle",{cx:"50",cy:"10",r:"8",fill:"none",stroke:"#FFFFFF",strokeWidth:"2"})]}),u=()=>D.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[D.jsx(Av,{size:24}),D.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22",stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round"})]}),c=()=>{if(e)switch(e.state){case Ze.DISABLED:return D.jsxs(D.Fragment,{children:[D.jsx(Ti,{icon:D.jsx(Av,{size:24}),onClick:()=>o(()=>t(lt.AnchorDown)),holdDuration:as,disabled:r,variant:"primary"},"anchor-down"),D.jsx(Ti,{icon:D.jsx(a,{size:30}),onClick:()=>o(()=>t(lt.MooringMode)),holdDuration:as,disabled:r,variant:"primary"},"mooring-mode")]});case Ze.DROP_POINT_SET:return D.jsx(Ti,{icon:D.jsx(wC,{size:30}),onClick:()=>o(()=>t(lt.ChainOut)),holdDuration:as,disabled:r},"chain-out");case Ze.IN_RADIUS:return D.jsx(Ti,{icon:u(),onClick:()=>o(()=>t(lt.AnchorUp)),holdDuration:as,disabled:r,variant:"danger"},"anchor-up");case Ze.ALARM_DRAGGING:case Ze.ALARM_NO_GPS:return D.jsxs(D.Fragment,{children:[D.jsx(Ti,{icon:u(),onClick:()=>o(()=>t(lt.AnchorUp)),holdDuration:as,disabled:r,variant:"danger"},"anchor-up"),D.jsx(Ti,{icon:D.jsx(xv,{size:24}),onClick:()=>o(()=>t(lt.MuteAlarm)),holdDuration:0,disabled:r,variant:"warning"},"mute-alarm")]});case Ze.ALARM_DRAGGING_MUTED:case Ze.ALARM_NO_GPS_MUTED:return D.jsxs(D.Fragment,{children:[D.jsx(Ti,{icon:u(),onClick:()=>o(()=>t(lt.AnchorUp)),holdDuration:as,disabled:r,variant:"danger"},"anchor-up"),D.jsx(Ti,{icon:D.jsx(xv,{size:24}),onClick:()=>o(()=>t(lt.MuteAlarm)),holdDuration:0,disabled:!0,variant:"warning"},"mute-alarm-disabled")]});default:return null}};return D.jsx("div",{className:oM.container,children:c()})}),yM="_overlay_1d6nh_1",bM="_open_1d6nh_11",wM="_panel_1d6nh_16",SM="_header_1d6nh_42",EM="_cancelButton_1d6nh_61",kM="_saveButton_1d6nh_79",AM="_content_1d6nh_102",xM="_section_1d6nh_111",PM="_field_1d6nh_126",TM="_success_1d6nh_174",CM="_error_1d6nh_178",MM="_inputGroup_1d6nh_182",IM="_testButton_1d6nh_191",OM="_toggle_1d6nh_228",RM="_toggleSlider_1d6nh_244",NM="_toggleLabel_1d6nh_275",LM="_disabled_1d6nh_280",DM="_anchorAlarmPanel_1d6nh_294",BM="_spinner_1d6nh_325",Ye={overlay:yM,open:bM,panel:wM,header:SM,cancelButton:EM,saveButton:kM,content:AM,section:xM,field:PM,success:TM,error:CM,inputGroup:MM,testButton:IM,toggle:OM,toggleSlider:RM,toggleLabel:NM,disabled:LM,anchorAlarmPanel:DM,spinner:BM};var Ym=Object.defineProperty,jM=Object.getOwnPropertyDescriptor,UM=Object.getOwnPropertyNames,zM=Object.prototype.hasOwnProperty,An=(e,t)=>()=>(e&&(t=e(e=0)),t),Oe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Zs=(e,t)=>{for(var n in t)Ym(e,n,{get:t[n],enumerable:!0})},FM=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of UM(t))!zM.call(e,s)&&s!==n&&Ym(e,s,{get:()=>t[s],enumerable:!(r=jM(t,s))||r.enumerable});return e},wt=e=>FM(Ym({},"__esModule",{value:!0}),e),Pe=An(()=>{}),pt={};Zs(pt,{_debugEnd:()=>np,_debugProcess:()=>tp,_events:()=>_p,_eventsCount:()=>vp,_exiting:()=>Fd,_fatalExceptions:()=>Xd,_getActiveHandles:()=>$w,_getActiveRequests:()=>Fw,_kill:()=>Vd,_linkedBinding:()=>Uw,_maxListeners:()=>gp,_preload_modules:()=>pp,_rawDebug:()=>jd,_startProfilerIdleNotifier:()=>rp,_stopProfilerIdleNotifier:()=>ip,_tickCallback:()=>ep,abort:()=>lp,addListener:()=>yp,allowedNodeEnvironmentFlags:()=>Yd,arch:()=>Ad,argv:()=>Td,argv0:()=>dp,assert:()=>Ww,binding:()=>Rd,chdir:()=>Dd,config:()=>$d,cpuUsage:()=>Ea,cwd:()=>Ld,debugPort:()=>fp,default:()=>Xm,dlopen:()=>zw,domain:()=>zd,emit:()=>kp,emitWarning:()=>Od,env:()=>Pd,execArgv:()=>Cd,execPath:()=>hp,exit:()=>qd,features:()=>Qd,hasUncaughtExceptionCaptureCallback:()=>Vw,hrtime:()=>Pu,kill:()=>Zd,listeners:()=>Gw,memoryUsage:()=>Gd,moduleLoadList:()=>Ud,nextTick:()=>Bw,off:()=>wp,on:()=>Jr,once:()=>bp,openStdin:()=>Kd,pid:()=>up,platform:()=>xd,ppid:()=>cp,prependListener:()=>Ap,prependOnceListener:()=>xp,reallyExit:()=>Wd,release:()=>Bd,removeAllListeners:()=>Ep,removeListener:()=>Sp,resourceUsage:()=>Hd,setSourceMapsEnabled:()=>mp,setUncaughtExceptionCaptureCallback:()=>Jd,stderr:()=>sp,stdin:()=>ap,stdout:()=>op,title:()=>kd,umask:()=>Nd,uptime:()=>Hw,version:()=>Md,versions:()=>Id});function Qm(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function $M(){!xo||!wo||(xo=!1,wo.length?Ur=wo.concat(Ur):Ba=-1,Ur.length&&Dw())}function Dw(){if(!xo){var e=setTimeout($M,0);xo=!0;for(var t=Ur.length;t;){for(wo=Ur,Ur=[];++Ba<t;)wo&&wo[Ba].run();Ba=-1,t=Ur.length}wo=null,xo=!1,clearTimeout(e)}}function Bw(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];Ur.push(new jw(e,t)),Ur.length===1&&!xo&&setTimeout(Dw,0)}function jw(e,t){this.fun=e,this.array=t}function _n(){}function Uw(e){Qm("_linkedBinding")}function zw(e){Qm("dlopen")}function Fw(){return[]}function $w(){return[]}function Ww(e,t){if(!e)throw new Error(t||"assertion error")}function Vw(){return!1}function Hw(){return si.now()/1e3}function Pu(e){var t=Math.floor((Date.now()-si.now())*.001),n=si.now()*.001,r=Math.floor(n)+t,s=Math.floor(n%1*1e9);return e&&(r=r-e[0],s=s-e[1],s<0&&(r--,s+=Tu)),[r,s]}function Jr(){return Xm}function Gw(e){return[]}var Ur,xo,wo,Ba,kd,Ad,xd,Pd,Td,Cd,Md,Id,Od,Rd,Nd,Ld,Dd,Bd,jd,Ud,zd,Fd,$d,Wd,Vd,Ea,Hd,Gd,Zd,qd,Kd,Yd,Qd,Xd,Jd,ep,tp,np,rp,ip,op,sp,ap,lp,up,cp,hp,fp,dp,pp,mp,si,of,Tu,gp,_p,vp,yp,bp,wp,Sp,Ep,kp,Ap,xp,Xm,WM=An(()=>{Pe(),Ce(),Te(),Ur=[],xo=!1,Ba=-1,jw.prototype.run=function(){this.fun.apply(null,this.array)},kd="browser",Ad="x64",xd="browser",Pd={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Td=["/usr/bin/node"],Cd=[],Md="v16.8.0",Id={},Od=function(e,t){console.warn((t?t+": ":"")+e)},Rd=function(e){Qm("binding")},Nd=function(e){return 0},Ld=function(){return"/"},Dd=function(e){},Bd={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},jd=_n,Ud=[],zd={},Fd=!1,$d={},Wd=_n,Vd=_n,Ea=function(){return{}},Hd=Ea,Gd=Ea,Zd=_n,qd=_n,Kd=_n,Yd={},Qd={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Xd=_n,Jd=_n,ep=_n,tp=_n,np=_n,rp=_n,ip=_n,op=void 0,sp=void 0,ap=void 0,lp=_n,up=2,cp=1,hp="/bin/usr/node",fp=9229,dp="node",pp=[],mp=_n,si={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},si.now===void 0&&(of=Date.now(),si.timing&&si.timing.navigationStart&&(of=si.timing.navigationStart),si.now=()=>Date.now()-of),Tu=1e9,Pu.bigint=function(e){var t=Pu(e);return typeof BigInt>"u"?t[0]*Tu+t[1]:BigInt(t[0]*Tu)+BigInt(t[1])},gp=10,_p={},vp=0,yp=Jr,bp=Jr,wp=Jr,Sp=Jr,Ep=Jr,kp=_n,Ap=Jr,xp=Jr,Xm={version:Md,versions:Id,arch:Ad,platform:xd,release:Bd,_rawDebug:jd,moduleLoadList:Ud,binding:Rd,_linkedBinding:Uw,_events:_p,_eventsCount:vp,_maxListeners:gp,on:Jr,addListener:yp,once:bp,off:wp,removeListener:Sp,removeAllListeners:Ep,emit:kp,prependListener:Ap,prependOnceListener:xp,listeners:Gw,domain:zd,_exiting:Fd,config:$d,dlopen:zw,uptime:Hw,_getActiveRequests:Fw,_getActiveHandles:$w,reallyExit:Wd,_kill:Vd,cpuUsage:Ea,resourceUsage:Hd,memoryUsage:Gd,kill:Zd,exit:qd,openStdin:Kd,allowedNodeEnvironmentFlags:Yd,assert:Ww,features:Qd,_fatalExceptions:Xd,setUncaughtExceptionCaptureCallback:Jd,hasUncaughtExceptionCaptureCallback:Vw,emitWarning:Od,nextTick:Bw,_tickCallback:ep,_debugProcess:tp,_debugEnd:np,_startProfilerIdleNotifier:rp,_stopProfilerIdleNotifier:ip,stdout:op,stdin:ap,stderr:sp,abort:lp,umask:Nd,chdir:Dd,cwd:Ld,env:Pd,title:kd,argv:Td,execArgv:Cd,pid:up,ppid:cp,execPath:hp,debugPort:fp,hrtime:Pu,argv0:dp,_preload_modules:pp,setSourceMapsEnabled:mp}}),Te=An(()=>{WM()}),on={};Zs(on,{Buffer:()=>mc,INSPECT_MAX_BYTES:()=>Zw,default:()=>ei,kMaxLength:()=>qw});function VM(){if(Pp)return us;Pp=!0,us.byteLength=u,us.toByteArray=h,us.fromByteArray=m;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=r.length;s<o;++s)e[s]=r[s],t[r.charCodeAt(s)]=s;t[45]=62,t[95]=63;function a(g){var w=g.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=g.indexOf("=");x===-1&&(x=w);var P=x===w?0:4-x%4;return[x,P]}function u(g){var w=a(g),x=w[0],P=w[1];return(x+P)*3/4-P}function c(g,w,x){return(w+x)*3/4-x}function h(g){var w,x=a(g),P=x[0],A=x[1],y=new n(c(g,P,A)),S=0,I=A>0?P-4:P,R;for(R=0;R<I;R+=4)w=t[g.charCodeAt(R)]<<18|t[g.charCodeAt(R+1)]<<12|t[g.charCodeAt(R+2)]<<6|t[g.charCodeAt(R+3)],y[S++]=w>>16&255,y[S++]=w>>8&255,y[S++]=w&255;return A===2&&(w=t[g.charCodeAt(R)]<<2|t[g.charCodeAt(R+1)]>>4,y[S++]=w&255),A===1&&(w=t[g.charCodeAt(R)]<<10|t[g.charCodeAt(R+1)]<<4|t[g.charCodeAt(R+2)]>>2,y[S++]=w>>8&255,y[S++]=w&255),y}function d(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function p(g,w,x){for(var P,A=[],y=w;y<x;y+=3)P=(g[y]<<16&16711680)+(g[y+1]<<8&65280)+(g[y+2]&255),A.push(d(P));return A.join("")}function m(g){for(var w,x=g.length,P=x%3,A=[],y=16383,S=0,I=x-P;S<I;S+=y)A.push(p(g,S,S+y>I?I:S+y));return P===1?(w=g[x-1],A.push(e[w>>2]+e[w<<4&63]+"==")):P===2&&(w=(g[x-2]<<8)+g[x-1],A.push(e[w>>10]+e[w>>4&63]+e[w<<2&63]+"=")),A.join("")}return us}function HM(){return Tp?ka:(Tp=!0,ka.read=function(e,t,n,r,s){var o,a,u=s*8-r-1,c=(1<<u)-1,h=c>>1,d=-7,p=n?s-1:0,m=n?-1:1,g=e[t+p];for(p+=m,o=g&(1<<-d)-1,g>>=-d,d+=u;d>0;o=o*256+e[t+p],p+=m,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;d>0;a=a*256+e[t+p],p+=m,d-=8);if(o===0)o=1-h;else{if(o===c)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-h}return(g?-1:1)*a*Math.pow(2,o-r)},ka.write=function(e,t,n,r,s,o){var a,u,c,h=o*8-s-1,d=(1<<h)-1,p=d>>1,m=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:o-1,w=r?1:-1,x=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+p>=1?t+=m/c:t+=m*Math.pow(2,1-p),t*c>=2&&(a++,c/=2),a+p>=d?(u=0,a=d):a+p>=1?(u=(t*c-1)*Math.pow(2,s),a=a+p):(u=t*Math.pow(2,p-1)*Math.pow(2,s),a=0));s>=8;e[n+g]=u&255,g+=w,u/=256,s-=8);for(a=a<<s|u,h+=s;h>0;e[n+g]=a&255,g+=w,a/=256,h-=8);e[n+g-w]|=x*128},ka)}function GM(){if(Cp)return Ci;Cp=!0;let e=VM(),t=HM(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ci.Buffer=a,Ci.SlowBuffer=A,Ci.INSPECT_MAX_BYTES=50;let r=2147483647;Ci.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let v=new Uint8Array(1),b={foo:function(){return 42}};return Object.setPrototypeOf(b,Uint8Array.prototype),Object.setPrototypeOf(v,b),v.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(v){if(v>r)throw new RangeError('The value "'+v+'" is invalid for option "size"');let b=new Uint8Array(v);return Object.setPrototypeOf(b,a.prototype),b}function a(v,b,E){if(typeof v=="number"){if(typeof b=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(v)}return u(v,b,E)}a.poolSize=8192;function u(v,b,E){if(typeof v=="string")return p(v,b);if(ArrayBuffer.isView(v))return g(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(Q(v,ArrayBuffer)||v&&Q(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(v,SharedArrayBuffer)||v&&Q(v.buffer,SharedArrayBuffer)))return w(v,b,E);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let O=v.valueOf&&v.valueOf();if(O!=null&&O!==v)return a.from(O,b,E);let z=x(v);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return a.from(v[Symbol.toPrimitive]("string"),b,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}a.from=function(v,b,E){return u(v,b,E)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function h(v,b,E){return c(v),v<=0?o(v):b!==void 0?typeof E=="string"?o(v).fill(b,E):o(v).fill(b):o(v)}a.alloc=function(v,b,E){return h(v,b,E)};function d(v){return c(v),o(v<0?0:P(v)|0)}a.allocUnsafe=function(v){return d(v)},a.allocUnsafeSlow=function(v){return d(v)};function p(v,b){if((typeof b!="string"||b==="")&&(b="utf8"),!a.isEncoding(b))throw new TypeError("Unknown encoding: "+b);let E=y(v,b)|0,O=o(E),z=O.write(v,b);return z!==E&&(O=O.slice(0,z)),O}function m(v){let b=v.length<0?0:P(v.length)|0,E=o(b);for(let O=0;O<b;O+=1)E[O]=v[O]&255;return E}function g(v){if(Q(v,Uint8Array)){let b=new Uint8Array(v);return w(b.buffer,b.byteOffset,b.byteLength)}return m(v)}function w(v,b,E){if(b<0||v.byteLength<b)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<b+(E||0))throw new RangeError('"length" is outside of buffer bounds');let O;return b===void 0&&E===void 0?O=new Uint8Array(v):E===void 0?O=new Uint8Array(v,b):O=new Uint8Array(v,b,E),Object.setPrototypeOf(O,a.prototype),O}function x(v){if(a.isBuffer(v)){let b=P(v.length)|0,E=o(b);return E.length===0||v.copy(E,0,0,b),E}if(v.length!==void 0)return typeof v.length!="number"||Se(v.length)?o(0):m(v);if(v.type==="Buffer"&&Array.isArray(v.data))return m(v.data)}function P(v){if(v>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return v|0}function A(v){return+v!=v&&(v=0),a.alloc(+v)}a.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==a.prototype},a.compare=function(v,b){if(Q(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),Q(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(v)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===b)return 0;let E=v.length,O=b.length;for(let z=0,q=Math.min(E,O);z<q;++z)if(v[z]!==b[z]){E=v[z],O=b[z];break}return E<O?-1:O<E?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,b){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);let E;if(b===void 0)for(b=0,E=0;E<v.length;++E)b+=v[E].length;let O=a.allocUnsafe(b),z=0;for(E=0;E<v.length;++E){let q=v[E];if(Q(q,Uint8Array))z+q.length>O.length?(a.isBuffer(q)||(q=a.from(q)),q.copy(O,z)):Uint8Array.prototype.set.call(O,q,z);else if(a.isBuffer(q))q.copy(O,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=q.length}return O};function y(v,b){if(a.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||Q(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);let E=v.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&E===0)return 0;let z=!1;for(;;)switch(b){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return Y(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return ve(v).length;default:if(z)return O?-1:Y(v).length;b=(""+b).toLowerCase(),z=!0}}a.byteLength=y;function S(v,b,E){let O=!1;if((b===void 0||b<0)&&(b=0),b>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,b>>>=0,E<=b))return"";for(v||(v="utf8");;)switch(v){case"hex":return K(this,b,E);case"utf8":case"utf-8":return se(this,b,E);case"ascii":return Ee(this,b,E);case"latin1":case"binary":return ke(this,b,E);case"base64":return U(this,b,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,b,E);default:if(O)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),O=!0}}a.prototype._isBuffer=!0;function I(v,b,E){let O=v[b];v[b]=v[E],v[E]=O}a.prototype.swap16=function(){let v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<v;b+=2)I(this,b,b+1);return this},a.prototype.swap32=function(){let v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<v;b+=4)I(this,b,b+3),I(this,b+1,b+2);return this},a.prototype.swap64=function(){let v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<v;b+=8)I(this,b,b+7),I(this,b+1,b+6),I(this,b+2,b+5),I(this,b+3,b+4);return this},a.prototype.toString=function(){let v=this.length;return v===0?"":arguments.length===0?se(this,0,v):S.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){let v="",b=Ci.INSPECT_MAX_BYTES;return v=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(v+=" ... "),"<Buffer "+v+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(v,b,E,O,z){if(Q(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(b===void 0&&(b=0),E===void 0&&(E=v?v.length:0),O===void 0&&(O=0),z===void 0&&(z=this.length),b<0||E>v.length||O<0||z>this.length)throw new RangeError("out of range index");if(O>=z&&b>=E)return 0;if(O>=z)return-1;if(b>=E)return 1;if(b>>>=0,E>>>=0,O>>>=0,z>>>=0,this===v)return 0;let q=z-O,oe=E-b,Be=Math.min(q,oe),je=this.slice(O,z),qe=v.slice(b,E);for(let nt=0;nt<Be;++nt)if(je[nt]!==qe[nt]){q=je[nt],oe=qe[nt];break}return q<oe?-1:oe<q?1:0};function R(v,b,E,O,z){if(v.length===0)return-1;if(typeof E=="string"?(O=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Se(E)&&(E=z?0:v.length-1),E<0&&(E=v.length+E),E>=v.length){if(z)return-1;E=v.length-1}else if(E<0)if(z)E=0;else return-1;if(typeof b=="string"&&(b=a.from(b,O)),a.isBuffer(b))return b.length===0?-1:T(v,b,E,O,z);if(typeof b=="number")return b=b&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(v,b,E):Uint8Array.prototype.lastIndexOf.call(v,b,E):T(v,[b],E,O,z);throw new TypeError("val must be string, number or Buffer")}function T(v,b,E,O,z){let q=1,oe=v.length,Be=b.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(v.length<2||b.length<2)return-1;q=2,oe/=2,Be/=2,E/=2}function je(nt,Ke){return q===1?nt[Ke]:nt.readUInt16BE(Ke*q)}let qe;if(z){let nt=-1;for(qe=E;qe<oe;qe++)if(je(v,qe)===je(b,nt===-1?0:qe-nt)){if(nt===-1&&(nt=qe),qe-nt+1===Be)return nt*q}else nt!==-1&&(qe-=qe-nt),nt=-1}else for(E+Be>oe&&(E=oe-Be),qe=E;qe>=0;qe--){let nt=!0;for(let Ke=0;Ke<Be;Ke++)if(je(v,qe+Ke)!==je(b,Ke)){nt=!1;break}if(nt)return qe}return-1}a.prototype.includes=function(v,b,E){return this.indexOf(v,b,E)!==-1},a.prototype.indexOf=function(v,b,E){return R(this,v,b,E,!0)},a.prototype.lastIndexOf=function(v,b,E){return R(this,v,b,E,!1)};function C(v,b,E,O){E=Number(E)||0;let z=v.length-E;O?(O=Number(O),O>z&&(O=z)):O=z;let q=b.length;O>q/2&&(O=q/2);let oe;for(oe=0;oe<O;++oe){let Be=parseInt(b.substr(oe*2,2),16);if(Se(Be))return oe;v[E+oe]=Be}return oe}function N(v,b,E,O){return Ae(Y(b,v.length-E),v,E,O)}function te(v,b,E,O){return Ae(le(b),v,E,O)}function ie(v,b,E,O){return Ae(ve(b),v,E,O)}function he(v,b,E,O){return Ae(_e(b,v.length-E),v,E,O)}a.prototype.write=function(v,b,E,O){if(b===void 0)O="utf8",E=this.length,b=0;else if(E===void 0&&typeof b=="string")O=b,E=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(E)?(E=E>>>0,O===void 0&&(O="utf8")):(O=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let z=this.length-b;if((E===void 0||E>z)&&(E=z),v.length>0&&(E<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let q=!1;for(;;)switch(O){case"hex":return C(this,v,b,E);case"utf8":case"utf-8":return N(this,v,b,E);case"ascii":case"latin1":case"binary":return te(this,v,b,E);case"base64":return ie(this,v,b,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,v,b,E);default:if(q)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),q=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(v,b,E){return b===0&&E===v.length?e.fromByteArray(v):e.fromByteArray(v.slice(b,E))}function se(v,b,E){E=Math.min(v.length,E);let O=[],z=b;for(;z<E;){let q=v[z],oe=null,Be=q>239?4:q>223?3:q>191?2:1;if(z+Be<=E){let je,qe,nt,Ke;switch(Be){case 1:q<128&&(oe=q);break;case 2:je=v[z+1],(je&192)===128&&(Ke=(q&31)<<6|je&63,Ke>127&&(oe=Ke));break;case 3:je=v[z+1],qe=v[z+2],(je&192)===128&&(qe&192)===128&&(Ke=(q&15)<<12|(je&63)<<6|qe&63,Ke>2047&&(Ke<55296||Ke>57343)&&(oe=Ke));break;case 4:je=v[z+1],qe=v[z+2],nt=v[z+3],(je&192)===128&&(qe&192)===128&&(nt&192)===128&&(Ke=(q&15)<<18|(je&63)<<12|(qe&63)<<6|nt&63,Ke>65535&&Ke<1114112&&(oe=Ke))}}oe===null?(oe=65533,Be=1):oe>65535&&(oe-=65536,O.push(oe>>>10&1023|55296),oe=56320|oe&1023),O.push(oe),z+=Be}return X(O)}let ue=4096;function X(v){let b=v.length;if(b<=ue)return String.fromCharCode.apply(String,v);let E="",O=0;for(;O<b;)E+=String.fromCharCode.apply(String,v.slice(O,O+=ue));return E}function Ee(v,b,E){let O="";E=Math.min(v.length,E);for(let z=b;z<E;++z)O+=String.fromCharCode(v[z]&127);return O}function ke(v,b,E){let O="";E=Math.min(v.length,E);for(let z=b;z<E;++z)O+=String.fromCharCode(v[z]);return O}function K(v,b,E){let O=v.length;(!b||b<0)&&(b=0),(!E||E<0||E>O)&&(E=O);let z="";for(let q=b;q<E;++q)z+=Ne[v[q]];return z}function ye(v,b,E){let O=v.slice(b,E),z="";for(let q=0;q<O.length-1;q+=2)z+=String.fromCharCode(O[q]+O[q+1]*256);return z}a.prototype.slice=function(v,b){let E=this.length;v=~~v,b=b===void 0?E:~~b,v<0?(v+=E,v<0&&(v=0)):v>E&&(v=E),b<0?(b+=E,b<0&&(b=0)):b>E&&(b=E),b<v&&(b=v);let O=this.subarray(v,b);return Object.setPrototypeOf(O,a.prototype),O};function $(v,b,E){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+b>E)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(v,b,E){v=v>>>0,b=b>>>0,E||$(v,b,this.length);let O=this[v],z=1,q=0;for(;++q<b&&(z*=256);)O+=this[v+q]*z;return O},a.prototype.readUintBE=a.prototype.readUIntBE=function(v,b,E){v=v>>>0,b=b>>>0,E||$(v,b,this.length);let O=this[v+--b],z=1;for(;b>0&&(z*=256);)O+=this[v+--b]*z;return O},a.prototype.readUint8=a.prototype.readUInt8=function(v,b){return v=v>>>0,b||$(v,1,this.length),this[v]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(v,b){return v=v>>>0,b||$(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(v,b){return v=v>>>0,b||$(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(v,b){return v=v>>>0,b||$(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(v,b){return v=v>>>0,b||$(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readBigUInt64LE=me(function(v){v=v>>>0,re(v,"offset");let b=this[v],E=this[v+7];(b===void 0||E===void 0)&&we(v,this.length-8);let O=b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,z=this[++v]+this[++v]*2**8+this[++v]*2**16+E*2**24;return BigInt(O)+(BigInt(z)<<BigInt(32))}),a.prototype.readBigUInt64BE=me(function(v){v=v>>>0,re(v,"offset");let b=this[v],E=this[v+7];(b===void 0||E===void 0)&&we(v,this.length-8);let O=b*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],z=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+E;return(BigInt(O)<<BigInt(32))+BigInt(z)}),a.prototype.readIntLE=function(v,b,E){v=v>>>0,b=b>>>0,E||$(v,b,this.length);let O=this[v],z=1,q=0;for(;++q<b&&(z*=256);)O+=this[v+q]*z;return z*=128,O>=z&&(O-=Math.pow(2,8*b)),O},a.prototype.readIntBE=function(v,b,E){v=v>>>0,b=b>>>0,E||$(v,b,this.length);let O=b,z=1,q=this[v+--O];for(;O>0&&(z*=256);)q+=this[v+--O]*z;return z*=128,q>=z&&(q-=Math.pow(2,8*b)),q},a.prototype.readInt8=function(v,b){return v=v>>>0,b||$(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,b){v=v>>>0,b||$(v,2,this.length);let E=this[v]|this[v+1]<<8;return E&32768?E|4294901760:E},a.prototype.readInt16BE=function(v,b){v=v>>>0,b||$(v,2,this.length);let E=this[v+1]|this[v]<<8;return E&32768?E|4294901760:E},a.prototype.readInt32LE=function(v,b){return v=v>>>0,b||$(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,b){return v=v>>>0,b||$(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readBigInt64LE=me(function(v){v=v>>>0,re(v,"offset");let b=this[v],E=this[v+7];(b===void 0||E===void 0)&&we(v,this.length-8);let O=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(E<<24);return(BigInt(O)<<BigInt(32))+BigInt(b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),a.prototype.readBigInt64BE=me(function(v){v=v>>>0,re(v,"offset");let b=this[v],E=this[v+7];(b===void 0||E===void 0)&&we(v,this.length-8);let O=(b<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(O)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+E)}),a.prototype.readFloatLE=function(v,b){return v=v>>>0,b||$(v,4,this.length),t.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,b){return v=v>>>0,b||$(v,4,this.length),t.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,b){return v=v>>>0,b||$(v,8,this.length),t.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,b){return v=v>>>0,b||$(v,8,this.length),t.read(this,v,!1,52,8)};function ce(v,b,E,O,z,q){if(!a.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>z||b<q)throw new RangeError('"value" argument is out of bounds');if(E+O>v.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(v,b,E,O){if(v=+v,b=b>>>0,E=E>>>0,!O){let oe=Math.pow(2,8*E)-1;ce(this,v,b,E,oe,0)}let z=1,q=0;for(this[b]=v&255;++q<E&&(z*=256);)this[b+q]=v/z&255;return b+E},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(v,b,E,O){if(v=+v,b=b>>>0,E=E>>>0,!O){let oe=Math.pow(2,8*E)-1;ce(this,v,b,E,oe,0)}let z=E-1,q=1;for(this[b+z]=v&255;--z>=0&&(q*=256);)this[b+z]=v/q&255;return b+E},a.prototype.writeUint8=a.prototype.writeUInt8=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,1,255,0),this[b]=v&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,2,65535,0),this[b]=v&255,this[b+1]=v>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,2,65535,0),this[b]=v>>>8,this[b+1]=v&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,4,4294967295,0),this[b+3]=v>>>24,this[b+2]=v>>>16,this[b+1]=v>>>8,this[b]=v&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,4,4294967295,0),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4};function j(v,b,E,O,z){ne(b,O,z,v,E,7);let q=Number(b&BigInt(4294967295));v[E++]=q,q=q>>8,v[E++]=q,q=q>>8,v[E++]=q,q=q>>8,v[E++]=q;let oe=Number(b>>BigInt(32)&BigInt(4294967295));return v[E++]=oe,oe=oe>>8,v[E++]=oe,oe=oe>>8,v[E++]=oe,oe=oe>>8,v[E++]=oe,E}function fe(v,b,E,O,z){ne(b,O,z,v,E,7);let q=Number(b&BigInt(4294967295));v[E+7]=q,q=q>>8,v[E+6]=q,q=q>>8,v[E+5]=q,q=q>>8,v[E+4]=q;let oe=Number(b>>BigInt(32)&BigInt(4294967295));return v[E+3]=oe,oe=oe>>8,v[E+2]=oe,oe=oe>>8,v[E+1]=oe,oe=oe>>8,v[E]=oe,E+8}a.prototype.writeBigUInt64LE=me(function(v,b=0){return j(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=me(function(v,b=0){return fe(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(v,b,E,O){if(v=+v,b=b>>>0,!O){let Be=Math.pow(2,8*E-1);ce(this,v,b,E,Be-1,-Be)}let z=0,q=1,oe=0;for(this[b]=v&255;++z<E&&(q*=256);)v<0&&oe===0&&this[b+z-1]!==0&&(oe=1),this[b+z]=(v/q>>0)-oe&255;return b+E},a.prototype.writeIntBE=function(v,b,E,O){if(v=+v,b=b>>>0,!O){let Be=Math.pow(2,8*E-1);ce(this,v,b,E,Be-1,-Be)}let z=E-1,q=1,oe=0;for(this[b+z]=v&255;--z>=0&&(q*=256);)v<0&&oe===0&&this[b+z+1]!==0&&(oe=1),this[b+z]=(v/q>>0)-oe&255;return b+E},a.prototype.writeInt8=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,1,127,-128),v<0&&(v=255+v+1),this[b]=v&255,b+1},a.prototype.writeInt16LE=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,2,32767,-32768),this[b]=v&255,this[b+1]=v>>>8,b+2},a.prototype.writeInt16BE=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,2,32767,-32768),this[b]=v>>>8,this[b+1]=v&255,b+2},a.prototype.writeInt32LE=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,4,2147483647,-2147483648),this[b]=v&255,this[b+1]=v>>>8,this[b+2]=v>>>16,this[b+3]=v>>>24,b+4},a.prototype.writeInt32BE=function(v,b,E){return v=+v,b=b>>>0,E||ce(this,v,b,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4},a.prototype.writeBigInt64LE=me(function(v,b=0){return j(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=me(function(v,b=0){return fe(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(v,b,E,O,z,q){if(E+O>v.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function V(v,b,E,O,z){return b=+b,E=E>>>0,z||ge(v,b,E,4),t.write(v,b,E,O,23,4),E+4}a.prototype.writeFloatLE=function(v,b,E){return V(this,v,b,!0,E)},a.prototype.writeFloatBE=function(v,b,E){return V(this,v,b,!1,E)};function xe(v,b,E,O,z){return b=+b,E=E>>>0,z||ge(v,b,E,8),t.write(v,b,E,O,52,8),E+8}a.prototype.writeDoubleLE=function(v,b,E){return xe(this,v,b,!0,E)},a.prototype.writeDoubleBE=function(v,b,E){return xe(this,v,b,!1,E)},a.prototype.copy=function(v,b,E,O){if(!a.isBuffer(v))throw new TypeError("argument should be a Buffer");if(E||(E=0),!O&&O!==0&&(O=this.length),b>=v.length&&(b=v.length),b||(b=0),O>0&&O<E&&(O=E),O===E||v.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),v.length-b<O-E&&(O=v.length-b+E);let z=O-E;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,E,O):Uint8Array.prototype.set.call(v,this.subarray(E,O),b),z},a.prototype.fill=function(v,b,E,O){if(typeof v=="string"){if(typeof b=="string"?(O=b,b=0,E=this.length):typeof E=="string"&&(O=E,E=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!a.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(v.length===1){let q=v.charCodeAt(0);(O==="utf8"&&q<128||O==="latin1")&&(v=q)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(b<0||this.length<b||this.length<E)throw new RangeError("Out of range index");if(E<=b)return this;b=b>>>0,E=E===void 0?this.length:E>>>0,v||(v=0);let z;if(typeof v=="number")for(z=b;z<E;++z)this[z]=v;else{let q=a.isBuffer(v)?v:a.from(v,O),oe=q.length;if(oe===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(z=0;z<E-b;++z)this[z+b]=q[z%oe]}return this};let J={};function G(v,b,E){J[v]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:b.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name}get code(){return v}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${v}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(v,b){return`The "${v}" argument must be of type number. Received type ${typeof b}`},TypeError),G("ERR_OUT_OF_RANGE",function(v,b,E){let O=`The value of "${v}" is out of range.`,z=E;return Number.isInteger(E)&&Math.abs(E)>2**32?z=pe(String(E)):typeof E=="bigint"&&(z=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(z=pe(z)),z+="n"),O+=` It must be ${b}. Received ${z}`,O},RangeError);function pe(v){let b="",E=v.length,O=v[0]==="-"?1:0;for(;E>=O+4;E-=3)b=`_${v.slice(E-3,E)}${b}`;return`${v.slice(0,E)}${b}`}function ee(v,b,E){re(b,"offset"),(v[b]===void 0||v[b+E]===void 0)&&we(b,v.length-(E+1))}function ne(v,b,E,O,z,q){if(v>E||v<b){let oe=typeof b=="bigint"?"n":"",Be;throw b===0||b===BigInt(0)?Be=`>= 0${oe} and < 2${oe} ** ${(q+1)*8}${oe}`:Be=`>= -(2${oe} ** ${(q+1)*8-1}${oe}) and < 2 ** ${(q+1)*8-1}${oe}`,new J.ERR_OUT_OF_RANGE("value",Be,v)}ee(O,z,q)}function re(v,b){if(typeof v!="number")throw new J.ERR_INVALID_ARG_TYPE(b,"number",v)}function we(v,b,E){throw Math.floor(v)!==v?(re(v,E),new J.ERR_OUT_OF_RANGE("offset","an integer",v)):b<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${b}`,v)}let be=/[^+/0-9A-Za-z-_]/g;function H(v){if(v=v.split("=")[0],v=v.trim().replace(be,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function Y(v,b){b=b||1/0;let E,O=v.length,z=null,q=[];for(let oe=0;oe<O;++oe){if(E=v.charCodeAt(oe),E>55295&&E<57344){if(!z){if(E>56319){(b-=3)>-1&&q.push(239,191,189);continue}else if(oe+1===O){(b-=3)>-1&&q.push(239,191,189);continue}z=E;continue}if(E<56320){(b-=3)>-1&&q.push(239,191,189),z=E;continue}E=(z-55296<<10|E-56320)+65536}else z&&(b-=3)>-1&&q.push(239,191,189);if(z=null,E<128){if((b-=1)<0)break;q.push(E)}else if(E<2048){if((b-=2)<0)break;q.push(E>>6|192,E&63|128)}else if(E<65536){if((b-=3)<0)break;q.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((b-=4)<0)break;q.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return q}function le(v){let b=[];for(let E=0;E<v.length;++E)b.push(v.charCodeAt(E)&255);return b}function _e(v,b){let E,O,z,q=[];for(let oe=0;oe<v.length&&!((b-=2)<0);++oe)E=v.charCodeAt(oe),O=E>>8,z=E%256,q.push(z),q.push(O);return q}function ve(v){return e.toByteArray(H(v))}function Ae(v,b,E,O){let z;for(z=0;z<O&&!(z+E>=b.length||z>=v.length);++z)b[z+E]=v[z];return z}function Q(v,b){return v instanceof b||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===b.name}function Se(v){return v!==v}let Ne=function(){let v="0123456789abcdef",b=new Array(256);for(let E=0;E<16;++E){let O=E*16;for(let z=0;z<16;++z)b[O+z]=v[E]+v[z]}return b}();function me(v){return typeof BigInt>"u"?Xe:v}function Xe(){throw new Error("BigInt not supported")}return Ci}var us,Pp,ka,Tp,Ci,Cp,ei,mc,Zw,qw,sn=An(()=>{Pe(),Ce(),Te(),us={},Pp=!1,ka={},Tp=!1,Ci={},Cp=!1,ei=GM(),ei.Buffer,ei.SlowBuffer,ei.INSPECT_MAX_BYTES,ei.kMaxLength,mc=ei.Buffer,Zw=ei.INSPECT_MAX_BYTES,qw=ei.kMaxLength}),Ce=An(()=>{sn()}),ZM=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(n){this.aliasToTopic={},this.max=n}put(n,r){return r===0||r>this.max?!1:(this.aliasToTopic[r]=n,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(n){return this.aliasToTopic[n]}clear(){this.aliasToTopic={}}};e.default=t}),Ut=Oe((e,t)=>{Pe(),Ce(),Te();var n=class extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let s="";for(let o=0;o<r.length;o++)s+=`    ${r[o].stack}
`;super(s),this.name="AggregateError",this.errors=r}};t.exports={AggregateError:n,ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,s){return r.includes(s)},ArrayPrototypeIndexOf(r,s){return r.indexOf(s)},ArrayPrototypeJoin(r,s){return r.join(s)},ArrayPrototypeMap(r,s){return r.map(s)},ArrayPrototypePop(r,s){return r.pop(s)},ArrayPrototypePush(r,s){return r.push(s)},ArrayPrototypeSlice(r,s,o){return r.slice(s,o)},Error,FunctionPrototypeCall(r,s,...o){return r.call(s,...o)},FunctionPrototypeSymbolHasInstance(r,s){return Function.prototype[Symbol.hasInstance].call(r,s)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,s){return Object.defineProperties(r,s)},ObjectDefineProperty(r,s,o){return Object.defineProperty(r,s,o)},ObjectGetOwnPropertyDescriptor(r,s){return Object.getOwnPropertyDescriptor(r,s)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,s){return Object.setPrototypeOf(r,s)},Promise,PromisePrototypeCatch(r,s){return r.catch(s)},PromisePrototypeThen(r,s,o){return r.then(s,o)},PromiseReject(r){return Promise.reject(r)},PromiseResolve(r){return Promise.resolve(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,s){return r.test(s)},SafeSet:Set,String,StringPrototypeSlice(r,s,o){return r.slice(s,o)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(r,s,o){return r.set(s,o)},Boolean,Uint8Array}}),Kw=Oe((e,t)=>{Pe(),Ce(),Te(),t.exports={format(n,...r){return n.replace(/%([sdifj])/g,function(...[s,o]){let a=r.shift();return o==="f"?a.toFixed(6):o==="j"?JSON.stringify(a):o==="s"&&typeof a=="object"?`${a.constructor!==Object?a.constructor.name:""} {}`.trim():a.toString()})},inspect(n){switch(typeof n){case"string":if(n.includes("'"))if(n.includes('"')){if(!n.includes("`")&&!n.includes("${"))return`\`${n}\``}else return`"${n}"`;return`'${n}'`;case"number":return isNaN(n)?"NaN":Object.is(n,-0)?String(n):n;case"bigint":return`${String(n)}n`;case"boolean":case"undefined":return String(n);case"object":return"{}"}}}}),xn=Oe((e,t)=>{Pe(),Ce(),Te();var{format:n,inspect:r}=Kw(),{AggregateError:s}=Ut(),o=globalThis.AggregateError||s,a=Symbol("kIsNodeError"),u=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",d={};function p(y,S){if(!y)throw new d.ERR_INTERNAL_ASSERTION(S)}function m(y){let S="",I=y.length,R=y[0]==="-"?1:0;for(;I>=R+4;I-=3)S=`_${y.slice(I-3,I)}${S}`;return`${y.slice(0,I)}${S}`}function g(y,S,I){if(typeof S=="function")return p(S.length<=I.length,`Code: ${y}; The provided arguments length (${I.length}) does not match the required ones (${S.length}).`),S(...I);let R=(S.match(/%[dfijoOs]/g)||[]).length;return p(R===I.length,`Code: ${y}; The provided arguments length (${I.length}) does not match the required ones (${R}).`),I.length===0?S:n(S,...I)}function w(y,S,I){I||(I=Error);class R extends I{constructor(...C){super(g(y,S,C))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(R.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),R.prototype.code=y,R.prototype[a]=!0,d[y]=R}function x(y){let S=h+y.name;return Object.defineProperty(y,"name",{value:S}),y}function P(y,S){if(y&&S&&y!==S){if(Array.isArray(S.errors))return S.errors.push(y),S;let I=new o([S,y],S.message);return I.code=S.code,I}return y||S}var A=class extends Error{constructor(y="The operation was aborted",S=void 0){if(S!==void 0&&typeof S!="object")throw new d.ERR_INVALID_ARG_TYPE("options","Object",S);super(y,S),this.code="ABORT_ERR",this.name="AbortError"}};w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(y,S,I)=>{p(typeof y=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let R="The ";y.endsWith(" argument")?R+=`${y} `:R+=`"${y}" ${y.includes(".")?"property":"argument"} `,R+="must be ";let T=[],C=[],N=[];for(let ie of S)p(typeof ie=="string","All expected entries have to be of type string"),u.includes(ie)?T.push(ie.toLowerCase()):c.test(ie)?C.push(ie):(p(ie!=="object",'The value "object" should be written as "Object"'),N.push(ie));if(C.length>0){let ie=T.indexOf("object");ie!==-1&&(T.splice(T,ie,1),C.push("Object"))}if(T.length>0){switch(T.length){case 1:R+=`of type ${T[0]}`;break;case 2:R+=`one of type ${T[0]} or ${T[1]}`;break;default:{let ie=T.pop();R+=`one of type ${T.join(", ")}, or ${ie}`}}(C.length>0||N.length>0)&&(R+=" or ")}if(C.length>0){switch(C.length){case 1:R+=`an instance of ${C[0]}`;break;case 2:R+=`an instance of ${C[0]} or ${C[1]}`;break;default:{let ie=C.pop();R+=`an instance of ${C.join(", ")}, or ${ie}`}}N.length>0&&(R+=" or ")}switch(N.length){case 0:break;case 1:N[0].toLowerCase()!==N[0]&&(R+="an "),R+=`${N[0]}`;break;case 2:R+=`one of ${N[0]} or ${N[1]}`;break;default:{let ie=N.pop();R+=`one of ${N.join(", ")}, or ${ie}`}}if(I==null)R+=`. Received ${I}`;else if(typeof I=="function"&&I.name)R+=`. Received function ${I.name}`;else if(typeof I=="object"){var te;if((te=I.constructor)!==null&&te!==void 0&&te.name)R+=`. Received an instance of ${I.constructor.name}`;else{let ie=r(I,{depth:-1});R+=`. Received ${ie}`}}else{let ie=r(I,{colors:!1});ie.length>25&&(ie=`${ie.slice(0,25)}...`),R+=`. Received type ${typeof I} (${ie})`}return R},TypeError),w("ERR_INVALID_ARG_VALUE",(y,S,I="is invalid")=>{let R=r(S);return R.length>128&&(R=R.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${I}. Received ${R}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(y,S,I)=>{var R;let T=I!=null&&(R=I.constructor)!==null&&R!==void 0&&R.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${y} to be returned from the "${S}" function but got ${T}.`},TypeError),w("ERR_MISSING_ARGS",(...y)=>{p(y.length>0,"At least one arg needs to be specified");let S,I=y.length;switch(y=(Array.isArray(y)?y:[y]).map(R=>`"${R}"`).join(" or "),I){case 1:S+=`The ${y[0]} argument`;break;case 2:S+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let R=y.pop();S+=`The ${y.join(", ")}, and ${R} arguments`}break}return`${S} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(y,S,I)=>{p(S,'Missing "range" argument');let R;if(Number.isInteger(I)&&Math.abs(I)>2**32)R=m(String(I));else if(typeof I=="bigint"){R=String(I);let T=BigInt(2)**BigInt(32);(I>T||I<-T)&&(R=m(R)),R+="n"}else R=r(I);return`The value of "${y}" is out of range. It must be ${S}. Received ${R}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:A,aggregateTwoErrors:x(P),hideStackFrames:x,codes:d}}),ol=Oe((e,t)=>{Pe(),Ce(),Te();var{AbortController:n,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=n,t.exports.AbortSignal=r,t.exports.default=n});function bt(){bt.init.call(this)}function Cu(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Yw(e){return e._maxListeners===void 0?bt.defaultMaxListeners:e._maxListeners}function Rv(e,t,n,r){var s,o,a,u;if(Cu(n),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(s=Yw(e))>0&&a.length>s&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return e}function qM(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Nv(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=qM.bind(r);return s.listener=n,r.wrapFn=s,s}function Lv(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?function(o){for(var a=new Array(o.length),u=0;u<a.length;++u)a[u]=o[u].listener||o[u];return a}(s):Qw(s,s.length)}function Dv(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function Qw(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}var Bv,jv,ho,sf,af,lf,Nn,Uv=An(()=>{Pe(),Ce(),Te(),ho=typeof Reflect=="object"?Reflect:null,sf=ho&&typeof ho.apply=="function"?ho.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},jv=ho&&typeof ho.ownKeys=="function"?ho.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},af=Number.isNaN||function(e){return e!=e},Bv=bt,bt.EventEmitter=bt,bt.prototype._events=void 0,bt.prototype._eventsCount=0,bt.prototype._maxListeners=void 0,lf=10,Object.defineProperty(bt,"defaultMaxListeners",{enumerable:!0,get:function(){return lf},set:function(e){if(typeof e!="number"||e<0||af(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");lf=e}}),bt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},bt.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||af(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},bt.prototype.getMaxListeners=function(){return Yw(this)},bt.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",s=this._events;if(s!==void 0)r=r&&s.error===void 0;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")sf(u,this,t);else{var c=u.length,h=Qw(u,c);for(n=0;n<c;++n)sf(h[n],this,t)}return!0},bt.prototype.addListener=function(e,t){return Rv(this,e,t,!1)},bt.prototype.on=bt.prototype.addListener,bt.prototype.prependListener=function(e,t){return Rv(this,e,t,!0)},bt.prototype.once=function(e,t){return Cu(t),this.on(e,Nv(this,e,t)),this},bt.prototype.prependOnceListener=function(e,t){return Cu(t),this.prependListener(e,Nv(this,e,t)),this},bt.prototype.removeListener=function(e,t){var n,r,s,o,a;if(Cu(t),(r=this._events)===void 0)return this;if((n=r[e])===void 0)return this;if(n===t||n.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():function(u,c){for(;c+1<u.length;c++)u[c]=u[c+1];u.pop()}(n,s),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this},bt.prototype.off=bt.prototype.removeListener,bt.prototype.removeAllListeners=function(e){var t,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s,o=Object.keys(n);for(r=0;r<o.length;++r)(s=o[r])!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=n[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},bt.prototype.listeners=function(e){return Lv(this,e,!0)},bt.prototype.rawListeners=function(e){return Lv(this,e,!1)},bt.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Dv.call(e,t)},bt.prototype.listenerCount=Dv,bt.prototype.eventNames=function(){return this._eventsCount>0?jv(this._events):[]},Nn=Bv,Nn.EventEmitter,Nn.defaultMaxListeners,Nn.init,Nn.listenerCount,Nn.EventEmitter,Nn.defaultMaxListeners,Nn.init,Nn.listenerCount}),ro={};Zs(ro,{EventEmitter:()=>Xw,default:()=>Nn,defaultMaxListeners:()=>Jw,init:()=>e1,listenerCount:()=>t1,on:()=>n1,once:()=>r1});var Xw,Jw,e1,t1,n1,r1,Ho=An(()=>{Pe(),Ce(),Te(),Uv(),Uv(),Nn.once=function(e,t){return new Promise((n,r)=>{function s(...a){o!==void 0&&e.removeListener("error",o),n(a)}let o;t!=="error"&&(o=a=>{e.removeListener(name,s),r(a)},e.once("error",o)),e.once(t,s)})},Nn.on=function(e,t){let n=[],r=[],s=null,o=!1,a={async next(){let h=n.shift();if(h)return createIterResult(h,!1);if(s){let d=Promise.reject(s);return s=null,d}return o?createIterResult(void 0,!0):new Promise((d,p)=>r.push({resolve:d,reject:p}))},async return(){e.removeListener(t,u),e.removeListener("error",c),o=!0;for(let h of r)h.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(h){s=h,e.removeListener(t,u),e.removeListener("error",c)},[Symbol.asyncIterator](){return this}};return e.on(t,u),e.on("error",c),a;function u(...h){let d=r.shift();d?d.resolve(createIterResult(h,!1)):n.push(h)}function c(h){o=!0;let d=r.shift();d?d.reject(h):s=h,a.return()}},{EventEmitter:Xw,defaultMaxListeners:Jw,init:e1,listenerCount:t1,on:n1,once:r1}=Nn}),Rn=Oe((e,t)=>{Pe(),Ce(),Te();var n=(sn(),wt(on)),{format:r,inspect:s}=Kw(),{codes:{ERR_INVALID_ARG_TYPE:o}}=xn(),{kResistStopPropagation:a,AggregateError:u,SymbolDispose:c}=Ut(),h=globalThis.AbortSignal||ol().AbortSignal,d=globalThis.AbortController||ol().AbortController,p=Object.getPrototypeOf(async function(){}).constructor,m=globalThis.Blob||n.Blob,g=typeof m<"u"?function(P){return P instanceof m}:function(P){return!1},w=(P,A)=>{if(P!==void 0&&(P===null||typeof P!="object"||!("aborted"in P)))throw new o(A,"AbortSignal",P)},x=(P,A)=>{if(typeof P!="function")throw new o(A,"Function",P)};t.exports={AggregateError:u,kEmptyObject:Object.freeze({}),once(P){let A=!1;return function(...y){A||(A=!0,P.apply(this,y))}},createDeferredPromise:function(){let P,A;return{promise:new Promise((y,S)=>{P=y,A=S}),resolve:P,reject:A}},promisify(P){return new Promise((A,y)=>{P((S,...I)=>S?y(S):A(...I))})},debuglog(){return function(){}},format:r,inspect:s,types:{isAsyncFunction(P){return P instanceof p},isArrayBufferView(P){return ArrayBuffer.isView(P)}},isBlob:g,deprecate(P,A){return P},addAbortListener:(Ho(),wt(ro)).addAbortListener||function(P,A){if(P===void 0)throw new o("signal","AbortSignal",P);w(P,"signal"),x(A,"listener");let y;return P.aborted?queueMicrotask(()=>A()):(P.addEventListener("abort",A,{__proto__:null,once:!0,[a]:!0}),y=()=>{P.removeEventListener("abort",A)}),{__proto__:null,[c](){var S;(S=y)===null||S===void 0||S()}}},AbortSignalAny:h.any||function(P){if(P.length===1)return P[0];let A=new d,y=()=>A.abort();return P.forEach(S=>{w(S,"signals"),S.addEventListener("abort",y,{once:!0})}),A.signal.addEventListener("abort",()=>{P.forEach(S=>S.removeEventListener("abort",y))},{once:!0}),A.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),vl=Oe((e,t)=>{Pe(),Ce(),Te();var{ArrayIsArray:n,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:s,ArrayPrototypeMap:o,NumberIsInteger:a,NumberIsNaN:u,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:h,NumberParseInt:d,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:m,String:g,StringPrototypeToUpperCase:w,StringPrototypeTrim:x}=Ut(),{hideStackFrames:P,codes:{ERR_SOCKET_BAD_PORT:A,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:R}}=xn(),{normalizeEncoding:T}=Rn(),{isAsyncFunction:C,isArrayBufferView:N}=Rn().types,te={};function ie(Q){return Q===(Q|0)}function he(Q){return Q===Q>>>0}var U=/^[0-7]+$/,se="must be a 32-bit unsigned integer or an octal string";function ue(Q,Se,Ne){if(typeof Q>"u"&&(Q=Ne),typeof Q=="string"){if(m(U,Q)===null)throw new S(Se,Q,se);Q=d(Q,8)}return ke(Q,Se),Q}var X=P((Q,Se,Ne=h,me=c)=>{if(typeof Q!="number")throw new y(Se,"number",Q);if(!a(Q))throw new I(Se,"an integer",Q);if(Q<Ne||Q>me)throw new I(Se,`>= ${Ne} && <= ${me}`,Q)}),Ee=P((Q,Se,Ne=-2147483648,me=2147483647)=>{if(typeof Q!="number")throw new y(Se,"number",Q);if(!a(Q))throw new I(Se,"an integer",Q);if(Q<Ne||Q>me)throw new I(Se,`>= ${Ne} && <= ${me}`,Q)}),ke=P((Q,Se,Ne=!1)=>{if(typeof Q!="number")throw new y(Se,"number",Q);if(!a(Q))throw new I(Se,"an integer",Q);let me=Ne?1:0,Xe=4294967295;if(Q<me||Q>Xe)throw new I(Se,`>= ${me} && <= ${Xe}`,Q)});function K(Q,Se){if(typeof Q!="string")throw new y(Se,"string",Q)}function ye(Q,Se,Ne=void 0,me){if(typeof Q!="number")throw new y(Se,"number",Q);if(Ne!=null&&Q<Ne||me!=null&&Q>me||(Ne!=null||me!=null)&&u(Q))throw new I(Se,`${Ne!=null?`>= ${Ne}`:""}${Ne!=null&&me!=null?" && ":""}${me!=null?`<= ${me}`:""}`,Q)}var $=P((Q,Se,Ne)=>{if(!r(Ne,Q)){let me="must be one of: "+s(o(Ne,Xe=>typeof Xe=="string"?`'${Xe}'`:g(Xe)),", ");throw new S(Se,Q,me)}});function ce(Q,Se){if(typeof Q!="boolean")throw new y(Se,"boolean",Q)}function j(Q,Se,Ne){return Q==null||!p(Q,Se)?Ne:Q[Se]}var fe=P((Q,Se,Ne=null)=>{let me=j(Ne,"allowArray",!1),Xe=j(Ne,"allowFunction",!1);if(!j(Ne,"nullable",!1)&&Q===null||!me&&n(Q)||typeof Q!="object"&&(!Xe||typeof Q!="function"))throw new y(Se,"Object",Q)}),ge=P((Q,Se)=>{if(Q!=null&&typeof Q!="object"&&typeof Q!="function")throw new y(Se,"a dictionary",Q)}),V=P((Q,Se,Ne=0)=>{if(!n(Q))throw new y(Se,"Array",Q);if(Q.length<Ne){let me=`must be longer than ${Ne}`;throw new S(Se,Q,me)}});function xe(Q,Se){V(Q,Se);for(let Ne=0;Ne<Q.length;Ne++)K(Q[Ne],`${Se}[${Ne}]`)}function J(Q,Se){V(Q,Se);for(let Ne=0;Ne<Q.length;Ne++)ce(Q[Ne],`${Se}[${Ne}]`)}function G(Q,Se){V(Q,Se);for(let Ne=0;Ne<Q.length;Ne++){let me=Q[Ne],Xe=`${Se}[${Ne}]`;if(me==null)throw new y(Xe,"AbortSignal",me);we(me,Xe)}}function pe(Q,Se="signal"){if(K(Q,Se),te[Q]===void 0)throw te[w(Q)]!==void 0?new R(Q+" (signals must use all capital letters)"):new R(Q)}var ee=P((Q,Se="buffer")=>{if(!N(Q))throw new y(Se,["Buffer","TypedArray","DataView"],Q)});function ne(Q,Se){let Ne=T(Se),me=Q.length;if(Ne==="hex"&&me%2!==0)throw new S("encoding",Se,`is invalid for data of length ${me}`)}function re(Q,Se="Port",Ne=!0){if(typeof Q!="number"&&typeof Q!="string"||typeof Q=="string"&&x(Q).length===0||+Q!==+Q>>>0||Q>65535||Q===0&&!Ne)throw new A(Se,Q,Ne);return Q|0}var we=P((Q,Se)=>{if(Q!==void 0&&(Q===null||typeof Q!="object"||!("aborted"in Q)))throw new y(Se,"AbortSignal",Q)}),be=P((Q,Se)=>{if(typeof Q!="function")throw new y(Se,"Function",Q)}),H=P((Q,Se)=>{if(typeof Q!="function"||C(Q))throw new y(Se,"Function",Q)}),Y=P((Q,Se)=>{if(Q!==void 0)throw new y(Se,"undefined",Q)});function le(Q,Se,Ne){if(!r(Ne,Q))throw new y(Se,`('${s(Ne,"|")}')`,Q)}var _e=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ve(Q,Se){if(typeof Q>"u"||!m(_e,Q))throw new S(Se,Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ae(Q){if(typeof Q=="string")return ve(Q,"hints"),Q;if(n(Q)){let Se=Q.length,Ne="";if(Se===0)return Ne;for(let me=0;me<Se;me++){let Xe=Q[me];ve(Xe,"hints"),Ne+=Xe,me!==Se-1&&(Ne+=", ")}return Ne}throw new S("hints",Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:ie,isUint32:he,parseFileMode:ue,validateArray:V,validateStringArray:xe,validateBooleanArray:J,validateAbortSignalArray:G,validateBoolean:ce,validateBuffer:ee,validateDictionary:ge,validateEncoding:ne,validateFunction:be,validateInt32:Ee,validateInteger:X,validateNumber:ye,validateObject:fe,validateOneOf:$,validatePlainFunction:H,validatePort:re,validateSignalName:pe,validateString:K,validateUint32:ke,validateUndefined:Y,validateUnion:le,validateAbortSignal:we,validateLinkHeaderValue:Ae}}),Go=Oe((e,t)=>{Pe(),Ce(),Te();var n=t.exports={},r,s;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=o}catch{r=o}try{typeof clearTimeout=="function"?s=clearTimeout:s=a}catch{s=a}})();function u(A){if(r===setTimeout)return setTimeout(A,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(A,0);try{return r(A,0)}catch{try{return r.call(null,A,0)}catch{return r.call(this,A,0)}}}function c(A){if(s===clearTimeout)return clearTimeout(A);if((s===a||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(A);try{return s(A)}catch{try{return s.call(null,A)}catch{return s.call(this,A)}}}var h=[],d=!1,p,m=-1;function g(){!d||!p||(d=!1,p.length?h=p.concat(h):m=-1,h.length&&w())}function w(){if(!d){var A=u(g);d=!0;for(var y=h.length;y;){for(p=h,h=[];++m<y;)p&&p[m].run();m=-1,y=h.length}p=null,d=!1,c(A)}}n.nextTick=function(A){var y=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)y[S-1]=arguments[S];h.push(new x(A,y)),h.length===1&&!d&&u(w)};function x(A,y){this.fun=A,this.array=y}x.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function P(){}n.on=P,n.addListener=P,n.once=P,n.off=P,n.removeListener=P,n.removeAllListeners=P,n.emit=P,n.prependListener=P,n.prependOnceListener=P,n.listeners=function(A){return[]},n.binding=function(A){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(A){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}),Si=Oe((e,t)=>{Pe(),Ce(),Te();var{SymbolAsyncIterator:n,SymbolIterator:r,SymbolFor:s}=Ut(),o=s("nodejs.stream.destroyed"),a=s("nodejs.stream.errored"),u=s("nodejs.stream.readable"),c=s("nodejs.stream.writable"),h=s("nodejs.stream.disturbed"),d=s("nodejs.webstream.isClosedPromise"),p=s("nodejs.webstream.controllerErrorFunction");function m(j,fe=!1){var ge;return!!(j&&typeof j.pipe=="function"&&typeof j.on=="function"&&(!fe||typeof j.pause=="function"&&typeof j.resume=="function")&&(!j._writableState||((ge=j._readableState)===null||ge===void 0?void 0:ge.readable)!==!1)&&(!j._writableState||j._readableState))}function g(j){var fe;return!!(j&&typeof j.write=="function"&&typeof j.on=="function"&&(!j._readableState||((fe=j._writableState)===null||fe===void 0?void 0:fe.writable)!==!1))}function w(j){return!!(j&&typeof j.pipe=="function"&&j._readableState&&typeof j.on=="function"&&typeof j.write=="function")}function x(j){return j&&(j._readableState||j._writableState||typeof j.write=="function"&&typeof j.on=="function"||typeof j.pipe=="function"&&typeof j.on=="function")}function P(j){return!!(j&&!x(j)&&typeof j.pipeThrough=="function"&&typeof j.getReader=="function"&&typeof j.cancel=="function")}function A(j){return!!(j&&!x(j)&&typeof j.getWriter=="function"&&typeof j.abort=="function")}function y(j){return!!(j&&!x(j)&&typeof j.readable=="object"&&typeof j.writable=="object")}function S(j){return P(j)||A(j)||y(j)}function I(j,fe){return j==null?!1:fe===!0?typeof j[n]=="function":fe===!1?typeof j[r]=="function":typeof j[n]=="function"||typeof j[r]=="function"}function R(j){if(!x(j))return null;let fe=j._writableState,ge=j._readableState,V=fe||ge;return!!(j.destroyed||j[o]||V!=null&&V.destroyed)}function T(j){if(!g(j))return null;if(j.writableEnded===!0)return!0;let fe=j._writableState;return fe!=null&&fe.errored?!1:typeof(fe==null?void 0:fe.ended)!="boolean"?null:fe.ended}function C(j,fe){if(!g(j))return null;if(j.writableFinished===!0)return!0;let ge=j._writableState;return ge!=null&&ge.errored?!1:typeof(ge==null?void 0:ge.finished)!="boolean"?null:!!(ge.finished||fe===!1&&ge.ended===!0&&ge.length===0)}function N(j){if(!m(j))return null;if(j.readableEnded===!0)return!0;let fe=j._readableState;return!fe||fe.errored?!1:typeof(fe==null?void 0:fe.ended)!="boolean"?null:fe.ended}function te(j,fe){if(!m(j))return null;let ge=j._readableState;return ge!=null&&ge.errored?!1:typeof(ge==null?void 0:ge.endEmitted)!="boolean"?null:!!(ge.endEmitted||fe===!1&&ge.ended===!0&&ge.length===0)}function ie(j){return j&&j[u]!=null?j[u]:typeof(j==null?void 0:j.readable)!="boolean"?null:R(j)?!1:m(j)&&j.readable&&!te(j)}function he(j){return j&&j[c]!=null?j[c]:typeof(j==null?void 0:j.writable)!="boolean"?null:R(j)?!1:g(j)&&j.writable&&!T(j)}function U(j,fe){return x(j)?R(j)?!0:!((fe==null?void 0:fe.readable)!==!1&&ie(j)||(fe==null?void 0:fe.writable)!==!1&&he(j)):null}function se(j){var fe,ge;return x(j)?j.writableErrored?j.writableErrored:(fe=(ge=j._writableState)===null||ge===void 0?void 0:ge.errored)!==null&&fe!==void 0?fe:null:null}function ue(j){var fe,ge;return x(j)?j.readableErrored?j.readableErrored:(fe=(ge=j._readableState)===null||ge===void 0?void 0:ge.errored)!==null&&fe!==void 0?fe:null:null}function X(j){if(!x(j))return null;if(typeof j.closed=="boolean")return j.closed;let fe=j._writableState,ge=j._readableState;return typeof(fe==null?void 0:fe.closed)=="boolean"||typeof(ge==null?void 0:ge.closed)=="boolean"?(fe==null?void 0:fe.closed)||(ge==null?void 0:ge.closed):typeof j._closed=="boolean"&&Ee(j)?j._closed:null}function Ee(j){return typeof j._closed=="boolean"&&typeof j._defaultKeepAlive=="boolean"&&typeof j._removedConnection=="boolean"&&typeof j._removedContLen=="boolean"}function ke(j){return typeof j._sent100=="boolean"&&Ee(j)}function K(j){var fe;return typeof j._consuming=="boolean"&&typeof j._dumped=="boolean"&&((fe=j.req)===null||fe===void 0?void 0:fe.upgradeOrConnect)===void 0}function ye(j){if(!x(j))return null;let fe=j._writableState,ge=j._readableState,V=fe||ge;return!V&&ke(j)||!!(V&&V.autoDestroy&&V.emitClose&&V.closed===!1)}function $(j){var fe;return!!(j&&((fe=j[h])!==null&&fe!==void 0?fe:j.readableDidRead||j.readableAborted))}function ce(j){var fe,ge,V,xe,J,G,pe,ee,ne,re;return!!(j&&((fe=(ge=(V=(xe=(J=(G=j[a])!==null&&G!==void 0?G:j.readableErrored)!==null&&J!==void 0?J:j.writableErrored)!==null&&xe!==void 0?xe:(pe=j._readableState)===null||pe===void 0?void 0:pe.errorEmitted)!==null&&V!==void 0?V:(ee=j._writableState)===null||ee===void 0?void 0:ee.errorEmitted)!==null&&ge!==void 0?ge:(ne=j._readableState)===null||ne===void 0?void 0:ne.errored)!==null&&fe!==void 0?fe:!((re=j._writableState)===null||re===void 0)&&re.errored))}t.exports={isDestroyed:R,kIsDestroyed:o,isDisturbed:$,kIsDisturbed:h,isErrored:ce,kIsErrored:a,isReadable:ie,kIsReadable:u,kIsClosedPromise:d,kControllerErrorFunction:p,kIsWritable:c,isClosed:X,isDuplexNodeStream:w,isFinished:U,isIterable:I,isReadableNodeStream:m,isReadableStream:P,isReadableEnded:N,isReadableFinished:te,isReadableErrored:ue,isNodeStream:x,isWebStream:S,isWritable:he,isWritableNodeStream:g,isWritableStream:A,isWritableEnded:T,isWritableFinished:C,isWritableErrored:se,isServerRequest:K,isServerResponse:ke,willEmitClose:ye,isTransformStream:y}}),io=Oe((e,t)=>{Pe(),Ce(),Te();var n=Go(),{AbortError:r,codes:s}=xn(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:a}=s,{kEmptyObject:u,once:c}=Rn(),{validateAbortSignal:h,validateFunction:d,validateObject:p,validateBoolean:m}=vl(),{Promise:g,PromisePrototypeThen:w,SymbolDispose:x}=Ut(),{isClosed:P,isReadable:A,isReadableNodeStream:y,isReadableStream:S,isReadableFinished:I,isReadableErrored:R,isWritable:T,isWritableNodeStream:C,isWritableStream:N,isWritableFinished:te,isWritableErrored:ie,isNodeStream:he,willEmitClose:U,kIsClosedPromise:se}=Si(),ue;function X($){return $.setHeader&&typeof $.abort=="function"}var Ee=()=>{};function ke($,ce,j){var fe,ge;if(arguments.length===2?(j=ce,ce=u):ce==null?ce=u:p(ce,"options"),d(j,"callback"),h(ce.signal,"options.signal"),j=c(j),S($)||N($))return K($,ce,j);if(!he($))throw new o("stream",["ReadableStream","WritableStream","Stream"],$);let V=(fe=ce.readable)!==null&&fe!==void 0?fe:y($),xe=(ge=ce.writable)!==null&&ge!==void 0?ge:C($),J=$._writableState,G=$._readableState,pe=()=>{$.writable||re()},ee=U($)&&y($)===V&&C($)===xe,ne=te($,!1),re=()=>{ne=!0,$.destroyed&&(ee=!1),!(ee&&(!$.readable||V))&&(!V||we)&&j.call($)},we=I($,!1),be=()=>{we=!0,$.destroyed&&(ee=!1),!(ee&&(!$.writable||xe))&&(!xe||ne)&&j.call($)},H=Q=>{j.call($,Q)},Y=P($),le=()=>{Y=!0;let Q=ie($)||R($);if(Q&&typeof Q!="boolean")return j.call($,Q);if(V&&!we&&y($,!0)&&!I($,!1))return j.call($,new a);if(xe&&!ne&&!te($,!1))return j.call($,new a);j.call($)},_e=()=>{Y=!0;let Q=ie($)||R($);if(Q&&typeof Q!="boolean")return j.call($,Q);j.call($)},ve=()=>{$.req.on("finish",re)};X($)?($.on("complete",re),ee||$.on("abort",le),$.req?ve():$.on("request",ve)):xe&&!J&&($.on("end",pe),$.on("close",pe)),!ee&&typeof $.aborted=="boolean"&&$.on("aborted",le),$.on("end",be),$.on("finish",re),ce.error!==!1&&$.on("error",H),$.on("close",le),Y?n.nextTick(le):J!=null&&J.errorEmitted||G!=null&&G.errorEmitted?ee||n.nextTick(_e):(!V&&(!ee||A($))&&(ne||T($)===!1)||!xe&&(!ee||T($))&&(we||A($)===!1)||G&&$.req&&$.aborted)&&n.nextTick(_e);let Ae=()=>{j=Ee,$.removeListener("aborted",le),$.removeListener("complete",re),$.removeListener("abort",le),$.removeListener("request",ve),$.req&&$.req.removeListener("finish",re),$.removeListener("end",pe),$.removeListener("close",pe),$.removeListener("finish",re),$.removeListener("end",be),$.removeListener("error",H),$.removeListener("close",le)};if(ce.signal&&!Y){let Q=()=>{let Se=j;Ae(),Se.call($,new r(void 0,{cause:ce.signal.reason}))};if(ce.signal.aborted)n.nextTick(Q);else{ue=ue||Rn().addAbortListener;let Se=ue(ce.signal,Q),Ne=j;j=c((...me)=>{Se[x](),Ne.apply($,me)})}}return Ae}function K($,ce,j){let fe=!1,ge=Ee;if(ce.signal)if(ge=()=>{fe=!0,j.call($,new r(void 0,{cause:ce.signal.reason}))},ce.signal.aborted)n.nextTick(ge);else{ue=ue||Rn().addAbortListener;let xe=ue(ce.signal,ge),J=j;j=c((...G)=>{xe[x](),J.apply($,G)})}let V=(...xe)=>{fe||n.nextTick(()=>j.apply($,xe))};return w($[se].promise,V,V),Ee}function ye($,ce){var j;let fe=!1;return ce===null&&(ce=u),(j=ce)!==null&&j!==void 0&&j.cleanup&&(m(ce.cleanup,"cleanup"),fe=ce.cleanup),new g((ge,V)=>{let xe=ke($,ce,J=>{fe&&xe(),J?V(J):ge()})})}t.exports=ke,t.exports.finished=ye}),qs=Oe((e,t)=>{Pe(),Ce(),Te();var n=Go(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:o}=xn(),{Symbol:a}=Ut(),{kIsDestroyed:u,isDestroyed:c,isFinished:h,isServerRequest:d}=Si(),p=a("kDestroy"),m=a("kConstruct");function g(U,se,ue){U&&(U.stack,se&&!se.errored&&(se.errored=U),ue&&!ue.errored&&(ue.errored=U))}function w(U,se){let ue=this._readableState,X=this._writableState,Ee=X||ue;return X!=null&&X.destroyed||ue!=null&&ue.destroyed?(typeof se=="function"&&se(),this):(g(U,X,ue),X&&(X.destroyed=!0),ue&&(ue.destroyed=!0),Ee.constructed?x(this,U,se):this.once(p,function(ke){x(this,r(ke,U),se)}),this)}function x(U,se,ue){let X=!1;function Ee(ke){if(X)return;X=!0;let K=U._readableState,ye=U._writableState;g(ke,ye,K),ye&&(ye.closed=!0),K&&(K.closed=!0),typeof ue=="function"&&ue(ke),ke?n.nextTick(P,U,ke):n.nextTick(A,U)}try{U._destroy(se||null,Ee)}catch(ke){Ee(ke)}}function P(U,se){y(U,se),A(U)}function A(U){let se=U._readableState,ue=U._writableState;ue&&(ue.closeEmitted=!0),se&&(se.closeEmitted=!0),(ue!=null&&ue.emitClose||se!=null&&se.emitClose)&&U.emit("close")}function y(U,se){let ue=U._readableState,X=U._writableState;X!=null&&X.errorEmitted||ue!=null&&ue.errorEmitted||(X&&(X.errorEmitted=!0),ue&&(ue.errorEmitted=!0),U.emit("error",se))}function S(){let U=this._readableState,se=this._writableState;U&&(U.constructed=!0,U.closed=!1,U.closeEmitted=!1,U.destroyed=!1,U.errored=null,U.errorEmitted=!1,U.reading=!1,U.ended=U.readable===!1,U.endEmitted=U.readable===!1),se&&(se.constructed=!0,se.destroyed=!1,se.closed=!1,se.closeEmitted=!1,se.errored=null,se.errorEmitted=!1,se.finalCalled=!1,se.prefinished=!1,se.ended=se.writable===!1,se.ending=se.writable===!1,se.finished=se.writable===!1)}function I(U,se,ue){let X=U._readableState,Ee=U._writableState;if(Ee!=null&&Ee.destroyed||X!=null&&X.destroyed)return this;X!=null&&X.autoDestroy||Ee!=null&&Ee.autoDestroy?U.destroy(se):se&&(se.stack,Ee&&!Ee.errored&&(Ee.errored=se),X&&!X.errored&&(X.errored=se),ue?n.nextTick(y,U,se):y(U,se))}function R(U,se){if(typeof U._construct!="function")return;let ue=U._readableState,X=U._writableState;ue&&(ue.constructed=!1),X&&(X.constructed=!1),U.once(m,se),!(U.listenerCount(m)>1)&&n.nextTick(T,U)}function T(U){let se=!1;function ue(X){if(se){I(U,X??new s);return}se=!0;let Ee=U._readableState,ke=U._writableState,K=ke||Ee;Ee&&(Ee.constructed=!0),ke&&(ke.constructed=!0),K.destroyed?U.emit(p,X):X?I(U,X,!0):n.nextTick(C,U)}try{U._construct(X=>{n.nextTick(ue,X)})}catch(X){n.nextTick(ue,X)}}function C(U){U.emit(m)}function N(U){return(U==null?void 0:U.setHeader)&&typeof U.abort=="function"}function te(U){U.emit("close")}function ie(U,se){U.emit("error",se),n.nextTick(te,U)}function he(U,se){!U||c(U)||(!se&&!h(U)&&(se=new o),d(U)?(U.socket=null,U.destroy(se)):N(U)?U.abort():N(U.req)?U.req.abort():typeof U.destroy=="function"?U.destroy(se):typeof U.close=="function"?U.close():se?n.nextTick(ie,U,se):n.nextTick(te,U),U.destroyed||(U[u]=!0))}t.exports={construct:R,destroyer:he,destroy:w,undestroy:S,errorOrDestroy:I}}),Jm=Oe((e,t)=>{Pe(),Ce(),Te();var{ArrayIsArray:n,ObjectSetPrototypeOf:r}=Ut(),{EventEmitter:s}=(Ho(),wt(ro));function o(u){s.call(this,u)}r(o.prototype,s.prototype),r(o,s),o.prototype.pipe=function(u,c){let h=this;function d(A){u.writable&&u.write(A)===!1&&h.pause&&h.pause()}h.on("data",d);function p(){h.readable&&h.resume&&h.resume()}u.on("drain",p),!u._isStdio&&(!c||c.end!==!1)&&(h.on("end",g),h.on("close",w));let m=!1;function g(){m||(m=!0,u.end())}function w(){m||(m=!0,typeof u.destroy=="function"&&u.destroy())}function x(A){P(),s.listenerCount(this,"error")===0&&this.emit("error",A)}a(h,"error",x),a(u,"error",x);function P(){h.removeListener("data",d),u.removeListener("drain",p),h.removeListener("end",g),h.removeListener("close",w),h.removeListener("error",x),u.removeListener("error",x),h.removeListener("end",P),h.removeListener("close",P),u.removeListener("close",P)}return h.on("end",P),h.on("close",P),u.on("close",P),u.emit("pipe",h),u};function a(u,c,h){if(typeof u.prependListener=="function")return u.prependListener(c,h);!u._events||!u._events[c]?u.on(c,h):n(u._events[c])?u._events[c].unshift(h):u._events[c]=[h,u._events[c]]}t.exports={Stream:o,prependListener:a}}),Gc=Oe((e,t)=>{Pe(),Ce(),Te();var{SymbolDispose:n}=Ut(),{AbortError:r,codes:s}=xn(),{isNodeStream:o,isWebStream:a,kControllerErrorFunction:u}=Si(),c=io(),{ERR_INVALID_ARG_TYPE:h}=s,d,p=(m,g)=>{if(typeof m!="object"||!("aborted"in m))throw new h(g,"AbortSignal",m)};t.exports.addAbortSignal=function(m,g){if(p(m,"signal"),!o(g)&&!a(g))throw new h("stream",["ReadableStream","WritableStream","Stream"],g);return t.exports.addAbortSignalNoValidate(m,g)},t.exports.addAbortSignalNoValidate=function(m,g){if(typeof m!="object"||!("aborted"in m))return g;let w=o(g)?()=>{g.destroy(new r(void 0,{cause:m.reason}))}:()=>{g[u](new r(void 0,{cause:m.reason}))};if(m.aborted)w();else{d=d||Rn().addAbortListener;let x=d(m,w);c(g,x[n])}return g}}),KM=Oe((e,t)=>{Pe(),Ce(),Te();var{StringPrototypeSlice:n,SymbolIterator:r,TypedArrayPrototypeSet:s,Uint8Array:o}=Ut(),{Buffer:a}=(sn(),wt(on)),{inspect:u}=Rn();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(c){let h={data:c,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift(c){let h={data:c,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;let c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}clear(){this.head=this.tail=null,this.length=0}join(c){if(this.length===0)return"";let h=this.head,d=""+h.data;for(;(h=h.next)!==null;)d+=c+h.data;return d}concat(c){if(this.length===0)return a.alloc(0);let h=a.allocUnsafe(c>>>0),d=this.head,p=0;for(;d;)s(h,d.data,p),p+=d.data.length,d=d.next;return h}consume(c,h){let d=this.head.data;if(c<d.length){let p=d.slice(0,c);return this.head.data=d.slice(c),p}return c===d.length?this.shift():h?this._getString(c):this._getBuffer(c)}first(){return this.head.data}*[r](){for(let c=this.head;c;c=c.next)yield c.data}_getString(c){let h="",d=this.head,p=0;do{let m=d.data;if(c>m.length)h+=m,c-=m.length;else{c===m.length?(h+=m,++p,d.next?this.head=d.next:this.head=this.tail=null):(h+=n(m,0,c),this.head=d,d.data=n(m,c));break}++p}while((d=d.next)!==null);return this.length-=p,h}_getBuffer(c){let h=a.allocUnsafe(c),d=c,p=this.head,m=0;do{let g=p.data;if(c>g.length)s(h,g,d-c),c-=g.length;else{c===g.length?(s(h,g,d-c),++m,p.next?this.head=p.next:this.head=this.tail=null):(s(h,new o(g.buffer,g.byteOffset,c),d-c),this.head=p,p.data=g.slice(c));break}++m}while((p=p.next)!==null);return this.length-=m,h}[Symbol.for("nodejs.util.inspect.custom")](c,h){return u(this,{...h,depth:0,customInspect:!1})}}}),Zc=Oe((e,t)=>{Pe(),Ce(),Te();var{MathFloor:n,NumberIsInteger:r}=Ut(),{validateInteger:s}=vl(),{ERR_INVALID_ARG_VALUE:o}=xn().codes,a=16*1024,u=16;function c(m,g,w){return m.highWaterMark!=null?m.highWaterMark:g?m[w]:null}function h(m){return m?u:a}function d(m,g){s(g,"value",0),m?u=g:a=g}function p(m,g,w,x){let P=c(g,x,w);if(P!=null){if(!r(P)||P<0){let A=x?`options.${w}`:"options.highWaterMark";throw new o(A,P)}return n(P)}return h(m.objectMode)}t.exports={getHighWaterMark:p,getDefaultHighWaterMark:h,setDefaultHighWaterMark:d}}),YM=Oe((e,t)=>{Pe(),Ce(),Te();var n=(sn(),wt(on)),r=n.Buffer;function s(a,u){for(var c in a)u[c]=a[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o);function o(a,u,c){return r(a,u,c)}o.prototype=Object.create(r.prototype),s(r,o),o.from=function(a,u,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,u,c)},o.alloc=function(a,u,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=r(a);return u!==void 0?typeof c=="string"?h.fill(u,c):h.fill(u):h.fill(0),h},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}}),QM=Oe(e=>{Pe(),Ce(),Te();var t=YM().Buffer,n=t.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var S;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(S)return;y=(""+y).toLowerCase(),S=!0}}function s(y){var S=r(y);if(typeof S!="string"&&(t.isEncoding===n||!n(y)))throw new Error("Unknown encoding: "+y);return S||y}e.StringDecoder=o;function o(y){this.encoding=s(y);var S;switch(this.encoding){case"utf16le":this.text=m,this.end=g,S=4;break;case"utf8":this.fillLast=h,S=4;break;case"base64":this.text=w,this.end=x,S=3;break;default:this.write=P,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(S)}o.prototype.write=function(y){if(y.length===0)return"";var S,I;if(this.lastNeed){if(S=this.fillLast(y),S===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<y.length?S?S+this.text(y,I):this.text(y,I):S||""},o.prototype.end=p,o.prototype.text=d,o.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function a(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function u(y,S,I){var R=S.length-1;if(R<I)return 0;var T=a(S[R]);return T>=0?(T>0&&(y.lastNeed=T-1),T):--R<I||T===-2?0:(T=a(S[R]),T>=0?(T>0&&(y.lastNeed=T-2),T):--R<I||T===-2?0:(T=a(S[R]),T>=0?(T>0&&(T===2?T=0:y.lastNeed=T-3),T):0))}function c(y,S,I){if((S[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return y.lastNeed=2,"�"}}function h(y){var S=this.lastTotal-this.lastNeed,I=c(this,y);if(I!==void 0)return I;if(this.lastNeed<=y.length)return y.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,S,0,y.length),this.lastNeed-=y.length}function d(y,S){var I=u(this,y,S);if(!this.lastNeed)return y.toString("utf8",S);this.lastTotal=I;var R=y.length-(I-this.lastNeed);return y.copy(this.lastChar,0,R),y.toString("utf8",S,R)}function p(y){var S=y&&y.length?this.write(y):"";return this.lastNeed?S+"�":S}function m(y,S){if((y.length-S)%2===0){var I=y.toString("utf16le",S);if(I){var R=I.charCodeAt(I.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",S,y.length-1)}function g(y){var S=y&&y.length?this.write(y):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,I)}return S}function w(y,S){var I=(y.length-S)%3;return I===0?y.toString("base64",S):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",S,y.length-I))}function x(y){var S=y&&y.length?this.write(y):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function P(y){return y.toString(this.encoding)}function A(y){return y&&y.length?this.write(y):""}}),i1=Oe((e,t)=>{Pe(),Ce(),Te();var n=Go(),{PromisePrototypeThen:r,SymbolAsyncIterator:s,SymbolIterator:o}=Ut(),{Buffer:a}=(sn(),wt(on)),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:c}=xn().codes;function h(d,p,m){let g;if(typeof p=="string"||p instanceof a)return new d({objectMode:!0,...m,read(){this.push(p),this.push(null)}});let w;if(p&&p[s])w=!0,g=p[s]();else if(p&&p[o])w=!1,g=p[o]();else throw new u("iterable",["Iterable"],p);let x=new d({objectMode:!0,highWaterMark:1,...m}),P=!1;x._read=function(){P||(P=!0,y())},x._destroy=function(S,I){r(A(S),()=>n.nextTick(I,S),R=>n.nextTick(I,R||S))};async function A(S){let I=S!=null,R=typeof g.throw=="function";if(I&&R){let{value:T,done:C}=await g.throw(S);if(await T,C)return}if(typeof g.return=="function"){let{value:T}=await g.return();await T}}async function y(){for(;;){try{let{value:S,done:I}=w?await g.next():g.next();if(I)x.push(null);else{let R=S&&typeof S.then=="function"?await S:S;if(R===null)throw P=!1,new c;if(x.push(R))continue;P=!1}}catch(S){x.destroy(S)}break}}return x}t.exports=h}),qc=Oe((e,t)=>{Pe(),Ce(),Te();var n=Go(),{ArrayPrototypeIndexOf:r,NumberIsInteger:s,NumberIsNaN:o,NumberParseInt:a,ObjectDefineProperties:u,ObjectKeys:c,ObjectSetPrototypeOf:h,Promise:d,SafeSet:p,SymbolAsyncDispose:m,SymbolAsyncIterator:g,Symbol:w}=Ut();t.exports=me,me.ReadableState=Ne;var{EventEmitter:x}=(Ho(),wt(ro)),{Stream:P,prependListener:A}=Jm(),{Buffer:y}=(sn(),wt(on)),{addAbortSignal:S}=Gc(),I=io(),R=Rn().debuglog("stream",B=>{R=B}),T=KM(),C=qs(),{getHighWaterMark:N,getDefaultHighWaterMark:te}=Zc(),{aggregateTwoErrors:ie,codes:{ERR_INVALID_ARG_TYPE:he,ERR_METHOD_NOT_IMPLEMENTED:U,ERR_OUT_OF_RANGE:se,ERR_STREAM_PUSH_AFTER_EOF:ue,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:X},AbortError:Ee}=xn(),{validateObject:ke}=vl(),K=w("kPaused"),{StringDecoder:ye}=QM(),$=i1();h(me.prototype,P.prototype),h(me,P);var ce=()=>{},{errorOrDestroy:j}=C,fe=1,ge=2,V=4,xe=8,J=16,G=32,pe=64,ee=128,ne=256,re=512,we=1024,be=2048,H=4096,Y=8192,le=16384,_e=32768,ve=65536,Ae=1<<17,Q=1<<18;function Se(B){return{enumerable:!1,get(){return(this.state&B)!==0},set(W){W?this.state|=B:this.state&=~B}}}u(Ne.prototype,{objectMode:Se(fe),ended:Se(ge),endEmitted:Se(V),reading:Se(xe),constructed:Se(J),sync:Se(G),needReadable:Se(pe),emittedReadable:Se(ee),readableListening:Se(ne),resumeScheduled:Se(re),errorEmitted:Se(we),emitClose:Se(be),autoDestroy:Se(H),destroyed:Se(Y),closed:Se(le),closeEmitted:Se(_e),multiAwaitDrain:Se(ve),readingMore:Se(Ae),dataEmitted:Se(Q)});function Ne(B,W,Le){typeof Le!="boolean"&&(Le=W instanceof yi()),this.state=be|H|J|G,B&&B.objectMode&&(this.state|=fe),Le&&B&&B.readableObjectMode&&(this.state|=fe),this.highWaterMark=B?N(this,B,"readableHighWaterMark",Le):te(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this[K]=null,B&&B.emitClose===!1&&(this.state&=~be),B&&B.autoDestroy===!1&&(this.state&=~H),this.errored=null,this.defaultEncoding=B&&B.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,B&&B.encoding&&(this.decoder=new ye(B.encoding),this.encoding=B.encoding)}function me(B){if(!(this instanceof me))return new me(B);let W=this instanceof yi();this._readableState=new Ne(B,this,W),B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.construct=="function"&&(this._construct=B.construct),B.signal&&!W&&S(B.signal,this)),P.call(this,B),C.construct(this,()=>{this._readableState.needReadable&&Be(this,this._readableState)})}me.prototype.destroy=C.destroy,me.prototype._undestroy=C.undestroy,me.prototype._destroy=function(B,W){W(B)},me.prototype[x.captureRejectionSymbol]=function(B){this.destroy(B)},me.prototype[m]=function(){let B;return this.destroyed||(B=this.readableEnded?null:new Ee,this.destroy(B)),new d((W,Le)=>I(this,ze=>ze&&ze!==B?Le(ze):W(null)))},me.prototype.push=function(B,W){return Xe(this,B,W,!1)},me.prototype.unshift=function(B,W){return Xe(this,B,W,!0)};function Xe(B,W,Le,ze){R("readableAddChunk",W);let Ge=B._readableState,Et;if(!(Ge.state&fe)&&(typeof W=="string"?(Le=Le||Ge.defaultEncoding,Ge.encoding!==Le&&(ze&&Ge.encoding?W=y.from(W,Le).toString(Ge.encoding):(W=y.from(W,Le),Le=""))):W instanceof y?Le="":P._isUint8Array(W)?(W=P._uint8ArrayToBuffer(W),Le=""):W!=null&&(Et=new he("chunk",["string","Buffer","Uint8Array"],W))),Et)j(B,Et);else if(W===null)Ge.state&=~xe,z(B,Ge);else if(Ge.state&fe||W&&W.length>0)if(ze)if(Ge.state&V)j(B,new X);else{if(Ge.destroyed||Ge.errored)return!1;v(B,Ge,W,!0)}else if(Ge.ended)j(B,new ue);else{if(Ge.destroyed||Ge.errored)return!1;Ge.state&=~xe,Ge.decoder&&!Le?(W=Ge.decoder.write(W),Ge.objectMode||W.length!==0?v(B,Ge,W,!1):Be(B,Ge)):v(B,Ge,W,!1)}else ze||(Ge.state&=~xe,Be(B,Ge));return!Ge.ended&&(Ge.length<Ge.highWaterMark||Ge.length===0)}function v(B,W,Le,ze){W.flowing&&W.length===0&&!W.sync&&B.listenerCount("data")>0?(W.state&ve?W.awaitDrainWriters.clear():W.awaitDrainWriters=null,W.dataEmitted=!0,B.emit("data",Le)):(W.length+=W.objectMode?1:Le.length,ze?W.buffer.unshift(Le):W.buffer.push(Le),W.state&pe&&q(B)),Be(B,W)}me.prototype.isPaused=function(){let B=this._readableState;return B[K]===!0||B.flowing===!1},me.prototype.setEncoding=function(B){let W=new ye(B);this._readableState.decoder=W,this._readableState.encoding=this._readableState.decoder.encoding;let Le=this._readableState.buffer,ze="";for(let Ge of Le)ze+=W.write(Ge);return Le.clear(),ze!==""&&Le.push(ze),this._readableState.length=ze.length,this};var b=1073741824;function E(B){if(B>b)throw new se("size","<= 1GiB",B);return B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++,B}function O(B,W){return B<=0||W.length===0&&W.ended?0:W.state&fe?1:o(B)?W.flowing&&W.length?W.buffer.first().length:W.length:B<=W.length?B:W.ended?W.length:0}me.prototype.read=function(B){R("read",B),B===void 0?B=NaN:s(B)||(B=a(B,10));let W=this._readableState,Le=B;if(B>W.highWaterMark&&(W.highWaterMark=E(B)),B!==0&&(W.state&=~ee),B===0&&W.needReadable&&((W.highWaterMark!==0?W.length>=W.highWaterMark:W.length>0)||W.ended))return R("read: emitReadable",W.length,W.ended),W.length===0&&W.ended?vt(this):q(this),null;if(B=O(B,W),B===0&&W.ended)return W.length===0&&vt(this),null;let ze=(W.state&pe)!==0;if(R("need readable",ze),(W.length===0||W.length-B<W.highWaterMark)&&(ze=!0,R("length less than watermark",ze)),W.ended||W.reading||W.destroyed||W.errored||!W.constructed)ze=!1,R("reading, ended or constructing",ze);else if(ze){R("do read"),W.state|=xe|G,W.length===0&&(W.state|=pe);try{this._read(W.highWaterMark)}catch(Et){j(this,Et)}W.state&=~G,W.reading||(B=O(Le,W))}let Ge;return B>0?Ge=Je(B,W):Ge=null,Ge===null?(W.needReadable=W.length<=W.highWaterMark,B=0):(W.length-=B,W.multiAwaitDrain?W.awaitDrainWriters.clear():W.awaitDrainWriters=null),W.length===0&&(W.ended||(W.needReadable=!0),Le!==B&&W.ended&&vt(this)),Ge!==null&&!W.errorEmitted&&!W.closeEmitted&&(W.dataEmitted=!0,this.emit("data",Ge)),Ge};function z(B,W){if(R("onEofChunk"),!W.ended){if(W.decoder){let Le=W.decoder.end();Le&&Le.length&&(W.buffer.push(Le),W.length+=W.objectMode?1:Le.length)}W.ended=!0,W.sync?q(B):(W.needReadable=!1,W.emittedReadable=!0,oe(B))}}function q(B){let W=B._readableState;R("emitReadable",W.needReadable,W.emittedReadable),W.needReadable=!1,W.emittedReadable||(R("emitReadable",W.flowing),W.emittedReadable=!0,n.nextTick(oe,B))}function oe(B){let W=B._readableState;R("emitReadable_",W.destroyed,W.length,W.ended),!W.destroyed&&!W.errored&&(W.length||W.ended)&&(B.emit("readable"),W.emittedReadable=!1),W.needReadable=!W.flowing&&!W.ended&&W.length<=W.highWaterMark,pn(B)}function Be(B,W){!W.readingMore&&W.constructed&&(W.readingMore=!0,n.nextTick(je,B,W))}function je(B,W){for(;!W.reading&&!W.ended&&(W.length<W.highWaterMark||W.flowing&&W.length===0);){let Le=W.length;if(R("maybeReadMore read 0"),B.read(0),Le===W.length)break}W.readingMore=!1}me.prototype._read=function(B){throw new U("_read()")},me.prototype.pipe=function(B,W){let Le=this,ze=this._readableState;ze.pipes.length===1&&(ze.multiAwaitDrain||(ze.multiAwaitDrain=!0,ze.awaitDrainWriters=new p(ze.awaitDrainWriters?[ze.awaitDrainWriters]:[]))),ze.pipes.push(B),R("pipe count=%d opts=%j",ze.pipes.length,W);let Ge=(!W||W.end!==!1)&&B!==n.stdout&&B!==n.stderr?$e:oo;ze.endEmitted?n.nextTick(Ge):Le.once("end",Ge),B.on("unpipe",Et);function Et(Zr,sr){R("onunpipe"),Zr===Le&&sr&&sr.hasUnpiped===!1&&(sr.hasUnpiped=!0,yl())}function $e(){R("onend"),B.end()}let Pr,Ys=!1;function yl(){R("cleanup"),B.removeListener("close",Tr),B.removeListener("finish",Yo),Pr&&B.removeListener("drain",Pr),B.removeListener("error",Ko),B.removeListener("unpipe",Et),Le.removeListener("end",$e),Le.removeListener("end",oo),Le.removeListener("data",qo),Ys=!0,Pr&&ze.awaitDrainWriters&&(!B._writableState||B._writableState.needDrain)&&Pr()}function Qs(){Ys||(ze.pipes.length===1&&ze.pipes[0]===B?(R("false write response, pause",0),ze.awaitDrainWriters=B,ze.multiAwaitDrain=!1):ze.pipes.length>1&&ze.pipes.includes(B)&&(R("false write response, pause",ze.awaitDrainWriters.size),ze.awaitDrainWriters.add(B)),Le.pause()),Pr||(Pr=qe(Le,B),B.on("drain",Pr))}Le.on("data",qo);function qo(Zr){R("ondata");let sr=B.write(Zr);R("dest.write",sr),sr===!1&&Qs()}function Ko(Zr){if(R("onerror",Zr),oo(),B.removeListener("error",Ko),B.listenerCount("error")===0){let sr=B._writableState||B._readableState;sr&&!sr.errorEmitted?j(B,Zr):B.emit("error",Zr)}}A(B,"error",Ko);function Tr(){B.removeListener("finish",Yo),oo()}B.once("close",Tr);function Yo(){R("onfinish"),B.removeListener("close",Tr),oo()}B.once("finish",Yo);function oo(){R("unpipe"),Le.unpipe(B)}return B.emit("pipe",Le),B.writableNeedDrain===!0?Qs():ze.flowing||(R("pipe resume"),Le.resume()),B};function qe(B,W){return function(){let Le=B._readableState;Le.awaitDrainWriters===W?(R("pipeOnDrain",1),Le.awaitDrainWriters=null):Le.multiAwaitDrain&&(R("pipeOnDrain",Le.awaitDrainWriters.size),Le.awaitDrainWriters.delete(W)),(!Le.awaitDrainWriters||Le.awaitDrainWriters.size===0)&&B.listenerCount("data")&&B.resume()}}me.prototype.unpipe=function(B){let W=this._readableState,Le={hasUnpiped:!1};if(W.pipes.length===0)return this;if(!B){let Ge=W.pipes;W.pipes=[],this.pause();for(let Et=0;Et<Ge.length;Et++)Ge[Et].emit("unpipe",this,{hasUnpiped:!1});return this}let ze=r(W.pipes,B);return ze===-1?this:(W.pipes.splice(ze,1),W.pipes.length===0&&this.pause(),B.emit("unpipe",this,Le),this)},me.prototype.on=function(B,W){let Le=P.prototype.on.call(this,B,W),ze=this._readableState;return B==="data"?(ze.readableListening=this.listenerCount("readable")>0,ze.flowing!==!1&&this.resume()):B==="readable"&&!ze.endEmitted&&!ze.readableListening&&(ze.readableListening=ze.needReadable=!0,ze.flowing=!1,ze.emittedReadable=!1,R("on readable",ze.length,ze.reading),ze.length?q(this):ze.reading||n.nextTick(Ke,this)),Le},me.prototype.addListener=me.prototype.on,me.prototype.removeListener=function(B,W){let Le=P.prototype.removeListener.call(this,B,W);return B==="readable"&&n.nextTick(nt,this),Le},me.prototype.off=me.prototype.removeListener,me.prototype.removeAllListeners=function(B){let W=P.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&n.nextTick(nt,this),W};function nt(B){let W=B._readableState;W.readableListening=B.listenerCount("readable")>0,W.resumeScheduled&&W[K]===!1?W.flowing=!0:B.listenerCount("data")>0?B.resume():W.readableListening||(W.flowing=null)}function Ke(B){R("readable nexttick read 0"),B.read(0)}me.prototype.resume=function(){let B=this._readableState;return B.flowing||(R("resume"),B.flowing=!B.readableListening,Vn(this,B)),B[K]=!1,this};function Vn(B,W){W.resumeScheduled||(W.resumeScheduled=!0,n.nextTick(dn,B,W))}function dn(B,W){R("resume",W.reading),W.reading||B.read(0),W.resumeScheduled=!1,B.emit("resume"),pn(B),W.flowing&&!W.reading&&B.read(0)}me.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[K]=!0,this};function pn(B){let W=B._readableState;for(R("flow",W.flowing);W.flowing&&B.read()!==null;);}me.prototype.wrap=function(B){let W=!1;B.on("data",ze=>{!this.push(ze)&&B.pause&&(W=!0,B.pause())}),B.on("end",()=>{this.push(null)}),B.on("error",ze=>{j(this,ze)}),B.on("close",()=>{this.destroy()}),B.on("destroy",()=>{this.destroy()}),this._read=()=>{W&&B.resume&&(W=!1,B.resume())};let Le=c(B);for(let ze=1;ze<Le.length;ze++){let Ge=Le[ze];this[Ge]===void 0&&typeof B[Ge]=="function"&&(this[Ge]=B[Ge].bind(B))}return this},me.prototype[g]=function(){return St(this)},me.prototype.iterator=function(B){return B!==void 0&&ke(B,"options"),St(this,B)};function St(B,W){typeof B.read!="function"&&(B=me.wrap(B,{objectMode:!0}));let Le=Vt(B,W);return Le.stream=B,Le}async function*Vt(B,W){let Le=ce;function ze($e){this===B?(Le(),Le=ce):Le=$e}B.on("readable",ze);let Ge,Et=I(B,{writable:!1},$e=>{Ge=$e?ie(Ge,$e):null,Le(),Le=ce});try{for(;;){let $e=B.destroyed?null:B.read();if($e!==null)yield $e;else{if(Ge)throw Ge;if(Ge===null)return;await new d(ze)}}}catch($e){throw Ge=ie(Ge,$e),Ge}finally{(Ge||(W==null?void 0:W.destroyOnReturn)!==!1)&&(Ge===void 0||B._readableState.autoDestroy)?C.destroyer(B,null):(B.off("readable",ze),Et())}}u(me.prototype,{readable:{__proto__:null,get(){let B=this._readableState;return!!B&&B.readable!==!1&&!B.destroyed&&!B.errorEmitted&&!B.endEmitted},set(B){this._readableState&&(this._readableState.readable=!!B)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(B){this._readableState&&(this._readableState.destroyed=B)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),u(Ne.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[K]!==!1},set(B){this[K]=!!B}}}),me._fromList=Je;function Je(B,W){if(W.length===0)return null;let Le;return W.objectMode?Le=W.buffer.shift():!B||B>=W.length?(W.decoder?Le=W.buffer.join(""):W.buffer.length===1?Le=W.buffer.first():Le=W.buffer.concat(W.length),W.buffer.clear()):Le=W.buffer.consume(B,W.decoder),Le}function vt(B){let W=B._readableState;R("endReadable",W.endEmitted),W.endEmitted||(W.ended=!0,n.nextTick(Jt,W,B))}function Jt(B,W){if(R("endReadableNT",B.endEmitted,B.length),!B.errored&&!B.closeEmitted&&!B.endEmitted&&B.length===0){if(B.endEmitted=!0,W.emit("end"),W.writable&&W.allowHalfOpen===!1)n.nextTick(Ht,W);else if(B.autoDestroy){let Le=W._writableState;(!Le||Le.autoDestroy&&(Le.finished||Le.writable===!1))&&W.destroy()}}}function Ht(B){B.writable&&!B.writableEnded&&!B.destroyed&&B.end()}me.from=function(B,W){return $(me,B,W)};var an;function xr(){return an===void 0&&(an={}),an}me.fromWeb=function(B,W){return xr().newStreamReadableFromReadableStream(B,W)},me.toWeb=function(B,W){return xr().newReadableStreamFromStreamReadable(B,W)},me.wrap=function(B,W){var Le,ze;return new me({objectMode:(Le=(ze=B.readableObjectMode)!==null&&ze!==void 0?ze:B.objectMode)!==null&&Le!==void 0?Le:!0,...W,destroy(Ge,Et){C.destroyer(B,Ge),Et(Ge)}}).wrap(B)}}),eg=Oe((e,t)=>{Pe(),Ce(),Te();var n=Go(),{ArrayPrototypeSlice:r,Error:s,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:a,ObjectDefineProperties:u,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:h,Symbol:d,SymbolHasInstance:p}=Ut();t.exports=ke,ke.WritableState=X;var{EventEmitter:m}=(Ho(),wt(ro)),g=Jm().Stream,{Buffer:w}=(sn(),wt(on)),x=qs(),{addAbortSignal:P}=Gc(),{getHighWaterMark:A,getDefaultHighWaterMark:y}=Zc(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:R,ERR_STREAM_CANNOT_PIPE:T,ERR_STREAM_DESTROYED:C,ERR_STREAM_ALREADY_FINISHED:N,ERR_STREAM_NULL_VALUES:te,ERR_STREAM_WRITE_AFTER_END:ie,ERR_UNKNOWN_ENCODING:he}=xn().codes,{errorOrDestroy:U}=x;c(ke.prototype,g.prototype),c(ke,g);function se(){}var ue=d("kOnFinished");function X(H,Y,le){typeof le!="boolean"&&(le=Y instanceof yi()),this.objectMode=!!(H&&H.objectMode),le&&(this.objectMode=this.objectMode||!!(H&&H.writableObjectMode)),this.highWaterMark=H?A(this,H,"writableHighWaterMark",le):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let _e=!!(H&&H.decodeStrings===!1);this.decodeStrings=!_e,this.defaultEncoding=H&&H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,Y),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,Ee(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!H||H.emitClose!==!1,this.autoDestroy=!H||H.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ue]=[]}function Ee(H){H.buffered=[],H.bufferedIndex=0,H.allBuffers=!0,H.allNoop=!0}X.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},a(X.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ke(H){let Y=this instanceof yi();if(!Y&&!o(ke,this))return new ke(H);this._writableState=new X(H,this,Y),H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final),typeof H.construct=="function"&&(this._construct=H.construct),H.signal&&P(H.signal,this)),g.call(this,H),x.construct(this,()=>{let le=this._writableState;le.writing||xe(this,le),ee(this,le)})}a(ke,p,{__proto__:null,value:function(H){return o(this,H)?!0:this!==ke?!1:H&&H._writableState instanceof X}}),ke.prototype.pipe=function(){U(this,new T)};function K(H,Y,le,_e){let ve=H._writableState;if(typeof le=="function")_e=le,le=ve.defaultEncoding;else{if(!le)le=ve.defaultEncoding;else if(le!=="buffer"&&!w.isEncoding(le))throw new he(le);typeof _e!="function"&&(_e=se)}if(Y===null)throw new te;if(!ve.objectMode)if(typeof Y=="string")ve.decodeStrings!==!1&&(Y=w.from(Y,le),le="buffer");else if(Y instanceof w)le="buffer";else if(g._isUint8Array(Y))Y=g._uint8ArrayToBuffer(Y),le="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],Y);let Ae;return ve.ending?Ae=new ie:ve.destroyed&&(Ae=new C("write")),Ae?(n.nextTick(_e,Ae),U(H,Ae,!0),Ae):(ve.pendingcb++,ye(H,ve,Y,le,_e))}ke.prototype.write=function(H,Y,le){return K(this,H,Y,le)===!0},ke.prototype.cork=function(){this._writableState.corked++},ke.prototype.uncork=function(){let H=this._writableState;H.corked&&(H.corked--,H.writing||xe(this,H))},ke.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=h(H)),!w.isEncoding(H))throw new he(H);return this._writableState.defaultEncoding=H,this};function ye(H,Y,le,_e,ve){let Ae=Y.objectMode?1:le.length;Y.length+=Ae;let Q=Y.length<Y.highWaterMark;return Q||(Y.needDrain=!0),Y.writing||Y.corked||Y.errored||!Y.constructed?(Y.buffered.push({chunk:le,encoding:_e,callback:ve}),Y.allBuffers&&_e!=="buffer"&&(Y.allBuffers=!1),Y.allNoop&&ve!==se&&(Y.allNoop=!1)):(Y.writelen=Ae,Y.writecb=ve,Y.writing=!0,Y.sync=!0,H._write(le,_e,Y.onwrite),Y.sync=!1),Q&&!Y.errored&&!Y.destroyed}function $(H,Y,le,_e,ve,Ae,Q){Y.writelen=_e,Y.writecb=Q,Y.writing=!0,Y.sync=!0,Y.destroyed?Y.onwrite(new C("write")):le?H._writev(ve,Y.onwrite):H._write(ve,Ae,Y.onwrite),Y.sync=!1}function ce(H,Y,le,_e){--Y.pendingcb,_e(le),V(Y),U(H,le)}function j(H,Y){let le=H._writableState,_e=le.sync,ve=le.writecb;if(typeof ve!="function"){U(H,new R);return}le.writing=!1,le.writecb=null,le.length-=le.writelen,le.writelen=0,Y?(Y.stack,le.errored||(le.errored=Y),H._readableState&&!H._readableState.errored&&(H._readableState.errored=Y),_e?n.nextTick(ce,H,le,Y,ve):ce(H,le,Y,ve)):(le.buffered.length>le.bufferedIndex&&xe(H,le),_e?le.afterWriteTickInfo!==null&&le.afterWriteTickInfo.cb===ve?le.afterWriteTickInfo.count++:(le.afterWriteTickInfo={count:1,cb:ve,stream:H,state:le},n.nextTick(fe,le.afterWriteTickInfo)):ge(H,le,1,ve))}function fe({stream:H,state:Y,count:le,cb:_e}){return Y.afterWriteTickInfo=null,ge(H,Y,le,_e)}function ge(H,Y,le,_e){for(!Y.ending&&!H.destroyed&&Y.length===0&&Y.needDrain&&(Y.needDrain=!1,H.emit("drain"));le-- >0;)Y.pendingcb--,_e();Y.destroyed&&V(Y),ee(H,Y)}function V(H){if(H.writing)return;for(let ve=H.bufferedIndex;ve<H.buffered.length;++ve){var Y;let{chunk:Ae,callback:Q}=H.buffered[ve],Se=H.objectMode?1:Ae.length;H.length-=Se,Q((Y=H.errored)!==null&&Y!==void 0?Y:new C("write"))}let le=H[ue].splice(0);for(let ve=0;ve<le.length;ve++){var _e;le[ve]((_e=H.errored)!==null&&_e!==void 0?_e:new C("end"))}Ee(H)}function xe(H,Y){if(Y.corked||Y.bufferProcessing||Y.destroyed||!Y.constructed)return;let{buffered:le,bufferedIndex:_e,objectMode:ve}=Y,Ae=le.length-_e;if(!Ae)return;let Q=_e;if(Y.bufferProcessing=!0,Ae>1&&H._writev){Y.pendingcb-=Ae-1;let Se=Y.allNoop?se:me=>{for(let Xe=Q;Xe<le.length;++Xe)le[Xe].callback(me)},Ne=Y.allNoop&&Q===0?le:r(le,Q);Ne.allBuffers=Y.allBuffers,$(H,Y,!0,Y.length,Ne,"",Se),Ee(Y)}else{do{let{chunk:Se,encoding:Ne,callback:me}=le[Q];le[Q++]=null;let Xe=ve?1:Se.length;$(H,Y,!1,Xe,Se,Ne,me)}while(Q<le.length&&!Y.writing);Q===le.length?Ee(Y):Q>256?(le.splice(0,Q),Y.bufferedIndex=0):Y.bufferedIndex=Q}Y.bufferProcessing=!1}ke.prototype._write=function(H,Y,le){if(this._writev)this._writev([{chunk:H,encoding:Y}],le);else throw new I("_write()")},ke.prototype._writev=null,ke.prototype.end=function(H,Y,le){let _e=this._writableState;typeof H=="function"?(le=H,H=null,Y=null):typeof Y=="function"&&(le=Y,Y=null);let ve;if(H!=null){let Ae=K(this,H,Y);Ae instanceof s&&(ve=Ae)}return _e.corked&&(_e.corked=1,this.uncork()),ve||(!_e.errored&&!_e.ending?(_e.ending=!0,ee(this,_e,!0),_e.ended=!0):_e.finished?ve=new N("end"):_e.destroyed&&(ve=new C("end"))),typeof le=="function"&&(ve||_e.finished?n.nextTick(le,ve):_e[ue].push(le)),this};function J(H){return H.ending&&!H.destroyed&&H.constructed&&H.length===0&&!H.errored&&H.buffered.length===0&&!H.finished&&!H.writing&&!H.errorEmitted&&!H.closeEmitted}function G(H,Y){let le=!1;function _e(ve){if(le){U(H,ve??R());return}if(le=!0,Y.pendingcb--,ve){let Ae=Y[ue].splice(0);for(let Q=0;Q<Ae.length;Q++)Ae[Q](ve);U(H,ve,Y.sync)}else J(Y)&&(Y.prefinished=!0,H.emit("prefinish"),Y.pendingcb++,n.nextTick(ne,H,Y))}Y.sync=!0,Y.pendingcb++;try{H._final(_e)}catch(ve){_e(ve)}Y.sync=!1}function pe(H,Y){!Y.prefinished&&!Y.finalCalled&&(typeof H._final=="function"&&!Y.destroyed?(Y.finalCalled=!0,G(H,Y)):(Y.prefinished=!0,H.emit("prefinish")))}function ee(H,Y,le){J(Y)&&(pe(H,Y),Y.pendingcb===0&&(le?(Y.pendingcb++,n.nextTick((_e,ve)=>{J(ve)?ne(_e,ve):ve.pendingcb--},H,Y)):J(Y)&&(Y.pendingcb++,ne(H,Y))))}function ne(H,Y){Y.pendingcb--,Y.finished=!0;let le=Y[ue].splice(0);for(let _e=0;_e<le.length;_e++)le[_e]();if(H.emit("finish"),Y.autoDestroy){let _e=H._readableState;(!_e||_e.autoDestroy&&(_e.endEmitted||_e.readable===!1))&&H.destroy()}}u(ke.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(H){this._writableState&&(this._writableState.destroyed=H)}},writable:{__proto__:null,get(){let H=this._writableState;return!!H&&H.writable!==!1&&!H.destroyed&&!H.errored&&!H.ending&&!H.ended},set(H){this._writableState&&(this._writableState.writable=!!H)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let H=this._writableState;return H?!H.destroyed&&!H.ending&&H.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var re=x.destroy;ke.prototype.destroy=function(H,Y){let le=this._writableState;return!le.destroyed&&(le.bufferedIndex<le.buffered.length||le[ue].length)&&n.nextTick(V,le),re.call(this,H,Y),this},ke.prototype._undestroy=x.undestroy,ke.prototype._destroy=function(H,Y){Y(H)},ke.prototype[m.captureRejectionSymbol]=function(H){this.destroy(H)};var we;function be(){return we===void 0&&(we={}),we}ke.fromWeb=function(H,Y){return be().newStreamWritableFromWritableStream(H,Y)},ke.toWeb=function(H){return be().newWritableStreamFromStreamWritable(H)}}),XM=Oe((e,t)=>{Pe(),Ce(),Te();var n=Go(),r=(sn(),wt(on)),{isReadable:s,isWritable:o,isIterable:a,isNodeStream:u,isReadableNodeStream:c,isWritableNodeStream:h,isDuplexNodeStream:d,isReadableStream:p,isWritableStream:m}=Si(),g=io(),{AbortError:w,codes:{ERR_INVALID_ARG_TYPE:x,ERR_INVALID_RETURN_VALUE:P}}=xn(),{destroyer:A}=qs(),y=yi(),S=qc(),I=eg(),{createDeferredPromise:R}=Rn(),T=i1(),C=globalThis.Blob||r.Blob,N=typeof C<"u"?function(ue){return ue instanceof C}:function(ue){return!1},te=globalThis.AbortController||ol().AbortController,{FunctionPrototypeCall:ie}=Ut(),he=class extends y{constructor(ue){super(ue),(ue==null?void 0:ue.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ue==null?void 0:ue.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function ue(X,Ee){if(d(X))return X;if(c(X))return se({readable:X});if(h(X))return se({writable:X});if(u(X))return se({writable:!1,readable:!1});if(p(X))return se({readable:S.fromWeb(X)});if(m(X))return se({writable:I.fromWeb(X)});if(typeof X=="function"){let{value:K,write:ye,final:$,destroy:ce}=U(X);if(a(K))return T(he,K,{objectMode:!0,write:ye,final:$,destroy:ce});let j=K==null?void 0:K.then;if(typeof j=="function"){let fe,ge=ie(j,K,V=>{if(V!=null)throw new P("nully","body",V)},V=>{A(fe,V)});return fe=new he({objectMode:!0,readable:!1,write:ye,final(V){$(async()=>{try{await ge,n.nextTick(V,null)}catch(xe){n.nextTick(V,xe)}})},destroy:ce})}throw new P("Iterable, AsyncIterable or AsyncFunction",Ee,K)}if(N(X))return ue(X.arrayBuffer());if(a(X))return T(he,X,{objectMode:!0,writable:!1});if(p(X==null?void 0:X.readable)&&m(X==null?void 0:X.writable))return he.fromWeb(X);if(typeof(X==null?void 0:X.writable)=="object"||typeof(X==null?void 0:X.readable)=="object"){let K=X!=null&&X.readable?c(X==null?void 0:X.readable)?X==null?void 0:X.readable:ue(X.readable):void 0,ye=X!=null&&X.writable?h(X==null?void 0:X.writable)?X==null?void 0:X.writable:ue(X.writable):void 0;return se({readable:K,writable:ye})}let ke=X==null?void 0:X.then;if(typeof ke=="function"){let K;return ie(ke,X,ye=>{ye!=null&&K.push(ye),K.push(null)},ye=>{A(K,ye)}),K=new he({objectMode:!0,writable:!1,read(){}})}throw new x(Ee,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],X)};function U(ue){let{promise:X,resolve:Ee}=R(),ke=new te,K=ke.signal;return{value:ue(async function*(){for(;;){let ye=X;X=null;let{chunk:$,done:ce,cb:j}=await ye;if(n.nextTick(j),ce)return;if(K.aborted)throw new w(void 0,{cause:K.reason});({promise:X,resolve:Ee}=R()),yield $}}(),{signal:K}),write(ye,$,ce){let j=Ee;Ee=null,j({chunk:ye,done:!1,cb:ce})},final(ye){let $=Ee;Ee=null,$({done:!0,cb:ye})},destroy(ye,$){ke.abort(),$(ye)}}}function se(ue){let X=ue.readable&&typeof ue.readable.read!="function"?S.wrap(ue.readable):ue.readable,Ee=ue.writable,ke=!!s(X),K=!!o(Ee),ye,$,ce,j,fe;function ge(V){let xe=j;j=null,xe?xe(V):V&&fe.destroy(V)}return fe=new he({readableObjectMode:!!(X!=null&&X.readableObjectMode),writableObjectMode:!!(Ee!=null&&Ee.writableObjectMode),readable:ke,writable:K}),K&&(g(Ee,V=>{K=!1,V&&A(X,V),ge(V)}),fe._write=function(V,xe,J){Ee.write(V,xe)?J():ye=J},fe._final=function(V){Ee.end(),$=V},Ee.on("drain",function(){if(ye){let V=ye;ye=null,V()}}),Ee.on("finish",function(){if($){let V=$;$=null,V()}})),ke&&(g(X,V=>{ke=!1,V&&A(X,V),ge(V)}),X.on("readable",function(){if(ce){let V=ce;ce=null,V()}}),X.on("end",function(){fe.push(null)}),fe._read=function(){for(;;){let V=X.read();if(V===null){ce=fe._read;return}if(!fe.push(V))return}}),fe._destroy=function(V,xe){!V&&j!==null&&(V=new w),ce=null,ye=null,$=null,j===null?xe(V):(j=xe,A(Ee,V),A(X,V))},fe}}),yi=Oe((e,t)=>{Pe(),Ce(),Te();var{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:s,ObjectSetPrototypeOf:o}=Ut();t.exports=c;var a=qc(),u=eg();o(c.prototype,a.prototype),o(c,a);{let m=s(u.prototype);for(let g=0;g<m.length;g++){let w=m[g];c.prototype[w]||(c.prototype[w]=u.prototype[w])}}function c(m){if(!(this instanceof c))return new c(m);a.call(this,m),u.call(this,m),m?(this.allowHalfOpen=m.allowHalfOpen!==!1,m.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),m.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}n(c.prototype,{writable:{__proto__:null,...r(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(u.prototype,"writableLength")},writableFinished:{__proto__:null,...r(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(m){this._readableState&&this._writableState&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}});var h;function d(){return h===void 0&&(h={}),h}c.fromWeb=function(m,g){return d().newStreamDuplexFromReadableWritablePair(m,g)},c.toWeb=function(m){return d().newReadableWritablePairFromDuplex(m)};var p;c.from=function(m){return p||(p=XM()),p(m,"body")}}),o1=Oe((e,t)=>{Pe(),Ce(),Te();var{ObjectSetPrototypeOf:n,Symbol:r}=Ut();t.exports=c;var{ERR_METHOD_NOT_IMPLEMENTED:s}=xn().codes,o=yi(),{getHighWaterMark:a}=Zc();n(c.prototype,o.prototype),n(c,o);var u=r("kCallback");function c(p){if(!(this instanceof c))return new c(p);let m=p?a(this,p,"readableHighWaterMark",!0):null;m===0&&(p={...p,highWaterMark:null,readableHighWaterMark:m,writableHighWaterMark:p.writableHighWaterMark||0}),o.call(this,p),this._readableState.sync=!1,this[u]=null,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",d)}function h(p){typeof this._flush=="function"&&!this.destroyed?this._flush((m,g)=>{if(m){p?p(m):this.destroy(m);return}g!=null&&this.push(g),this.push(null),p&&p()}):(this.push(null),p&&p())}function d(){this._final!==h&&h.call(this)}c.prototype._final=h,c.prototype._transform=function(p,m,g){throw new s("_transform()")},c.prototype._write=function(p,m,g){let w=this._readableState,x=this._writableState,P=w.length;this._transform(p,m,(A,y)=>{if(A){g(A);return}y!=null&&this.push(y),x.ended||P===w.length||w.length<w.highWaterMark?g():this[u]=g})},c.prototype._read=function(){if(this[u]){let p=this[u];this[u]=null,p()}}}),s1=Oe((e,t)=>{Pe(),Ce(),Te();var{ObjectSetPrototypeOf:n}=Ut();t.exports=s;var r=o1();n(s.prototype,r.prototype),n(s,r);function s(o){if(!(this instanceof s))return new s(o);r.call(this,o)}s.prototype._transform=function(o,a,u){u(null,o)}}),tg=Oe((e,t)=>{Pe(),Ce(),Te();var n=Go(),{ArrayIsArray:r,Promise:s,SymbolAsyncIterator:o,SymbolDispose:a}=Ut(),u=io(),{once:c}=Rn(),h=qs(),d=yi(),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:w,ERR_STREAM_DESTROYED:x,ERR_STREAM_PREMATURE_CLOSE:P},AbortError:A}=xn(),{validateFunction:y,validateAbortSignal:S}=vl(),{isIterable:I,isReadable:R,isReadableNodeStream:T,isNodeStream:C,isTransformStream:N,isWebStream:te,isReadableStream:ie,isReadableFinished:he}=Si(),U=globalThis.AbortController||ol().AbortController,se,ue,X;function Ee(V,xe,J){let G=!1;V.on("close",()=>{G=!0});let pe=u(V,{readable:xe,writable:J},ee=>{G=!ee});return{destroy:ee=>{G||(G=!0,h.destroyer(V,ee||new x("pipe")))},cleanup:pe}}function ke(V){return y(V[V.length-1],"streams[stream.length - 1]"),V.pop()}function K(V){if(I(V))return V;if(T(V))return ye(V);throw new m("val",["Readable","Iterable","AsyncIterable"],V)}async function*ye(V){ue||(ue=qc()),yield*ue.prototype[o].call(V)}async function $(V,xe,J,{end:G}){let pe,ee=null,ne=be=>{if(be&&(pe=be),ee){let H=ee;ee=null,H()}},re=()=>new s((be,H)=>{pe?H(pe):ee=()=>{pe?H(pe):be()}});xe.on("drain",ne);let we=u(xe,{readable:!1},ne);try{xe.writableNeedDrain&&await re();for await(let be of V)xe.write(be)||await re();G&&(xe.end(),await re()),J()}catch(be){J(pe!==be?p(pe,be):be)}finally{we(),xe.off("drain",ne)}}async function ce(V,xe,J,{end:G}){N(xe)&&(xe=xe.writable);let pe=xe.getWriter();try{for await(let ee of V)await pe.ready,pe.write(ee).catch(()=>{});await pe.ready,G&&await pe.close(),J()}catch(ee){try{await pe.abort(ee),J(ee)}catch(ne){J(ne)}}}function j(...V){return fe(V,c(ke(V)))}function fe(V,xe,J){if(V.length===1&&r(V[0])&&(V=V[0]),V.length<2)throw new w("streams");let G=new U,pe=G.signal,ee=J==null?void 0:J.signal,ne=[];S(ee,"options.signal");function re(){ve(new A)}X=X||Rn().addAbortListener;let we;ee&&(we=X(ee,re));let be,H,Y=[],le=0;function _e(Ne){ve(Ne,--le===0)}function ve(Ne,me){var Xe;if(Ne&&(!be||be.code==="ERR_STREAM_PREMATURE_CLOSE")&&(be=Ne),!(!be&&!me)){for(;Y.length;)Y.shift()(be);(Xe=we)===null||Xe===void 0||Xe[a](),G.abort(),me&&(be||ne.forEach(v=>v()),n.nextTick(xe,be,H))}}let Ae;for(let Ne=0;Ne<V.length;Ne++){let me=V[Ne],Xe=Ne<V.length-1,v=Ne>0,b=Xe||(J==null?void 0:J.end)!==!1,E=Ne===V.length-1;if(C(me)){let O=function(z){z&&z.name!=="AbortError"&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"&&_e(z)};if(b){let{destroy:z,cleanup:q}=Ee(me,Xe,v);Y.push(z),R(me)&&E&&ne.push(q)}me.on("error",O),R(me)&&E&&ne.push(()=>{me.removeListener("error",O)})}if(Ne===0)if(typeof me=="function"){if(Ae=me({signal:pe}),!I(Ae))throw new g("Iterable, AsyncIterable or Stream","source",Ae)}else I(me)||T(me)||N(me)?Ae=me:Ae=d.from(me);else if(typeof me=="function"){if(N(Ae)){var Q;Ae=K((Q=Ae)===null||Q===void 0?void 0:Q.readable)}else Ae=K(Ae);if(Ae=me(Ae,{signal:pe}),Xe){if(!I(Ae,!0))throw new g("AsyncIterable",`transform[${Ne-1}]`,Ae)}else{var Se;se||(se=s1());let O=new se({objectMode:!0}),z=(Se=Ae)===null||Se===void 0?void 0:Se.then;if(typeof z=="function")le++,z.call(Ae,Be=>{H=Be,Be!=null&&O.write(Be),b&&O.end(),n.nextTick(_e)},Be=>{O.destroy(Be),n.nextTick(_e,Be)});else if(I(Ae,!0))le++,$(Ae,O,_e,{end:b});else if(ie(Ae)||N(Ae)){let Be=Ae.readable||Ae;le++,$(Be,O,_e,{end:b})}else throw new g("AsyncIterable or Promise","destination",Ae);Ae=O;let{destroy:q,cleanup:oe}=Ee(Ae,!1,!0);Y.push(q),E&&ne.push(oe)}}else if(C(me)){if(T(Ae)){le+=2;let O=ge(Ae,me,_e,{end:b});R(me)&&E&&ne.push(O)}else if(N(Ae)||ie(Ae)){let O=Ae.readable||Ae;le++,$(O,me,_e,{end:b})}else if(I(Ae))le++,$(Ae,me,_e,{end:b});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ae);Ae=me}else if(te(me)){if(T(Ae))le++,ce(K(Ae),me,_e,{end:b});else if(ie(Ae)||I(Ae))le++,ce(Ae,me,_e,{end:b});else if(N(Ae))le++,ce(Ae.readable,me,_e,{end:b});else throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ae);Ae=me}else Ae=d.from(me)}return(pe!=null&&pe.aborted||ee!=null&&ee.aborted)&&n.nextTick(re),Ae}function ge(V,xe,J,{end:G}){let pe=!1;if(xe.on("close",()=>{pe||J(new P)}),V.pipe(xe,{end:!1}),G){let ee=function(){pe=!0,xe.end()};he(V)?n.nextTick(ee):V.once("end",ee)}else J();return u(V,{readable:!0,writable:!1},ee=>{let ne=V._readableState;ee&&ee.code==="ERR_STREAM_PREMATURE_CLOSE"&&ne&&ne.ended&&!ne.errored&&!ne.errorEmitted?V.once("end",J).once("error",J):J(ee)}),u(xe,{readable:!1,writable:!0},J)}t.exports={pipelineImpl:fe,pipeline:j}}),a1=Oe((e,t)=>{Pe(),Ce(),Te();var{pipeline:n}=tg(),r=yi(),{destroyer:s}=qs(),{isNodeStream:o,isReadable:a,isWritable:u,isWebStream:c,isTransformStream:h,isWritableStream:d,isReadableStream:p}=Si(),{AbortError:m,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:w}}=xn(),x=io();t.exports=function(...P){if(P.length===0)throw new w("streams");if(P.length===1)return r.from(P[0]);let A=[...P];if(typeof P[0]=="function"&&(P[0]=r.from(P[0])),typeof P[P.length-1]=="function"){let U=P.length-1;P[U]=r.from(P[U])}for(let U=0;U<P.length;++U)if(!(!o(P[U])&&!c(P[U]))){if(U<P.length-1&&!(a(P[U])||p(P[U])||h(P[U])))throw new g(`streams[${U}]`,A[U],"must be readable");if(U>0&&!(u(P[U])||d(P[U])||h(P[U])))throw new g(`streams[${U}]`,A[U],"must be writable")}let y,S,I,R,T;function C(U){let se=R;R=null,se?se(U):U?T.destroy(U):!he&&!ie&&T.destroy()}let N=P[0],te=n(P,C),ie=!!(u(N)||d(N)||h(N)),he=!!(a(te)||p(te)||h(te));if(T=new r({writableObjectMode:!!(N!=null&&N.writableObjectMode),readableObjectMode:!!(te!=null&&te.readableObjectMode),writable:ie,readable:he}),ie){if(o(N))T._write=function(se,ue,X){N.write(se,ue)?X():y=X},T._final=function(se){N.end(),S=se},N.on("drain",function(){if(y){let se=y;y=null,se()}});else if(c(N)){let se=(h(N)?N.writable:N).getWriter();T._write=async function(ue,X,Ee){try{await se.ready,se.write(ue).catch(()=>{}),Ee()}catch(ke){Ee(ke)}},T._final=async function(ue){try{await se.ready,se.close().catch(()=>{}),S=ue}catch(X){ue(X)}}}let U=h(te)?te.readable:te;x(U,()=>{if(S){let se=S;S=null,se()}})}if(he){if(o(te))te.on("readable",function(){if(I){let U=I;I=null,U()}}),te.on("end",function(){T.push(null)}),T._read=function(){for(;;){let U=te.read();if(U===null){I=T._read;return}if(!T.push(U))return}};else if(c(te)){let U=(h(te)?te.readable:te).getReader();T._read=async function(){for(;;)try{let{value:se,done:ue}=await U.read();if(!T.push(se))return;if(ue){T.push(null);return}}catch{return}}}}return T._destroy=function(U,se){!U&&R!==null&&(U=new m),I=null,y=null,S=null,R===null?se(U):(R=se,o(te)&&s(te,U))},T}}),JM=Oe((e,t)=>{Pe(),Ce(),Te();var n=globalThis.AbortController||ol().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:a},AbortError:u}=xn(),{validateAbortSignal:c,validateInteger:h,validateObject:d}=vl(),p=Ut().Symbol("kWeak"),m=Ut().Symbol("kResistStopPropagation"),{finished:g}=io(),w=a1(),{addAbortSignalNoValidate:x}=Gc(),{isWritable:P,isNodeStream:A}=Si(),{deprecate:y}=Rn(),{ArrayPrototypePush:S,Boolean:I,MathFloor:R,Number:T,NumberIsNaN:C,Promise:N,PromiseReject:te,PromiseResolve:ie,PromisePrototypeThen:he,Symbol:U}=Ut(),se=U("kEmpty"),ue=U("kEof");function X(ee,ne){if(ne!=null&&d(ne,"options"),(ne==null?void 0:ne.signal)!=null&&c(ne.signal,"options.signal"),A(ee)&&!P(ee))throw new r("stream",ee,"must be writable");let re=w(this,ee);return ne!=null&&ne.signal&&x(ne.signal,re),re}function Ee(ee,ne){if(typeof ee!="function")throw new s("fn",["Function","AsyncFunction"],ee);ne!=null&&d(ne,"options"),(ne==null?void 0:ne.signal)!=null&&c(ne.signal,"options.signal");let re=1;(ne==null?void 0:ne.concurrency)!=null&&(re=R(ne.concurrency));let we=re-1;return(ne==null?void 0:ne.highWaterMark)!=null&&(we=R(ne.highWaterMark)),h(re,"options.concurrency",1),h(we,"options.highWaterMark",0),we+=re,(async function*(){let be=Rn().AbortSignalAny([ne==null?void 0:ne.signal].filter(I)),H=this,Y=[],le={signal:be},_e,ve,Ae=!1,Q=0;function Se(){Ae=!0,Ne()}function Ne(){Q-=1,me()}function me(){ve&&!Ae&&Q<re&&Y.length<we&&(ve(),ve=null)}async function Xe(){try{for await(let v of H){if(Ae)return;if(be.aborted)throw new u;try{if(v=ee(v,le),v===se)continue;v=ie(v)}catch(b){v=te(b)}Q+=1,he(v,Ne,Se),Y.push(v),_e&&(_e(),_e=null),!Ae&&(Y.length>=we||Q>=re)&&await new N(b=>{ve=b})}Y.push(ue)}catch(v){let b=te(v);he(b,Ne,Se),Y.push(b)}finally{Ae=!0,_e&&(_e(),_e=null)}}Xe();try{for(;;){for(;Y.length>0;){let v=await Y[0];if(v===ue)return;if(be.aborted)throw new u;v!==se&&(yield v),Y.shift(),me()}await new N(v=>{_e=v})}}finally{Ae=!0,ve&&(ve(),ve=null)}}).call(this)}function ke(ee=void 0){return ee!=null&&d(ee,"options"),(ee==null?void 0:ee.signal)!=null&&c(ee.signal,"options.signal"),(async function*(){let ne=0;for await(let we of this){var re;if(ee!=null&&(re=ee.signal)!==null&&re!==void 0&&re.aborted)throw new u({cause:ee.signal.reason});yield[ne++,we]}}).call(this)}async function K(ee,ne=void 0){for await(let re of j.call(this,ee,ne))return!0;return!1}async function ye(ee,ne=void 0){if(typeof ee!="function")throw new s("fn",["Function","AsyncFunction"],ee);return!await K.call(this,async(...re)=>!await ee(...re),ne)}async function $(ee,ne){for await(let re of j.call(this,ee,ne))return re}async function ce(ee,ne){if(typeof ee!="function")throw new s("fn",["Function","AsyncFunction"],ee);async function re(we,be){return await ee(we,be),se}for await(let we of Ee.call(this,re,ne));}function j(ee,ne){if(typeof ee!="function")throw new s("fn",["Function","AsyncFunction"],ee);async function re(we,be){return await ee(we,be)?we:se}return Ee.call(this,re,ne)}var fe=class extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ge(ee,ne,re){var we;if(typeof ee!="function")throw new s("reducer",["Function","AsyncFunction"],ee);re!=null&&d(re,"options"),(re==null?void 0:re.signal)!=null&&c(re.signal,"options.signal");let be=arguments.length>1;if(re!=null&&(we=re.signal)!==null&&we!==void 0&&we.aborted){let ve=new u(void 0,{cause:re.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(ve)),ve}let H=new n,Y=H.signal;if(re!=null&&re.signal){let ve={once:!0,[p]:this,[m]:!0};re.signal.addEventListener("abort",()=>H.abort(),ve)}let le=!1;try{for await(let ve of this){var _e;if(le=!0,re!=null&&(_e=re.signal)!==null&&_e!==void 0&&_e.aborted)throw new u;be?ne=await ee(ne,ve,{signal:Y}):(ne=ve,be=!0)}if(!le&&!be)throw new fe}finally{H.abort()}return ne}async function V(ee){ee!=null&&d(ee,"options"),(ee==null?void 0:ee.signal)!=null&&c(ee.signal,"options.signal");let ne=[];for await(let we of this){var re;if(ee!=null&&(re=ee.signal)!==null&&re!==void 0&&re.aborted)throw new u(void 0,{cause:ee.signal.reason});S(ne,we)}return ne}function xe(ee,ne){let re=Ee.call(this,ee,ne);return(async function*(){for await(let we of re)yield*we}).call(this)}function J(ee){if(ee=T(ee),C(ee))return 0;if(ee<0)throw new a("number",">= 0",ee);return ee}function G(ee,ne=void 0){return ne!=null&&d(ne,"options"),(ne==null?void 0:ne.signal)!=null&&c(ne.signal,"options.signal"),ee=J(ee),(async function*(){var re;if(ne!=null&&(re=ne.signal)!==null&&re!==void 0&&re.aborted)throw new u;for await(let be of this){var we;if(ne!=null&&(we=ne.signal)!==null&&we!==void 0&&we.aborted)throw new u;ee--<=0&&(yield be)}}).call(this)}function pe(ee,ne=void 0){return ne!=null&&d(ne,"options"),(ne==null?void 0:ne.signal)!=null&&c(ne.signal,"options.signal"),ee=J(ee),(async function*(){var re;if(ne!=null&&(re=ne.signal)!==null&&re!==void 0&&re.aborted)throw new u;for await(let be of this){var we;if(ne!=null&&(we=ne.signal)!==null&&we!==void 0&&we.aborted)throw new u;if(ee-- >0&&(yield be),ee<=0)return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:y(ke,"readable.asIndexedPairs will be removed in a future version."),drop:G,filter:j,flatMap:xe,map:Ee,take:pe,compose:X},t.exports.promiseReturningOperators={every:ye,forEach:ce,reduce:ge,toArray:V,some:K,find:$}}),l1=Oe((e,t)=>{Pe(),Ce(),Te();var{ArrayPrototypePop:n,Promise:r}=Ut(),{isIterable:s,isNodeStream:o,isWebStream:a}=Si(),{pipelineImpl:u}=tg(),{finished:c}=io();u1();function h(...d){return new r((p,m)=>{let g,w,x=d[d.length-1];if(x&&typeof x=="object"&&!o(x)&&!s(x)&&!a(x)){let P=n(d);g=P.signal,w=P.end}u(d,(P,A)=>{P?m(P):p(A)},{signal:g,end:w})})}t.exports={finished:c,pipeline:h}}),u1=Oe((e,t)=>{Pe(),Ce(),Te();var{Buffer:n}=(sn(),wt(on)),{ObjectDefineProperty:r,ObjectKeys:s,ReflectApply:o}=Ut(),{promisify:{custom:a}}=Rn(),{streamReturningOperators:u,promiseReturningOperators:c}=JM(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=xn(),d=a1(),{setDefaultHighWaterMark:p,getDefaultHighWaterMark:m}=Zc(),{pipeline:g}=tg(),{destroyer:w}=qs(),x=io(),P=l1(),A=Si(),y=t.exports=Jm().Stream;y.isDestroyed=A.isDestroyed,y.isDisturbed=A.isDisturbed,y.isErrored=A.isErrored,y.isReadable=A.isReadable,y.isWritable=A.isWritable,y.Readable=qc();for(let I of s(u)){let R=function(...C){if(new.target)throw h();return y.Readable.from(o(T,this,C))},T=u[I];r(R,"name",{__proto__:null,value:T.name}),r(R,"length",{__proto__:null,value:T.length}),r(y.Readable.prototype,I,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}for(let I of s(c)){let R=function(...C){if(new.target)throw h();return o(T,this,C)},T=c[I];r(R,"name",{__proto__:null,value:T.name}),r(R,"length",{__proto__:null,value:T.length}),r(y.Readable.prototype,I,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}y.Writable=eg(),y.Duplex=yi(),y.Transform=o1(),y.PassThrough=s1(),y.pipeline=g;var{addAbortSignal:S}=Gc();y.addAbortSignal=S,y.finished=x,y.destroy=w,y.compose=d,y.setDefaultHighWaterMark=p,y.getDefaultHighWaterMark=m,r(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return P}}),r(g,a,{__proto__:null,enumerable:!0,get(){return P.pipeline}}),r(x,a,{__proto__:null,enumerable:!0,get(){return P.finished}}),y.Stream=y,y._isUint8Array=function(I){return I instanceof Uint8Array},y._uint8ArrayToBuffer=function(I){return n.from(I.buffer,I.byteOffset,I.byteLength)}}),Zo=Oe((e,t)=>{Pe(),Ce(),Te();var n=u1(),r=l1(),s=n.Readable.destroy;t.exports=n.Readable,t.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,t.exports._isUint8Array=n._isUint8Array,t.exports.isDisturbed=n.isDisturbed,t.exports.isErrored=n.isErrored,t.exports.isReadable=n.isReadable,t.exports.Readable=n.Readable,t.exports.Writable=n.Writable,t.exports.Duplex=n.Duplex,t.exports.Transform=n.Transform,t.exports.PassThrough=n.PassThrough,t.exports.addAbortSignal=n.addAbortSignal,t.exports.finished=n.finished,t.exports.destroy=n.destroy,t.exports.destroy=s,t.exports.pipeline=n.pipeline,t.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=n.Stream,t.exports.default=t.exports}),eI=Oe((e,t)=>{Pe(),Ce(),Te(),typeof Object.create=="function"?t.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(n,r){if(r){n.super_=r;var s=function(){};s.prototype=r.prototype,n.prototype=new s,n.prototype.constructor=n}}}),tI=Oe((e,t)=>{Pe(),Ce(),Te();var{Buffer:n}=(sn(),wt(on)),r=Symbol.for("BufferList");function s(o){if(!(this instanceof s))return new s(o);s._init.call(this,o)}s._init=function(o){Object.defineProperty(this,r,{value:!0}),this._bufs=[],this.length=0,o&&this.append(o)},s.prototype._new=function(o){return new s(o)},s.prototype._offset=function(o){if(o===0)return[0,0];let a=0;for(let u=0;u<this._bufs.length;u++){let c=a+this._bufs[u].length;if(o<c||u===this._bufs.length-1)return[u,o-a];a=c}},s.prototype._reverseOffset=function(o){let a=o[0],u=o[1];for(let c=0;c<a;c++)u+=this._bufs[c].length;return u},s.prototype.get=function(o){if(o>this.length||o<0)return;let a=this._offset(o);return this._bufs[a[0]][a[1]]},s.prototype.slice=function(o,a){return typeof o=="number"&&o<0&&(o+=this.length),typeof a=="number"&&a<0&&(a+=this.length),this.copy(null,0,o,a)},s.prototype.copy=function(o,a,u,c){if((typeof u!="number"||u<0)&&(u=0),(typeof c!="number"||c>this.length)&&(c=this.length),u>=this.length||c<=0)return o||n.alloc(0);let h=!!o,d=this._offset(u),p=c-u,m=p,g=h&&a||0,w=d[1];if(u===0&&c===this.length){if(!h)return this._bufs.length===1?this._bufs[0]:n.concat(this._bufs,this.length);for(let x=0;x<this._bufs.length;x++)this._bufs[x].copy(o,g),g+=this._bufs[x].length;return o}if(m<=this._bufs[d[0]].length-w)return h?this._bufs[d[0]].copy(o,a,w,w+m):this._bufs[d[0]].slice(w,w+m);h||(o=n.allocUnsafe(p));for(let x=d[0];x<this._bufs.length;x++){let P=this._bufs[x].length-w;if(m>P)this._bufs[x].copy(o,g,w),g+=P;else{this._bufs[x].copy(o,g,w,w+m),g+=P;break}m-=P,w&&(w=0)}return o.length>g?o.slice(0,g):o},s.prototype.shallowSlice=function(o,a){if(o=o||0,a=typeof a!="number"?this.length:a,o<0&&(o+=this.length),a<0&&(a+=this.length),o===a)return this._new();let u=this._offset(o),c=this._offset(a),h=this._bufs.slice(u[0],c[0]+1);return c[1]===0?h.pop():h[h.length-1]=h[h.length-1].slice(0,c[1]),u[1]!==0&&(h[0]=h[0].slice(u[1])),this._new(h)},s.prototype.toString=function(o,a,u){return this.slice(a,u).toString(o)},s.prototype.consume=function(o){if(o=Math.trunc(o),Number.isNaN(o)||o<=0)return this;for(;this._bufs.length;)if(o>=this._bufs[0].length)o-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(o),this.length-=o;break}return this},s.prototype.duplicate=function(){let o=this._new();for(let a=0;a<this._bufs.length;a++)o.append(this._bufs[a]);return o},s.prototype.append=function(o){if(o==null)return this;if(o.buffer)this._appendBuffer(n.from(o.buffer,o.byteOffset,o.byteLength));else if(Array.isArray(o))for(let a=0;a<o.length;a++)this.append(o[a]);else if(this._isBufferList(o))for(let a=0;a<o._bufs.length;a++)this.append(o._bufs[a]);else typeof o=="number"&&(o=o.toString()),this._appendBuffer(n.from(o));return this},s.prototype._appendBuffer=function(o){this._bufs.push(o),this.length+=o.length},s.prototype.indexOf=function(o,a,u){if(u===void 0&&typeof a=="string"&&(u=a,a=void 0),typeof o=="function"||Array.isArray(o))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof o=="number"?o=n.from([o]):typeof o=="string"?o=n.from(o,u):this._isBufferList(o)?o=o.slice():Array.isArray(o.buffer)?o=n.from(o.buffer,o.byteOffset,o.byteLength):n.isBuffer(o)||(o=n.from(o)),a=Number(a||0),isNaN(a)&&(a=0),a<0&&(a=this.length+a),a<0&&(a=0),o.length===0)return a>this.length?this.length:a;let c=this._offset(a),h=c[0],d=c[1];for(;h<this._bufs.length;h++){let p=this._bufs[h];for(;d<p.length;)if(p.length-d>=o.length){let m=p.indexOf(o,d);if(m!==-1)return this._reverseOffset([h,m]);d=p.length-o.length+1}else{let m=this._reverseOffset([h,d]);if(this._match(m,o))return m;d++}d=0}return-1},s.prototype._match=function(o,a){if(this.length-o<a.length)return!1;for(let u=0;u<a.length;u++)if(this.get(o+u)!==a[u])return!1;return!0},function(){let o={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let a in o)(function(u){o[u]===null?s.prototype[u]=function(c,h){return this.slice(c,c+h)[u](0,h)}:s.prototype[u]=function(c=0){return this.slice(c,c+o[u])[u](0)}})(a)}(),s.prototype._isBufferList=function(o){return o instanceof s||s.isBufferList(o)},s.isBufferList=function(o){return o!=null&&o[r]},t.exports=s}),nI=Oe((e,t)=>{Pe(),Ce(),Te();var n=Zo().Duplex,r=eI(),s=tI();function o(a){if(!(this instanceof o))return new o(a);if(typeof a=="function"){this._callback=a;let u=(function(c){this._callback&&(this._callback(c),this._callback=null)}).bind(this);this.on("pipe",function(c){c.on("error",u)}),this.on("unpipe",function(c){c.removeListener("error",u)}),a=null}s._init.call(this,a),n.call(this)}r(o,n),Object.assign(o.prototype,s.prototype),o.prototype._new=function(a){return new o(a)},o.prototype._write=function(a,u,c){this._appendBuffer(a),typeof c=="function"&&c()},o.prototype._read=function(a){if(!this.length)return this.push(null);a=Math.min(a,this.length),this.push(this.slice(0,a)),this.consume(a)},o.prototype.end=function(a){n.prototype.end.call(this,a),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(a,u){this._bufs.length=0,this.length=0,u(a)},o.prototype._isBufferList=function(a){return a instanceof o||a instanceof s||o.isBufferList(a)},o.isBufferList=s.isBufferList,t.exports=o,t.exports.BufferListStream=o,t.exports.BufferList=s}),rI=Oe((e,t)=>{Pe(),Ce(),Te();var n=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=n}),c1=Oe((e,t)=>{Pe(),Ce(),Te();var n=t.exports,{Buffer:r}=(sn(),wt(on));n.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},n.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},n.requiredHeaderFlagsErrors={};for(let o in n.requiredHeaderFlags){let a=n.requiredHeaderFlags[o];n.requiredHeaderFlagsErrors[o]="Invalid header flag bits, must be 0x"+a.toString(16)+" for "+n.types[o]+" packet"}n.codes={};for(let o in n.types){let a=n.types[o];n.codes[a]=o}n.CMD_SHIFT=4,n.CMD_MASK=240,n.DUP_MASK=8,n.QOS_MASK=3,n.QOS_SHIFT=1,n.RETAIN_MASK=1,n.VARBYTEINT_MASK=127,n.VARBYTEINT_FIN_MASK=128,n.VARBYTEINT_MAX=268435455,n.SESSIONPRESENT_MASK=1,n.SESSIONPRESENT_HEADER=r.from([n.SESSIONPRESENT_MASK]),n.CONNACK_HEADER=r.from([n.codes.connack<<n.CMD_SHIFT]),n.USERNAME_MASK=128,n.PASSWORD_MASK=64,n.WILL_RETAIN_MASK=32,n.WILL_QOS_MASK=24,n.WILL_QOS_SHIFT=3,n.WILL_FLAG_MASK=4,n.CLEAN_SESSION_MASK=2,n.CONNECT_HEADER=r.from([n.codes.connect<<n.CMD_SHIFT]),n.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},n.propertiesCodes={};for(let o in n.properties){let a=n.properties[o];n.propertiesCodes[a]=o}n.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function s(o){return[0,1,2].map(a=>[0,1].map(u=>[0,1].map(c=>{let h=r.alloc(1);return h.writeUInt8(n.codes[o]<<n.CMD_SHIFT|(u?n.DUP_MASK:0)|a<<n.QOS_SHIFT|c,0,!0),h})))}n.PUBLISH_HEADER=s("publish"),n.SUBSCRIBE_HEADER=s("subscribe"),n.SUBSCRIBE_OPTIONS_QOS_MASK=3,n.SUBSCRIBE_OPTIONS_NL_MASK=1,n.SUBSCRIBE_OPTIONS_NL_SHIFT=2,n.SUBSCRIBE_OPTIONS_RAP_MASK=1,n.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,n.SUBSCRIBE_OPTIONS_RH_MASK=3,n.SUBSCRIBE_OPTIONS_RH_SHIFT=4,n.SUBSCRIBE_OPTIONS_RH=[0,16,32],n.SUBSCRIBE_OPTIONS_NL=4,n.SUBSCRIBE_OPTIONS_RAP=8,n.SUBSCRIBE_OPTIONS_QOS=[0,1,2],n.UNSUBSCRIBE_HEADER=s("unsubscribe"),n.ACKS={unsuback:s("unsuback"),puback:s("puback"),pubcomp:s("pubcomp"),pubrel:s("pubrel"),pubrec:s("pubrec")},n.SUBACK_HEADER=r.from([n.codes.suback<<n.CMD_SHIFT]),n.VERSION3=r.from([3]),n.VERSION4=r.from([4]),n.VERSION5=r.from([5]),n.VERSION131=r.from([131]),n.VERSION132=r.from([132]),n.QOS=[0,1,2].map(o=>r.from([o])),n.EMPTY={pingreq:r.from([n.codes.pingreq<<4,0]),pingresp:r.from([n.codes.pingresp<<4,0]),disconnect:r.from([n.codes.disconnect<<4,0])},n.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},n.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},n.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},n.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},n.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),iI=Oe((e,t)=>{Pe(),Ce(),Te();var n=1e3,r=n*60,s=r*60,o=s*24,a=o*7,u=o*365.25;t.exports=function(m,g){g=g||{};var w=typeof m;if(w==="string"&&m.length>0)return c(m);if(w==="number"&&isFinite(m))return g.long?d(m):h(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function c(m){if(m=String(m),!(m.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(g){var w=parseFloat(g[1]),x=(g[2]||"ms").toLowerCase();switch(x){case"years":case"year":case"yrs":case"yr":case"y":return w*u;case"weeks":case"week":case"w":return w*a;case"days":case"day":case"d":return w*o;case"hours":case"hour":case"hrs":case"hr":case"h":return w*s;case"minutes":case"minute":case"mins":case"min":case"m":return w*r;case"seconds":case"second":case"secs":case"sec":case"s":return w*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function h(m){var g=Math.abs(m);return g>=o?Math.round(m/o)+"d":g>=s?Math.round(m/s)+"h":g>=r?Math.round(m/r)+"m":g>=n?Math.round(m/n)+"s":m+"ms"}function d(m){var g=Math.abs(m);return g>=o?p(m,g,o,"day"):g>=s?p(m,g,s,"hour"):g>=r?p(m,g,r,"minute"):g>=n?p(m,g,n,"second"):m+" ms"}function p(m,g,w,x){var P=g>=w*1.5;return Math.round(m/w)+" "+x+(P?"s":"")}}),oI=Oe((e,t)=>{Pe(),Ce(),Te();function n(r){o.debug=o,o.default=o,o.coerce=p,o.disable=h,o.enable=u,o.enabled=d,o.humanize=iI(),o.destroy=m,Object.keys(r).forEach(g=>{o[g]=r[g]}),o.names=[],o.skips=[],o.formatters={};function s(g){let w=0;for(let x=0;x<g.length;x++)w=(w<<5)-w+g.charCodeAt(x),w|=0;return o.colors[Math.abs(w)%o.colors.length]}o.selectColor=s;function o(g){let w,x=null,P,A;function y(...S){if(!y.enabled)return;let I=y,R=Number(new Date),T=R-(w||R);I.diff=T,I.prev=w,I.curr=R,w=R,S[0]=o.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let C=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(N,te)=>{if(N==="%%")return"%";C++;let ie=o.formatters[te];if(typeof ie=="function"){let he=S[C];N=ie.call(I,he),S.splice(C,1),C--}return N}),o.formatArgs.call(I,S),(I.log||o.log).apply(I,S)}return y.namespace=g,y.useColors=o.useColors(),y.color=o.selectColor(g),y.extend=a,y.destroy=o.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>x!==null?x:(P!==o.namespaces&&(P=o.namespaces,A=o.enabled(g)),A),set:S=>{x=S}}),typeof o.init=="function"&&o.init(y),y}function a(g,w){let x=o(this.namespace+(typeof w>"u"?":":w)+g);return x.log=this.log,x}function u(g){o.save(g),o.namespaces=g,o.names=[],o.skips=[];let w=(typeof g=="string"?g:"").trim().replace(" ",",").split(",").filter(Boolean);for(let x of w)x[0]==="-"?o.skips.push(x.slice(1)):o.names.push(x)}function c(g,w){let x=0,P=0,A=-1,y=0;for(;x<g.length;)if(P<w.length&&(w[P]===g[x]||w[P]==="*"))w[P]==="*"?(A=P,y=x,P++):(x++,P++);else if(A!==-1)P=A+1,y++,x=y;else return!1;for(;P<w.length&&w[P]==="*";)P++;return P===w.length}function h(){let g=[...o.names,...o.skips.map(w=>"-"+w)].join(",");return o.enable(""),g}function d(g){for(let w of o.skips)if(c(g,w))return!1;for(let w of o.names)if(c(g,w))return!0;return!1}function p(g){return g instanceof Error?g.stack||g.message:g}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o.enable(o.load()),o}t.exports=n}),bi=Oe((e,t)=>{Pe(),Ce(),Te(),e.formatArgs=r,e.save=s,e.load=o,e.useColors=n,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;c.splice(1,0,h,"color: inherit");let d=0,p=0;c[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(d++,m==="%c"&&(p=d))}),c.splice(p,0,h)}e.log=console.debug||console.log||(()=>{});function s(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function o(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof pt<"u"&&"env"in pt&&(c=pt.env.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=oI()(e);var{formatters:u}=t.exports;u.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),sI=Oe((e,t)=>{Pe(),Ce(),Te();var n=nI(),{EventEmitter:r}=(Ho(),wt(ro)),s=rI(),o=c1(),a=bi()("mqtt-packet:parser"),u=class Mp extends r{constructor(){super(),this.parser=this.constructor.parser}static parser(h){return this instanceof Mp?(this.settings=h||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new Mp().parser(h)}_resetState(){a("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new s,this.error=null,this._list=n(),this._stateCounter=0}parse(h){for(this.error&&this._resetState(),this._list.append(h),a("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,a("parse: state complete. _stateCounter is now: %d",this._stateCounter),a("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return a("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let h=this._list.readUInt8(0),d=h>>o.CMD_SHIFT;this.packet.cmd=o.types[d];let p=h&15,m=o.requiredHeaderFlags[d];return m!=null&&p!==m?this._emitError(new Error(o.requiredHeaderFlagsErrors[d])):(this.packet.retain=(h&o.RETAIN_MASK)!==0,this.packet.qos=h>>o.QOS_SHIFT&o.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(h&o.DUP_MASK)!==0,a("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let h=this._parseVarByteNum(!0);return h&&(this.packet.length=h.value,this._list.consume(h.bytes)),a("_parseLength %d",h.value),!!h}_parsePayload(){a("_parsePayload: payload %O",this._list);let h=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}h=!0}return a("_parsePayload complete result: %s",h),h}_parseConnect(){a("_parseConnect");let h,d,p,m,g={},w=this.packet,x=this._parseString();if(x===null)return this._emitError(new Error("Cannot parse protocolId"));if(x!=="MQTT"&&x!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=x,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),w.protocolVersion!==3&&w.protocolVersion!==4&&w.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));g.username=this._list.readUInt8(this._pos)&o.USERNAME_MASK,g.password=this._list.readUInt8(this._pos)&o.PASSWORD_MASK,g.will=this._list.readUInt8(this._pos)&o.WILL_FLAG_MASK;let P=!!(this._list.readUInt8(this._pos)&o.WILL_RETAIN_MASK),A=(this._list.readUInt8(this._pos)&o.WILL_QOS_MASK)>>o.WILL_QOS_SHIFT;if(g.will)w.will={},w.will.retain=P,w.will.qos=A;else{if(P)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(A)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(w.clean=(this._list.readUInt8(this._pos)&o.CLEAN_SESSION_MASK)!==0,this._pos++,w.keepalive=this._parseNum(),w.keepalive===-1)return this._emitError(new Error("Packet too short"));if(w.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(w.properties=S)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(w.clientId=y,a("_parseConnect: packet.clientId: %s",w.clientId),g.will){if(w.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(w.will.properties=S)}if(h=this._parseString(),h===null)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=h,a("_parseConnect: packet.will.topic: %s",w.will.topic),d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=d,a("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(g.username){if(m=this._parseString(),m===null)return this._emitError(new Error("Cannot parse username"));w.username=m,a("_parseConnect: packet.username: %s",w.username)}if(g.password){if(p=this._parseBuffer(),p===null)return this._emitError(new Error("Cannot parse password"));w.password=p}return this.settings=w,a("_parseConnect: complete"),w}_parseConnack(){a("_parseConnack");let h=this.packet;if(this._list.length<1)return null;let d=this._list.readUInt8(this._pos++);if(d>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(h.sessionPresent=!!(d&o.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?h.reasonCode=this._list.readUInt8(this._pos++):h.reasonCode=0;else{if(this._list.length<2)return null;h.returnCode=this._list.readUInt8(this._pos++)}if(h.returnCode===-1||h.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let p=this._parseProperties();Object.getOwnPropertyNames(p).length&&(h.properties=p)}a("_parseConnack: complete")}_parsePublish(){a("_parsePublish");let h=this.packet;if(h.topic=this._parseString(),h.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(h.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}h.payload=this._list.slice(this._pos,h.length),a("_parsePublish: payload from buffer list: %o",h.payload)}}_parseSubscribe(){a("_parseSubscribe");let h=this.packet,d,p,m,g,w,x,P;if(h.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(h.properties=A)}if(h.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<h.length;){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=h.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(p=this._parseByte(),this.settings.protocolVersion===5){if(p&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(p&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(m=p&o.SUBSCRIBE_OPTIONS_QOS_MASK,m>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(x=(p>>o.SUBSCRIBE_OPTIONS_NL_SHIFT&o.SUBSCRIBE_OPTIONS_NL_MASK)!==0,w=(p>>o.SUBSCRIBE_OPTIONS_RAP_SHIFT&o.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,g=p>>o.SUBSCRIBE_OPTIONS_RH_SHIFT&o.SUBSCRIBE_OPTIONS_RH_MASK,g>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));P={topic:d,qos:m},this.settings.protocolVersion===5?(P.nl=x,P.rap=w,P.rh=g):this.settings.bridgeMode&&(P.rh=0,P.rap=!0,P.nl=!0),a("_parseSubscribe: push subscription `%s` to subscription",P),h.subscriptions.push(P)}}}_parseSuback(){a("_parseSuback");let h=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}if(h.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!o.MQTT5_SUBACK_CODES[d])return this._emitError(new Error("Invalid suback code"))}else if(d>2&&d!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(d)}}}_parseUnsubscribe(){a("_parseUnsubscribe");let h=this.packet;if(h.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}if(h.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<h.length;){let d=this._parseString();if(d===null)return this._emitError(new Error("Cannot parse topic"));a("_parseUnsubscribe: push topic `%s` to unsubscriptions",d),h.unsubscriptions.push(d)}}}_parseUnsuback(){a("_parseUnsuback");let h=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&h.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(h.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let d=this._parseProperties();for(Object.getOwnPropertyNames(d).length&&(h.properties=d),h.granted=[];this._pos<this.packet.length;){let p=this._list.readUInt8(this._pos++);if(!o.MQTT5_UNSUBACK_CODES[p])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(p)}}}_parseConfirmation(){a("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let h=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(h.length>2){switch(h.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!o.MQTT5_PUBACK_PUBREC_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!o.MQTT5_PUBREL_PUBCOMP_CODES[h.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}a("_parseConfirmation: packet.reasonCode `%d`",h.reasonCode)}else h.reasonCode=0;if(h.length>3){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}}return!0}_parseDisconnect(){let h=this.packet;if(a("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(h.reasonCode=this._parseByte(),o.MQTT5_DISCONNECT_CODES[h.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):h.reasonCode=0;let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(h.properties=d)}return a("_parseDisconnect result: true"),!0}_parseAuth(){a("_parseAuth");let h=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(h.reasonCode=this._parseByte(),!o.MQTT5_AUTH_CODES[h.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let d=this._parseProperties();return Object.getOwnPropertyNames(d).length&&(h.properties=d),a("_parseAuth: result: true"),!0}_parseMessageId(){let h=this.packet;return h.messageId=this._parseNum(),h.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(a("_parseMessageId: packet.messageId %d",h.messageId),!0)}_parseString(h){let d=this._parseNum(),p=d+this._pos;if(d===-1||p>this._list.length||p>this.packet.length)return null;let m=this._list.toString("utf8",this._pos,p);return this._pos+=d,a("_parseString: result: %s",m),m}_parseStringPair(){return a("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let h=this._parseNum(),d=h+this._pos;if(h===-1||d>this._list.length||d>this.packet.length)return null;let p=this._list.slice(this._pos,d);return this._pos+=h,a("_parseBuffer: result: %o",p),p}_parseNum(){if(this._list.length-this._pos<2)return-1;let h=this._list.readUInt16BE(this._pos);return this._pos+=2,a("_parseNum: result: %s",h),h}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let h=this._list.readUInt32BE(this._pos);return this._pos+=4,a("_parse4ByteNum: result: %s",h),h}_parseVarByteNum(h){a("_parseVarByteNum");let d=4,p=0,m=1,g=0,w=!1,x,P=this._pos?this._pos:0;for(;p<d&&P+p<this._list.length;){if(x=this._list.readUInt8(P+p++),g+=m*(x&o.VARBYTEINT_MASK),m*=128,(x&o.VARBYTEINT_FIN_MASK)===0){w=!0;break}if(this._list.length<=p)break}return!w&&p===d&&this._list.length>=p&&this._emitError(new Error("Invalid variable byte integer")),P&&(this._pos+=p),w?h?w={bytes:p,value:g}:w=g:w=!1,a("_parseVarByteNum: result: %o",w),w}_parseByte(){let h;return this._pos<this._list.length&&(h=this._list.readUInt8(this._pos),this._pos++),a("_parseByte: result: %o",h),h}_parseByType(h){switch(a("_parseByType: type: %s",h),h){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){a("_parseProperties");let h=this._parseVarByteNum(),d=this._pos+h,p={};for(;this._pos<d;){let m=this._parseByte();if(!m)return this._emitError(new Error("Cannot parse property code type")),!1;let g=o.propertiesCodes[m];if(!g)return this._emitError(new Error("Unknown property")),!1;if(g==="userProperties"){p[g]||(p[g]=Object.create(null));let w=this._parseByType(o.propertiesTypes[g]);if(p[g][w.name])if(Array.isArray(p[g][w.name]))p[g][w.name].push(w.value);else{let x=p[g][w.name];p[g][w.name]=[x],p[g][w.name].push(w.value)}else p[g][w.name]=w.value;continue}p[g]?Array.isArray(p[g])?p[g].push(this._parseByType(o.propertiesTypes[g])):(p[g]=[p[g]],p[g].push(this._parseByType(o.propertiesTypes[g]))):p[g]=this._parseByType(o.propertiesTypes[g])}return p}_newPacket(){return a("_newPacket"),this.packet&&(this._list.consume(this.packet.length),a("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),a("_newPacket: new packet"),this.packet=new s,this._pos=0,!0}_emitError(h){a("_emitError",h),this.error=h,this.emit("error",h)}};t.exports=u}),aI=Oe((e,t)=>{Pe(),Ce(),Te();var{Buffer:n}=(sn(),wt(on)),r=65536,s={},o=n.isBuffer(n.from([1,2]).subarray(0,1));function a(d){let p=n.allocUnsafe(2);return p.writeUInt8(d>>8,0),p.writeUInt8(d&255,1),p}function u(){for(let d=0;d<r;d++)s[d]=a(d)}function c(d){let p=0,m=0,g=n.allocUnsafe(4);do p=d%128|0,d=d/128|0,d>0&&(p=p|128),g.writeUInt8(p,m++);while(d>0&&m<4);return d>0&&(m=0),o?g.subarray(0,m):g.slice(0,m)}function h(d){let p=n.allocUnsafe(4);return p.writeUInt32BE(d,0),p}t.exports={cache:s,generateCache:u,generateNumber:a,genBufVariableByteInt:c,generate4ByteBuffer:h}}),lI=Oe((e,t)=>{Pe(),Ce(),Te(),typeof pt>"u"||!pt.version||pt.version.indexOf("v0.")===0||pt.version.indexOf("v1.")===0&&pt.version.indexOf("v1.8.")!==0?t.exports={nextTick:n}:t.exports=pt;function n(r,s,o,a){if(typeof r!="function")throw new TypeError('"callback" argument must be a function');var u=arguments.length,c,h;switch(u){case 0:case 1:return pt.nextTick(r);case 2:return pt.nextTick(function(){r.call(null,s)});case 3:return pt.nextTick(function(){r.call(null,s,o)});case 4:return pt.nextTick(function(){r.call(null,s,o,a)});default:for(c=new Array(u-1),h=0;h<c.length;)c[h++]=arguments[h];return pt.nextTick(function(){r.apply(null,c)})}}}),h1=Oe((e,t)=>{Pe(),Ce(),Te();var n=c1(),{Buffer:r}=(sn(),wt(on)),s=r.allocUnsafe(0),o=r.from([0]),a=aI(),u=lI().nextTick,c=bi()("mqtt-packet:writeToStream"),h=a.cache,d=a.generateNumber,p=a.generateCache,m=a.genBufVariableByteInt,g=a.generate4ByteBuffer,w=ke,x=!0;function P(J,G,pe){switch(c("generate called"),G.cork&&(G.cork(),u(A,G)),x&&(x=!1,p()),c("generate: packet.cmd: %s",J.cmd),J.cmd){case"connect":return y(J,G);case"connack":return S(J,G,pe);case"publish":return I(J,G,pe);case"puback":case"pubrec":case"pubrel":case"pubcomp":return R(J,G,pe);case"subscribe":return T(J,G,pe);case"suback":return C(J,G,pe);case"unsubscribe":return N(J,G,pe);case"unsuback":return te(J,G,pe);case"pingreq":case"pingresp":return ie(J,G);case"disconnect":return he(J,G,pe);case"auth":return U(J,G,pe);default:return G.destroy(new Error("Unknown command")),!1}}Object.defineProperty(P,"cacheNumbers",{get(){return w===ke},set(J){J?((!h||Object.keys(h).length===0)&&(x=!0),w=ke):(x=!1,w=K)}});function A(J){J.uncork()}function y(J,G,pe){let ee=J||{},ne=ee.protocolId||"MQTT",re=ee.protocolVersion||4,we=ee.will,be=ee.clean,H=ee.keepalive||0,Y=ee.clientId||"",le=ee.username,_e=ee.password,ve=ee.properties;be===void 0&&(be=!0);let Ae=0;if(typeof ne!="string"&&!r.isBuffer(ne))return G.destroy(new Error("Invalid protocolId")),!1;if(Ae+=ne.length+2,re!==3&&re!==4&&re!==5)return G.destroy(new Error("Invalid protocol version")),!1;if(Ae+=1,(typeof Y=="string"||r.isBuffer(Y))&&(Y||re>=4)&&(Y||be))Ae+=r.byteLength(Y)+2;else{if(re<4)return G.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(be*1===0)return G.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof H!="number"||H<0||H>65535||H%1!==0)return G.destroy(new Error("Invalid keepalive")),!1;Ae+=2,Ae+=1;let Q,Se;if(re===5){if(Q=ce(G,ve),!Q)return!1;Ae+=Q.length}if(we){if(typeof we!="object")return G.destroy(new Error("Invalid will")),!1;if(!we.topic||typeof we.topic!="string")return G.destroy(new Error("Invalid will topic")),!1;if(Ae+=r.byteLength(we.topic)+2,Ae+=2,we.payload)if(we.payload.length>=0)typeof we.payload=="string"?Ae+=r.byteLength(we.payload):Ae+=we.payload.length;else return G.destroy(new Error("Invalid will payload")),!1;if(Se={},re===5){if(Se=ce(G,we.properties),!Se)return!1;Ae+=Se.length}}let Ne=!1;if(le!=null)if(xe(le))Ne=!0,Ae+=r.byteLength(le)+2;else return G.destroy(new Error("Invalid username")),!1;if(_e!=null){if(!Ne)return G.destroy(new Error("Username is required to use password")),!1;if(xe(_e))Ae+=V(_e)+2;else return G.destroy(new Error("Invalid password")),!1}G.write(n.CONNECT_HEADER),ue(G,Ae),$(G,ne),ee.bridgeMode&&(re+=128),G.write(re===131?n.VERSION131:re===132?n.VERSION132:re===4?n.VERSION4:re===5?n.VERSION5:n.VERSION3);let me=0;return me|=le!=null?n.USERNAME_MASK:0,me|=_e!=null?n.PASSWORD_MASK:0,me|=we&&we.retain?n.WILL_RETAIN_MASK:0,me|=we&&we.qos?we.qos<<n.WILL_QOS_SHIFT:0,me|=we?n.WILL_FLAG_MASK:0,me|=be?n.CLEAN_SESSION_MASK:0,G.write(r.from([me])),w(G,H),re===5&&Q.write(),$(G,Y),we&&(re===5&&Se.write(),X(G,we.topic),$(G,we.payload)),le!=null&&$(G,le),_e!=null&&$(G,_e),!0}function S(J,G,pe){let ee=pe?pe.protocolVersion:4,ne=J||{},re=ee===5?ne.reasonCode:ne.returnCode,we=ne.properties,be=2;if(typeof re!="number")return G.destroy(new Error("Invalid return code")),!1;let H=null;if(ee===5){if(H=ce(G,we),!H)return!1;be+=H.length}return G.write(n.CONNACK_HEADER),ue(G,be),G.write(ne.sessionPresent?n.SESSIONPRESENT_HEADER:o),G.write(r.from([re])),H==null||H.write(),!0}function I(J,G,pe){c("publish: packet: %o",J);let ee=pe?pe.protocolVersion:4,ne=J||{},re=ne.qos||0,we=ne.retain?n.RETAIN_MASK:0,be=ne.topic,H=ne.payload||s,Y=ne.messageId,le=ne.properties,_e=0;if(typeof be=="string")_e+=r.byteLength(be)+2;else if(r.isBuffer(be))_e+=be.length+2;else return G.destroy(new Error("Invalid topic")),!1;if(r.isBuffer(H)?_e+=H.length:_e+=r.byteLength(H),re&&typeof Y!="number")return G.destroy(new Error("Invalid messageId")),!1;re&&(_e+=2);let ve=null;if(ee===5){if(ve=ce(G,le),!ve)return!1;_e+=ve.length}return G.write(n.PUBLISH_HEADER[re][ne.dup?1:0][we?1:0]),ue(G,_e),w(G,V(be)),G.write(be),re>0&&w(G,Y),ve==null||ve.write(),c("publish: payload: %o",H),G.write(H)}function R(J,G,pe){let ee=pe?pe.protocolVersion:4,ne=J||{},re=ne.cmd||"puback",we=ne.messageId,be=ne.dup&&re==="pubrel"?n.DUP_MASK:0,H=0,Y=ne.reasonCode,le=ne.properties,_e=ee===5?3:2;if(re==="pubrel"&&(H=1),typeof we!="number")return G.destroy(new Error("Invalid messageId")),!1;let ve=null;if(ee===5&&typeof le=="object"){if(ve=j(G,le,pe,_e),!ve)return!1;_e+=ve.length}return G.write(n.ACKS[re][H][be][0]),_e===3&&(_e+=Y!==0?1:-1),ue(G,_e),w(G,we),ee===5&&_e!==2&&G.write(r.from([Y])),ve!==null?ve.write():_e===4&&G.write(r.from([0])),!0}function T(J,G,pe){c("subscribe: packet: ");let ee=pe?pe.protocolVersion:4,ne=J||{},re=ne.dup?n.DUP_MASK:0,we=ne.messageId,be=ne.subscriptions,H=ne.properties,Y=0;if(typeof we!="number")return G.destroy(new Error("Invalid messageId")),!1;Y+=2;let le=null;if(ee===5){if(le=ce(G,H),!le)return!1;Y+=le.length}if(typeof be=="object"&&be.length)for(let ve=0;ve<be.length;ve+=1){let Ae=be[ve].topic,Q=be[ve].qos;if(typeof Ae!="string")return G.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Q!="number")return G.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(ee===5){if(typeof(be[ve].nl||!1)!="boolean")return G.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(be[ve].rap||!1)!="boolean")return G.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let Se=be[ve].rh||0;if(typeof Se!="number"||Se>2)return G.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}Y+=r.byteLength(Ae)+2+1}else return G.destroy(new Error("Invalid subscriptions")),!1;c("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),G.write(n.SUBSCRIBE_HEADER[1][re?1:0][0]),ue(G,Y),w(G,we),le!==null&&le.write();let _e=!0;for(let ve of be){let Ae=ve.topic,Q=ve.qos,Se=+ve.nl,Ne=+ve.rap,me=ve.rh,Xe;X(G,Ae),Xe=n.SUBSCRIBE_OPTIONS_QOS[Q],ee===5&&(Xe|=Se?n.SUBSCRIBE_OPTIONS_NL:0,Xe|=Ne?n.SUBSCRIBE_OPTIONS_RAP:0,Xe|=me?n.SUBSCRIBE_OPTIONS_RH[me]:0),_e=G.write(r.from([Xe]))}return _e}function C(J,G,pe){let ee=pe?pe.protocolVersion:4,ne=J||{},re=ne.messageId,we=ne.granted,be=ne.properties,H=0;if(typeof re!="number")return G.destroy(new Error("Invalid messageId")),!1;if(H+=2,typeof we=="object"&&we.length)for(let le=0;le<we.length;le+=1){if(typeof we[le]!="number")return G.destroy(new Error("Invalid qos vector")),!1;H+=1}else return G.destroy(new Error("Invalid qos vector")),!1;let Y=null;if(ee===5){if(Y=j(G,be,pe,H),!Y)return!1;H+=Y.length}return G.write(n.SUBACK_HEADER),ue(G,H),w(G,re),Y!==null&&Y.write(),G.write(r.from(we))}function N(J,G,pe){let ee=pe?pe.protocolVersion:4,ne=J||{},re=ne.messageId,we=ne.dup?n.DUP_MASK:0,be=ne.unsubscriptions,H=ne.properties,Y=0;if(typeof re!="number")return G.destroy(new Error("Invalid messageId")),!1;if(Y+=2,typeof be=="object"&&be.length)for(let ve=0;ve<be.length;ve+=1){if(typeof be[ve]!="string")return G.destroy(new Error("Invalid unsubscriptions")),!1;Y+=r.byteLength(be[ve])+2}else return G.destroy(new Error("Invalid unsubscriptions")),!1;let le=null;if(ee===5){if(le=ce(G,H),!le)return!1;Y+=le.length}G.write(n.UNSUBSCRIBE_HEADER[1][we?1:0][0]),ue(G,Y),w(G,re),le!==null&&le.write();let _e=!0;for(let ve=0;ve<be.length;ve++)_e=X(G,be[ve]);return _e}function te(J,G,pe){let ee=pe?pe.protocolVersion:4,ne=J||{},re=ne.messageId,we=ne.dup?n.DUP_MASK:0,be=ne.granted,H=ne.properties,Y=ne.cmd,le=0,_e=2;if(typeof re!="number")return G.destroy(new Error("Invalid messageId")),!1;if(ee===5)if(typeof be=="object"&&be.length)for(let Ae=0;Ae<be.length;Ae+=1){if(typeof be[Ae]!="number")return G.destroy(new Error("Invalid qos vector")),!1;_e+=1}else return G.destroy(new Error("Invalid qos vector")),!1;let ve=null;if(ee===5){if(ve=j(G,H,pe,_e),!ve)return!1;_e+=ve.length}return G.write(n.ACKS[Y][le][we][0]),ue(G,_e),w(G,re),ve!==null&&ve.write(),ee===5&&G.write(r.from(be)),!0}function ie(J,G,pe){return G.write(n.EMPTY[J.cmd])}function he(J,G,pe){let ee=pe?pe.protocolVersion:4,ne=J||{},re=ne.reasonCode,we=ne.properties,be=ee===5?1:0,H=null;if(ee===5){if(H=j(G,we,pe,be),!H)return!1;be+=H.length}return G.write(r.from([n.codes.disconnect<<4])),ue(G,be),ee===5&&G.write(r.from([re])),H!==null&&H.write(),!0}function U(J,G,pe){let ee=pe?pe.protocolVersion:4,ne=J||{},re=ne.reasonCode,we=ne.properties,be=ee===5?1:0;ee!==5&&G.destroy(new Error("Invalid mqtt version for auth packet"));let H=j(G,we,pe,be);return H?(be+=H.length,G.write(r.from([n.codes.auth<<4])),ue(G,be),G.write(r.from([re])),H!==null&&H.write(),!0):!1}var se={};function ue(J,G){if(G>n.VARBYTEINT_MAX)return J.destroy(new Error(`Invalid variable byte integer: ${G}`)),!1;let pe=se[G];return pe||(pe=m(G),G<16384&&(se[G]=pe)),c("writeVarByteInt: writing to stream: %o",pe),J.write(pe)}function X(J,G){let pe=r.byteLength(G);return w(J,pe),c("writeString: %s",G),J.write(G,"utf8")}function Ee(J,G,pe){X(J,G),X(J,pe)}function ke(J,G){return c("writeNumberCached: number: %d",G),c("writeNumberCached: %o",h[G]),J.write(h[G])}function K(J,G){let pe=d(G);return c("writeNumberGenerated: %o",pe),J.write(pe)}function ye(J,G){let pe=g(G);return c("write4ByteNumber: %o",pe),J.write(pe)}function $(J,G){typeof G=="string"?X(J,G):G?(w(J,G.length),J.write(G)):w(J,0)}function ce(J,G){if(typeof G!="object"||G.length!=null)return{length:1,write(){ge(J,{},0)}};let pe=0;function ee(ne,re){let we=n.propertiesTypes[ne],be=0;switch(we){case"byte":{if(typeof re!="boolean")return J.destroy(new Error(`Invalid ${ne}: ${re}`)),!1;be+=2;break}case"int8":{if(typeof re!="number"||re<0||re>255)return J.destroy(new Error(`Invalid ${ne}: ${re}`)),!1;be+=2;break}case"binary":{if(re&&re===null)return J.destroy(new Error(`Invalid ${ne}: ${re}`)),!1;be+=1+r.byteLength(re)+2;break}case"int16":{if(typeof re!="number"||re<0||re>65535)return J.destroy(new Error(`Invalid ${ne}: ${re}`)),!1;be+=3;break}case"int32":{if(typeof re!="number"||re<0||re>4294967295)return J.destroy(new Error(`Invalid ${ne}: ${re}`)),!1;be+=5;break}case"var":{if(typeof re!="number"||re<0||re>268435455)return J.destroy(new Error(`Invalid ${ne}: ${re}`)),!1;be+=1+r.byteLength(m(re));break}case"string":{if(typeof re!="string")return J.destroy(new Error(`Invalid ${ne}: ${re}`)),!1;be+=3+r.byteLength(re.toString());break}case"pair":{if(typeof re!="object")return J.destroy(new Error(`Invalid ${ne}: ${re}`)),!1;be+=Object.getOwnPropertyNames(re).reduce((H,Y)=>{let le=re[Y];return Array.isArray(le)?H+=le.reduce((_e,ve)=>(_e+=3+r.byteLength(Y.toString())+2+r.byteLength(ve.toString()),_e),0):H+=3+r.byteLength(Y.toString())+2+r.byteLength(re[Y].toString()),H},0);break}default:return J.destroy(new Error(`Invalid property ${ne}: ${re}`)),!1}return be}if(G)for(let ne in G){let re=0,we=0,be=G[ne];if(be!==void 0){if(Array.isArray(be))for(let H=0;H<be.length;H++){if(we=ee(ne,be[H]),!we)return!1;re+=we}else{if(we=ee(ne,be),!we)return!1;re=we}if(!re)return!1;pe+=re}}return{length:r.byteLength(m(pe))+pe,write(){ge(J,G,pe)}}}function j(J,G,pe,ee){let ne=["reasonString","userProperties"],re=pe&&pe.properties&&pe.properties.maximumPacketSize?pe.properties.maximumPacketSize:0,we=ce(J,G);if(re)for(;ee+we.length>re;){let be=ne.shift();if(be&&G[be])delete G[be],we=ce(J,G);else return!1}return we}function fe(J,G,pe){switch(n.propertiesTypes[G]){case"byte":{J.write(r.from([n.properties[G]])),J.write(r.from([+pe]));break}case"int8":{J.write(r.from([n.properties[G]])),J.write(r.from([pe]));break}case"binary":{J.write(r.from([n.properties[G]])),$(J,pe);break}case"int16":{J.write(r.from([n.properties[G]])),w(J,pe);break}case"int32":{J.write(r.from([n.properties[G]])),ye(J,pe);break}case"var":{J.write(r.from([n.properties[G]])),ue(J,pe);break}case"string":{J.write(r.from([n.properties[G]])),X(J,pe);break}case"pair":{Object.getOwnPropertyNames(pe).forEach(ee=>{let ne=pe[ee];Array.isArray(ne)?ne.forEach(re=>{J.write(r.from([n.properties[G]])),Ee(J,ee.toString(),re.toString())}):(J.write(r.from([n.properties[G]])),Ee(J,ee.toString(),ne.toString()))});break}default:return J.destroy(new Error(`Invalid property ${G} value: ${pe}`)),!1}}function ge(J,G,pe){ue(J,pe);for(let ee in G)if(Object.prototype.hasOwnProperty.call(G,ee)&&G[ee]!=null){let ne=G[ee];if(Array.isArray(ne))for(let re=0;re<ne.length;re++)fe(J,ee,ne[re]);else fe(J,ee,ne)}}function V(J){return J?J instanceof r?J.length:r.byteLength(J):0}function xe(J){return typeof J=="string"||J instanceof r}t.exports=P}),uI=Oe((e,t)=>{Pe(),Ce(),Te();var n=h1(),{EventEmitter:r}=(Ho(),wt(ro)),{Buffer:s}=(sn(),wt(on));function o(u,c){let h=new a;return n(u,h,c),h.concat()}var a=class extends r{constructor(){super(),this._array=new Array(20),this._i=0}write(u){return this._array[this._i++]=u,!0}concat(){let u=0,c=new Array(this._array.length),h=this._array,d=0,p;for(p=0;p<h.length&&h[p]!==void 0;p++)typeof h[p]!="string"?c[p]=h[p].length:c[p]=s.byteLength(h[p]),u+=c[p];let m=s.allocUnsafe(u);for(p=0;p<h.length&&h[p]!==void 0;p++)typeof h[p]!="string"?(h[p].copy(m,d),d+=c[p]):(m.write(h[p],d),d+=c[p]);return m}destroy(u){u&&this.emit("error",u)}};t.exports=o}),cI=Oe(e=>{Pe(),Ce(),Te(),e.parser=sI().parser,e.generate=uI(),e.writeToStream=h1()}),f1=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let n=this.nextId++;return this.nextId===65536&&(this.nextId=1),n}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(n){return!0}deallocate(n){}clear(){}};e.default=t}),hI=Oe((e,t)=>{Pe(),Ce(),Te(),t.exports=r;function n(o){return o instanceof mc?mc.from(o):new o.constructor(o.buffer.slice(),o.byteOffset,o.length)}function r(o){if(o=o||{},o.circles)return s(o);let a=new Map;if(a.set(Date,p=>new Date(p)),a.set(Map,(p,m)=>new Map(c(Array.from(p),m))),a.set(Set,(p,m)=>new Set(c(Array.from(p),m))),o.constructorHandlers)for(let p of o.constructorHandlers)a.set(p[0],p[1]);let u=null;return o.proto?d:h;function c(p,m){let g=Object.keys(p),w=new Array(g.length);for(let x=0;x<g.length;x++){let P=g[x],A=p[P];typeof A!="object"||A===null?w[P]=A:A.constructor!==Object&&(u=a.get(A.constructor))?w[P]=u(A,m):ArrayBuffer.isView(A)?w[P]=n(A):w[P]=m(A)}return w}function h(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return c(p,h);if(p.constructor!==Object&&(u=a.get(p.constructor)))return u(p,h);let m={};for(let g in p){if(Object.hasOwnProperty.call(p,g)===!1)continue;let w=p[g];typeof w!="object"||w===null?m[g]=w:w.constructor!==Object&&(u=a.get(w.constructor))?m[g]=u(w,h):ArrayBuffer.isView(w)?m[g]=n(w):m[g]=h(w)}return m}function d(p){if(typeof p!="object"||p===null)return p;if(Array.isArray(p))return c(p,d);if(p.constructor!==Object&&(u=a.get(p.constructor)))return u(p,d);let m={};for(let g in p){let w=p[g];typeof w!="object"||w===null?m[g]=w:w.constructor!==Object&&(u=a.get(w.constructor))?m[g]=u(w,d):ArrayBuffer.isView(w)?m[g]=n(w):m[g]=d(w)}return m}}function s(o){let a=[],u=[],c=new Map;if(c.set(Date,g=>new Date(g)),c.set(Map,(g,w)=>new Map(d(Array.from(g),w))),c.set(Set,(g,w)=>new Set(d(Array.from(g),w))),o.constructorHandlers)for(let g of o.constructorHandlers)c.set(g[0],g[1]);let h=null;return o.proto?m:p;function d(g,w){let x=Object.keys(g),P=new Array(x.length);for(let A=0;A<x.length;A++){let y=x[A],S=g[y];if(typeof S!="object"||S===null)P[y]=S;else if(S.constructor!==Object&&(h=c.get(S.constructor)))P[y]=h(S,w);else if(ArrayBuffer.isView(S))P[y]=n(S);else{let I=a.indexOf(S);I!==-1?P[y]=u[I]:P[y]=w(S)}}return P}function p(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return d(g,p);if(g.constructor!==Object&&(h=c.get(g.constructor)))return h(g,p);let w={};a.push(g),u.push(w);for(let x in g){if(Object.hasOwnProperty.call(g,x)===!1)continue;let P=g[x];if(typeof P!="object"||P===null)w[x]=P;else if(P.constructor!==Object&&(h=c.get(P.constructor)))w[x]=h(P,p);else if(ArrayBuffer.isView(P))w[x]=n(P);else{let A=a.indexOf(P);A!==-1?w[x]=u[A]:w[x]=p(P)}}return a.pop(),u.pop(),w}function m(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return d(g,m);if(g.constructor!==Object&&(h=c.get(g.constructor)))return h(g,m);let w={};a.push(g),u.push(w);for(let x in g){let P=g[x];if(typeof P!="object"||P===null)w[x]=P;else if(P.constructor!==Object&&(h=c.get(P.constructor)))w[x]=h(P,m);else if(ArrayBuffer.isView(P))w[x]=n(P);else{let A=a.indexOf(P);A!==-1?w[x]=u[A]:w[x]=m(P)}}return a.pop(),u.pop(),w}}}),fI=Oe((e,t)=>{Pe(),Ce(),Te(),t.exports=hI()()}),dI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopic=t,e.validateTopics=n;function t(r){let s=r.split("/");for(let o=0;o<s.length;o++)if(s[o]!=="+"){if(s[o]==="#")return o===s.length-1;if(s[o].indexOf("+")!==-1||s[o].indexOf("#")!==-1)return!1}return!0}function n(r){if(r.length===0)return"empty_topic_list";for(let s=0;s<r.length;s++)if(!t(r[s]))return r[s];return null}}),d1=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Zo(),n={objectMode:!0},r={clean:!0},s=class{constructor(o){this.options=o||{},this.options=Object.assign(Object.assign({},r),o),this._inflights=new Map}put(o,a){return this._inflights.set(o.messageId,o),a&&a(),this}createStream(){let o=new t.Readable(n),a=[],u=!1,c=0;return this._inflights.forEach((h,d)=>{a.push(h)}),o._read=()=>{!u&&c<a.length?o.push(a[c++]):o.push(null)},o.destroy=h=>{if(!u)return u=!0,setTimeout(()=>{o.emit("close")},0),o},o}del(o,a){let u=this._inflights.get(o.messageId);return u?(this._inflights.delete(o.messageId),a(null,u)):a&&a(new Error("missing packet")),this}get(o,a){let u=this._inflights.get(o.messageId);return u?a(null,u):a&&a(new Error("missing packet")),this}close(o){this.options.clean&&(this._inflights=null),o&&o()}};e.default=s}),pI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],n=(r,s,o)=>{r.log("handlePublish: packet %o",s),o=typeof o<"u"?o:r.noop;let a=s.topic.toString(),u=s.payload,{qos:c}=s,{messageId:h}=s,{options:d}=r;if(r.options.protocolVersion===5){let p;if(s.properties&&(p=s.properties.topicAlias),typeof p<"u")if(a.length===0)if(p>0&&p<=65535){let m=r.topicAliasRecv.getTopicByAlias(p);if(m)a=m,r.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",a,p);else{r.log("handlePublish :: unregistered topic alias. alias: %d",p),r.emit("error",new Error("Received unregistered Topic Alias"));return}}else{r.log("handlePublish :: topic alias out of range. alias: %d",p),r.emit("error",new Error("Received Topic Alias is out of range"));return}else if(r.topicAliasRecv.put(a,p))r.log("handlePublish :: registered topic: %s - alias: %d",a,p);else{r.log("handlePublish :: topic alias out of range. alias: %d",p),r.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(r.log("handlePublish: qos %d",c),c){case 2:{d.customHandleAcks(a,u,s,(p,m)=>{if(typeof p=="number"&&(m=p,p=null),p)return r.emit("error",p);if(t.indexOf(m)===-1)return r.emit("error",new Error("Wrong reason code for pubrec"));m?r._sendPacket({cmd:"pubrec",messageId:h,reasonCode:m},o):r.incomingStore.put(s,()=>{r._sendPacket({cmd:"pubrec",messageId:h},o)})});break}case 1:{d.customHandleAcks(a,u,s,(p,m)=>{if(typeof p=="number"&&(m=p,p=null),p)return r.emit("error",p);if(t.indexOf(m)===-1)return r.emit("error",new Error("Wrong reason code for puback"));m||r.emit("message",a,u,s),r.handleMessage(s,g=>{if(g)return o&&o(g);r._sendPacket({cmd:"puback",messageId:h,reasonCode:m},o)})});break}case 0:r.emit("message",a,u,s),r.handleMessage(s,o);break;default:r.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=n}),mI=Oe((e,t)=>{t.exports={version:"5.13.1"}}),Ks=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.ErrorWithSubackPacket=e.ErrorWithReasonCode=void 0,e.applyMixin=r;var t=class p1 extends Error{constructor(o,a){super(o),this.code=a,Object.setPrototypeOf(this,p1.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;var n=class m1 extends Error{constructor(o,a){super(o),this.packet=a,Object.setPrototypeOf(this,m1.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};e.ErrorWithSubackPacket=n;function r(s,o,a=!1){var u;let c=[o];for(;;){let h=c[0],d=Object.getPrototypeOf(h);if(d!=null&&d.prototype)c.unshift(d);else break}for(let h of c)for(let d of Object.getOwnPropertyNames(h.prototype))(a||d!=="constructor")&&Object.defineProperty(s.prototype,d,(u=Object.getOwnPropertyDescriptor(h.prototype,d))!==null&&u!==void 0?u:Object.create(null))}e.nextTick=typeof(pt==null?void 0:pt.nextTick)=="function"?pt.nextTick:s=>{setTimeout(s,0)},e.MQTTJS_VERSION=mI().version}),Kc=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=Ks();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var n=(r,s)=>{let{messageId:o}=s,a=s.cmd,u=null,c=r.outgoing[o]?r.outgoing[o].cb:null,h=null;if(!c){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",a),a){case"pubcomp":case"puback":{let d=s.reasonCode;d&&d>0&&d!==16?(h=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[d]}`,d),r._removeOutgoingAndStoreMessage(o,()=>{c(h,s)})):r._removeOutgoingAndStoreMessage(o,c);break}case"pubrec":{u={cmd:"pubrel",qos:2,messageId:o};let d=s.reasonCode;d&&d>0&&d!==16?(h=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[d]}`,d),r._removeOutgoingAndStoreMessage(o,()=>{c(h,s)})):r._sendPacket(u);break}case"suback":{delete r.outgoing[o],r.messageIdProvider.deallocate(o);let d=s.granted;for(let p=0;p<d.length;p++){let m=d[p];if(m&128){h=new Error(`Subscribe error: ${e.ReasonCodes[m]}`),h.code=m;let g=r.messageIdToTopic[o];g&&g.forEach(w=>{delete r._resubscribeTopics[w]})}}delete r.messageIdToTopic[o],r._invokeStoreProcessingQueue(),c(h,s);break}case"unsuback":{delete r.outgoing[o],r.messageIdProvider.deallocate(o),r._invokeStoreProcessingQueue(),c(null,s);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};e.default=n}),gI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=Ks(),n=Kc(),r=(s,o)=>{let{options:a}=s,u=a.protocolVersion,c=u===5?o.reasonCode:o.returnCode;if(u!==5){let h=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${u}`,c);s.emit("error",h);return}s.handleAuth(o,(h,d)=>{if(h){s.emit("error",h);return}if(c===24)s.reconnecting=!1,s._sendPacket(d);else{let p=new t.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[c]}`,c);s.emit("error",p)}})};e.default=r}),_I=Oe(e=>{var g,w,x,P,A,y,S,I,R,T,C,N,te,ie,he,U,se,ue,X,Ee,ke,K,ye,$,ce,j,fe,ge,V,Ip,J,G,pe,ee,g1,re,we,be,Mi,Ii,Op,Mu,Iu,Mt,Rp,Aa,Oi,Np,Xe;Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,n=new Set,r=typeof pt=="object"&&pt?pt:{},s=(v,b,E,O)=>{typeof r.emitWarning=="function"?r.emitWarning(v,b,E,O):console.error(`[${E}] ${b}: ${v}`)},o=globalThis.AbortController,a=globalThis.AbortSignal;if(typeof o>"u"){a=class{constructor(){gt(this,"onabort");gt(this,"_onabort",[]);gt(this,"reason");gt(this,"aborted",!1)}addEventListener(E,O){this._onabort.push(O)}},o=class{constructor(){gt(this,"signal",new a);b()}abort(E){var O,z;if(!this.signal.aborted){this.signal.reason=E,this.signal.aborted=!0;for(let q of this.signal._onabort)q(E);(z=(O=this.signal).onabort)==null||z.call(O,E)}}};let v=((g=r.env)==null?void 0:g.LRU_CACHE_IGNORE_AC_WARNING)!=="1",b=()=>{v&&(v=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",b))}}var u=v=>!n.has(v),c=v=>v&&v===Math.floor(v)&&v>0&&isFinite(v),h=v=>c(v)?v<=Math.pow(2,8)?Uint8Array:v<=Math.pow(2,16)?Uint16Array:v<=Math.pow(2,32)?Uint32Array:v<=Number.MAX_SAFE_INTEGER?d:null:null,d=class extends Array{constructor(v){super(v),this.fill(0)}},p=(w=class{constructor(b,E){gt(this,"heap");gt(this,"length");if(!F(w,x))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(b),this.length=0}static create(b){let E=h(b);if(!E)return[];Qe(w,x,!0);let O=new w(b,E);return Qe(w,x,!1),O}push(b){this.heap[this.length++]=b}pop(){return this.heap[--this.length]}},x=new WeakMap,ct(w,x,!1),w),m=(Xe=class{constructor(b){ct(this,V);ct(this,y);ct(this,S);ct(this,I);ct(this,R);ct(this,T);ct(this,C);gt(this,"ttl");gt(this,"ttlResolution");gt(this,"ttlAutopurge");gt(this,"updateAgeOnGet");gt(this,"updateAgeOnHas");gt(this,"allowStale");gt(this,"noDisposeOnSet");gt(this,"noUpdateTTL");gt(this,"maxEntrySize");gt(this,"sizeCalculation");gt(this,"noDeleteOnFetchRejection");gt(this,"noDeleteOnStaleGet");gt(this,"allowStaleOnFetchAbort");gt(this,"allowStaleOnFetchRejection");gt(this,"ignoreFetchAbort");ct(this,N);ct(this,te);ct(this,ie);ct(this,he);ct(this,U);ct(this,se);ct(this,ue);ct(this,X);ct(this,Ee);ct(this,ke);ct(this,K);ct(this,ye);ct(this,$);ct(this,ce);ct(this,j);ct(this,fe);ct(this,ge);ct(this,J,()=>{});ct(this,G,()=>{});ct(this,pe,()=>{});ct(this,ee,()=>!1);ct(this,re,b=>{});ct(this,we,(b,E,O)=>{});ct(this,be,(b,E,O,z)=>{if(O||z)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});gt(this,P,"LRUCache");let{max:E=0,ttl:O,ttlResolution:z=1,ttlAutopurge:q,updateAgeOnGet:oe,updateAgeOnHas:Be,allowStale:je,dispose:qe,disposeAfter:nt,noDisposeOnSet:Ke,noUpdateTTL:Vn,maxSize:dn=0,maxEntrySize:pn=0,sizeCalculation:St,fetchMethod:Vt,memoMethod:Je,noDeleteOnFetchRejection:vt,noDeleteOnStaleGet:Jt,allowStaleOnFetchRejection:Ht,allowStaleOnFetchAbort:an,ignoreFetchAbort:xr}=b;if(E!==0&&!c(E))throw new TypeError("max option must be a nonnegative integer");let B=E?h(E):Array;if(!B)throw new Error("invalid max value: "+E);if(Qe(this,y,E),Qe(this,S,dn),this.maxEntrySize=pn||F(this,S),this.sizeCalculation=St,this.sizeCalculation){if(!F(this,S)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Je!==void 0&&typeof Je!="function")throw new TypeError("memoMethod must be a function if defined");if(Qe(this,C,Je),Vt!==void 0&&typeof Vt!="function")throw new TypeError("fetchMethod must be a function if specified");if(Qe(this,T,Vt),Qe(this,fe,!!Vt),Qe(this,ie,new Map),Qe(this,he,new Array(E).fill(void 0)),Qe(this,U,new Array(E).fill(void 0)),Qe(this,se,new B(E)),Qe(this,ue,new B(E)),Qe(this,X,0),Qe(this,Ee,0),Qe(this,ke,p.create(E)),Qe(this,N,0),Qe(this,te,0),typeof qe=="function"&&Qe(this,I,qe),typeof nt=="function"?(Qe(this,R,nt),Qe(this,K,[])):(Qe(this,R,void 0),Qe(this,K,void 0)),Qe(this,j,!!F(this,I)),Qe(this,ge,!!F(this,R)),this.noDisposeOnSet=!!Ke,this.noUpdateTTL=!!Vn,this.noDeleteOnFetchRejection=!!vt,this.allowStaleOnFetchRejection=!!Ht,this.allowStaleOnFetchAbort=!!an,this.ignoreFetchAbort=!!xr,this.maxEntrySize!==0){if(F(this,S)!==0&&!c(F(this,S)))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");He(this,V,g1).call(this)}if(this.allowStale=!!je,this.noDeleteOnStaleGet=!!Jt,this.updateAgeOnGet=!!oe,this.updateAgeOnHas=!!Be,this.ttlResolution=c(z)||z===0?z:1,this.ttlAutopurge=!!q,this.ttl=O||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");He(this,V,Ip).call(this)}if(F(this,y)===0&&this.ttl===0&&F(this,S)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!F(this,y)&&!F(this,S)){let W="LRU_CACHE_UNBOUNDED";u(W)&&(n.add(W),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",W,Xe))}}static unsafeExposeInternals(b){return{starts:F(b,$),ttls:F(b,ce),sizes:F(b,ye),keyMap:F(b,ie),keyList:F(b,he),valList:F(b,U),next:F(b,se),prev:F(b,ue),get head(){return F(b,X)},get tail(){return F(b,Ee)},free:F(b,ke),isBackgroundFetch:E=>{var O;return He(O=b,V,Mt).call(O,E)},backgroundFetch:(E,O,z,q)=>{var oe;return He(oe=b,V,Iu).call(oe,E,O,z,q)},moveToTail:E=>{var O;return He(O=b,V,Aa).call(O,E)},indexes:E=>{var O;return He(O=b,V,Mi).call(O,E)},rindexes:E=>{var O;return He(O=b,V,Ii).call(O,E)},isStale:E=>{var O;return F(O=b,ee).call(O,E)}}}get max(){return F(this,y)}get maxSize(){return F(this,S)}get calculatedSize(){return F(this,te)}get size(){return F(this,N)}get fetchMethod(){return F(this,T)}get memoMethod(){return F(this,C)}get dispose(){return F(this,I)}get disposeAfter(){return F(this,R)}getRemainingTTL(b){return F(this,ie).has(b)?1/0:0}*entries(){for(let b of He(this,V,Mi).call(this))F(this,U)[b]!==void 0&&F(this,he)[b]!==void 0&&!He(this,V,Mt).call(this,F(this,U)[b])&&(yield[F(this,he)[b],F(this,U)[b]])}*rentries(){for(let b of He(this,V,Ii).call(this))F(this,U)[b]!==void 0&&F(this,he)[b]!==void 0&&!He(this,V,Mt).call(this,F(this,U)[b])&&(yield[F(this,he)[b],F(this,U)[b]])}*keys(){for(let b of He(this,V,Mi).call(this)){let E=F(this,he)[b];E!==void 0&&!He(this,V,Mt).call(this,F(this,U)[b])&&(yield E)}}*rkeys(){for(let b of He(this,V,Ii).call(this)){let E=F(this,he)[b];E!==void 0&&!He(this,V,Mt).call(this,F(this,U)[b])&&(yield E)}}*values(){for(let b of He(this,V,Mi).call(this))F(this,U)[b]!==void 0&&!He(this,V,Mt).call(this,F(this,U)[b])&&(yield F(this,U)[b])}*rvalues(){for(let b of He(this,V,Ii).call(this))F(this,U)[b]!==void 0&&!He(this,V,Mt).call(this,F(this,U)[b])&&(yield F(this,U)[b])}[(A=Symbol.iterator,P=Symbol.toStringTag,A)](){return this.entries()}find(b,E={}){for(let O of He(this,V,Mi).call(this)){let z=F(this,U)[O],q=He(this,V,Mt).call(this,z)?z.__staleWhileFetching:z;if(q!==void 0&&b(q,F(this,he)[O],this))return this.get(F(this,he)[O],E)}}forEach(b,E=this){for(let O of He(this,V,Mi).call(this)){let z=F(this,U)[O],q=He(this,V,Mt).call(this,z)?z.__staleWhileFetching:z;q!==void 0&&b.call(E,q,F(this,he)[O],this)}}rforEach(b,E=this){for(let O of He(this,V,Ii).call(this)){let z=F(this,U)[O],q=He(this,V,Mt).call(this,z)?z.__staleWhileFetching:z;q!==void 0&&b.call(E,q,F(this,he)[O],this)}}purgeStale(){let b=!1;for(let E of He(this,V,Ii).call(this,{allowStale:!0}))F(this,ee).call(this,E)&&(He(this,V,Oi).call(this,F(this,he)[E],"expire"),b=!0);return b}info(b){let E=F(this,ie).get(b);if(E===void 0)return;let O=F(this,U)[E],z=He(this,V,Mt).call(this,O)?O.__staleWhileFetching:O;if(z===void 0)return;let q={value:z};if(F(this,ce)&&F(this,$)){let oe=F(this,ce)[E],Be=F(this,$)[E];if(oe&&Be){let je=oe-(t.now()-Be);q.ttl=je,q.start=Date.now()}}return F(this,ye)&&(q.size=F(this,ye)[E]),q}dump(){let b=[];for(let E of He(this,V,Mi).call(this,{allowStale:!0})){let O=F(this,he)[E],z=F(this,U)[E],q=He(this,V,Mt).call(this,z)?z.__staleWhileFetching:z;if(q===void 0||O===void 0)continue;let oe={value:q};if(F(this,ce)&&F(this,$)){oe.ttl=F(this,ce)[E];let Be=t.now()-F(this,$)[E];oe.start=Math.floor(Date.now()-Be)}F(this,ye)&&(oe.size=F(this,ye)[E]),b.unshift([O,oe])}return b}load(b){this.clear();for(let[E,O]of b){if(O.start){let z=Date.now()-O.start;O.start=t.now()-z}this.set(E,O.value,O)}}set(b,E,O={}){var Vn,dn,pn,St,Vt;if(E===void 0)return this.delete(b),this;let{ttl:z=this.ttl,start:q,noDisposeOnSet:oe=this.noDisposeOnSet,sizeCalculation:Be=this.sizeCalculation,status:je}=O,{noUpdateTTL:qe=this.noUpdateTTL}=O,nt=F(this,be).call(this,b,E,O.size||0,Be);if(this.maxEntrySize&&nt>this.maxEntrySize)return je&&(je.set="miss",je.maxEntrySizeExceeded=!0),He(this,V,Oi).call(this,b,"set"),this;let Ke=F(this,N)===0?void 0:F(this,ie).get(b);if(Ke===void 0)Ke=F(this,N)===0?F(this,Ee):F(this,ke).length!==0?F(this,ke).pop():F(this,N)===F(this,y)?He(this,V,Mu).call(this,!1):F(this,N),F(this,he)[Ke]=b,F(this,U)[Ke]=E,F(this,ie).set(b,Ke),F(this,se)[F(this,Ee)]=Ke,F(this,ue)[Ke]=F(this,Ee),Qe(this,Ee,Ke),jl(this,N)._++,F(this,we).call(this,Ke,nt,je),je&&(je.set="add"),qe=!1;else{He(this,V,Aa).call(this,Ke);let Je=F(this,U)[Ke];if(E!==Je){if(F(this,fe)&&He(this,V,Mt).call(this,Je)){Je.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:vt}=Je;vt!==void 0&&!oe&&(F(this,j)&&((Vn=F(this,I))==null||Vn.call(this,vt,b,"set")),F(this,ge)&&((dn=F(this,K))==null||dn.push([vt,b,"set"])))}else oe||(F(this,j)&&((pn=F(this,I))==null||pn.call(this,Je,b,"set")),F(this,ge)&&((St=F(this,K))==null||St.push([Je,b,"set"])));if(F(this,re).call(this,Ke),F(this,we).call(this,Ke,nt,je),F(this,U)[Ke]=E,je){je.set="replace";let vt=Je&&He(this,V,Mt).call(this,Je)?Je.__staleWhileFetching:Je;vt!==void 0&&(je.oldValue=vt)}}else je&&(je.set="update")}if(z!==0&&!F(this,ce)&&He(this,V,Ip).call(this),F(this,ce)&&(qe||F(this,pe).call(this,Ke,z,q),je&&F(this,G).call(this,je,Ke)),!oe&&F(this,ge)&&F(this,K)){let Je=F(this,K),vt;for(;vt=Je==null?void 0:Je.shift();)(Vt=F(this,R))==null||Vt.call(this,...vt)}return this}pop(){var b;try{for(;F(this,N);){let E=F(this,U)[F(this,X)];if(He(this,V,Mu).call(this,!0),He(this,V,Mt).call(this,E)){if(E.__staleWhileFetching)return E.__staleWhileFetching}else if(E!==void 0)return E}}finally{if(F(this,ge)&&F(this,K)){let E=F(this,K),O;for(;O=E==null?void 0:E.shift();)(b=F(this,R))==null||b.call(this,...O)}}}has(b,E={}){let{updateAgeOnHas:O=this.updateAgeOnHas,status:z}=E,q=F(this,ie).get(b);if(q!==void 0){let oe=F(this,U)[q];if(He(this,V,Mt).call(this,oe)&&oe.__staleWhileFetching===void 0)return!1;if(F(this,ee).call(this,q))z&&(z.has="stale",F(this,G).call(this,z,q));else return O&&F(this,J).call(this,q),z&&(z.has="hit",F(this,G).call(this,z,q)),!0}else z&&(z.has="miss");return!1}peek(b,E={}){let{allowStale:O=this.allowStale}=E,z=F(this,ie).get(b);if(z===void 0||!O&&F(this,ee).call(this,z))return;let q=F(this,U)[z];return He(this,V,Mt).call(this,q)?q.__staleWhileFetching:q}async fetch(b,E={}){let{allowStale:O=this.allowStale,updateAgeOnGet:z=this.updateAgeOnGet,noDeleteOnStaleGet:q=this.noDeleteOnStaleGet,ttl:oe=this.ttl,noDisposeOnSet:Be=this.noDisposeOnSet,size:je=0,sizeCalculation:qe=this.sizeCalculation,noUpdateTTL:nt=this.noUpdateTTL,noDeleteOnFetchRejection:Ke=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Vn=this.allowStaleOnFetchRejection,ignoreFetchAbort:dn=this.ignoreFetchAbort,allowStaleOnFetchAbort:pn=this.allowStaleOnFetchAbort,context:St,forceRefresh:Vt=!1,status:Je,signal:vt}=E;if(!F(this,fe))return Je&&(Je.fetch="get"),this.get(b,{allowStale:O,updateAgeOnGet:z,noDeleteOnStaleGet:q,status:Je});let Jt={allowStale:O,updateAgeOnGet:z,noDeleteOnStaleGet:q,ttl:oe,noDisposeOnSet:Be,size:je,sizeCalculation:qe,noUpdateTTL:nt,noDeleteOnFetchRejection:Ke,allowStaleOnFetchRejection:Vn,allowStaleOnFetchAbort:pn,ignoreFetchAbort:dn,status:Je,signal:vt},Ht=F(this,ie).get(b);if(Ht===void 0){Je&&(Je.fetch="miss");let an=He(this,V,Iu).call(this,b,Ht,Jt,St);return an.__returned=an}else{let an=F(this,U)[Ht];if(He(this,V,Mt).call(this,an)){let Le=O&&an.__staleWhileFetching!==void 0;return Je&&(Je.fetch="inflight",Le&&(Je.returnedStale=!0)),Le?an.__staleWhileFetching:an.__returned=an}let xr=F(this,ee).call(this,Ht);if(!Vt&&!xr)return Je&&(Je.fetch="hit"),He(this,V,Aa).call(this,Ht),z&&F(this,J).call(this,Ht),Je&&F(this,G).call(this,Je,Ht),an;let B=He(this,V,Iu).call(this,b,Ht,Jt,St),W=B.__staleWhileFetching!==void 0&&O;return Je&&(Je.fetch=xr?"stale":"refresh",W&&xr&&(Je.returnedStale=!0)),W?B.__staleWhileFetching:B.__returned=B}}async forceFetch(b,E={}){let O=await this.fetch(b,E);if(O===void 0)throw new Error("fetch() returned undefined");return O}memo(b,E={}){let O=F(this,C);if(!O)throw new Error("no memoMethod provided to constructor");let{context:z,forceRefresh:q,...oe}=E,Be=this.get(b,oe);if(!q&&Be!==void 0)return Be;let je=O(b,Be,{options:oe,context:z});return this.set(b,je,oe),je}get(b,E={}){let{allowStale:O=this.allowStale,updateAgeOnGet:z=this.updateAgeOnGet,noDeleteOnStaleGet:q=this.noDeleteOnStaleGet,status:oe}=E,Be=F(this,ie).get(b);if(Be!==void 0){let je=F(this,U)[Be],qe=He(this,V,Mt).call(this,je);return oe&&F(this,G).call(this,oe,Be),F(this,ee).call(this,Be)?(oe&&(oe.get="stale"),qe?(oe&&O&&je.__staleWhileFetching!==void 0&&(oe.returnedStale=!0),O?je.__staleWhileFetching:void 0):(q||He(this,V,Oi).call(this,b,"expire"),oe&&O&&(oe.returnedStale=!0),O?je:void 0)):(oe&&(oe.get="hit"),qe?je.__staleWhileFetching:(He(this,V,Aa).call(this,Be),z&&F(this,J).call(this,Be),je))}else oe&&(oe.get="miss")}delete(b){return He(this,V,Oi).call(this,b,"delete")}clear(){return He(this,V,Np).call(this,"delete")}},y=new WeakMap,S=new WeakMap,I=new WeakMap,R=new WeakMap,T=new WeakMap,C=new WeakMap,N=new WeakMap,te=new WeakMap,ie=new WeakMap,he=new WeakMap,U=new WeakMap,se=new WeakMap,ue=new WeakMap,X=new WeakMap,Ee=new WeakMap,ke=new WeakMap,K=new WeakMap,ye=new WeakMap,$=new WeakMap,ce=new WeakMap,j=new WeakMap,fe=new WeakMap,ge=new WeakMap,V=new WeakSet,Ip=function(){let b=new d(F(this,y)),E=new d(F(this,y));Qe(this,ce,b),Qe(this,$,E),Qe(this,pe,(q,oe,Be=t.now())=>{if(E[q]=oe!==0?Be:0,b[q]=oe,oe!==0&&this.ttlAutopurge){let je=setTimeout(()=>{F(this,ee).call(this,q)&&He(this,V,Oi).call(this,F(this,he)[q],"expire")},oe+1);je.unref&&je.unref()}}),Qe(this,J,q=>{E[q]=b[q]!==0?t.now():0}),Qe(this,G,(q,oe)=>{if(b[oe]){let Be=b[oe],je=E[oe];if(!Be||!je)return;q.ttl=Be,q.start=je,q.now=O||z();let qe=q.now-je;q.remainingTTL=Be-qe}});let O=0,z=()=>{let q=t.now();if(this.ttlResolution>0){O=q;let oe=setTimeout(()=>O=0,this.ttlResolution);oe.unref&&oe.unref()}return q};this.getRemainingTTL=q=>{let oe=F(this,ie).get(q);if(oe===void 0)return 0;let Be=b[oe],je=E[oe];if(!Be||!je)return 1/0;let qe=(O||z())-je;return Be-qe},Qe(this,ee,q=>{let oe=E[q],Be=b[q];return!!Be&&!!oe&&(O||z())-oe>Be})},J=new WeakMap,G=new WeakMap,pe=new WeakMap,ee=new WeakMap,g1=function(){let b=new d(F(this,y));Qe(this,te,0),Qe(this,ye,b),Qe(this,re,E=>{Qe(this,te,F(this,te)-b[E]),b[E]=0}),Qe(this,be,(E,O,z,q)=>{if(He(this,V,Mt).call(this,O))return 0;if(!c(z))if(q){if(typeof q!="function")throw new TypeError("sizeCalculation must be a function");if(z=q(O,E),!c(z))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return z}),Qe(this,we,(E,O,z)=>{if(b[E]=O,F(this,S)){let q=F(this,S)-b[E];for(;F(this,te)>q;)He(this,V,Mu).call(this,!0)}Qe(this,te,F(this,te)+b[E]),z&&(z.entrySize=O,z.totalCalculatedSize=F(this,te))})},re=new WeakMap,we=new WeakMap,be=new WeakMap,Mi=function*({allowStale:b=this.allowStale}={}){if(F(this,N))for(let E=F(this,Ee);!(!He(this,V,Op).call(this,E)||((b||!F(this,ee).call(this,E))&&(yield E),E===F(this,X)));)E=F(this,ue)[E]},Ii=function*({allowStale:b=this.allowStale}={}){if(F(this,N))for(let E=F(this,X);!(!He(this,V,Op).call(this,E)||((b||!F(this,ee).call(this,E))&&(yield E),E===F(this,Ee)));)E=F(this,se)[E]},Op=function(b){return b!==void 0&&F(this,ie).get(F(this,he)[b])===b},Mu=function(b){var q,oe;let E=F(this,X),O=F(this,he)[E],z=F(this,U)[E];return F(this,fe)&&He(this,V,Mt).call(this,z)?z.__abortController.abort(new Error("evicted")):(F(this,j)||F(this,ge))&&(F(this,j)&&((q=F(this,I))==null||q.call(this,z,O,"evict")),F(this,ge)&&((oe=F(this,K))==null||oe.push([z,O,"evict"]))),F(this,re).call(this,E),b&&(F(this,he)[E]=void 0,F(this,U)[E]=void 0,F(this,ke).push(E)),F(this,N)===1?(Qe(this,X,Qe(this,Ee,0)),F(this,ke).length=0):Qe(this,X,F(this,se)[E]),F(this,ie).delete(O),jl(this,N)._--,E},Iu=function(b,E,O,z){let q=E===void 0?void 0:F(this,U)[E];if(He(this,V,Mt).call(this,q))return q;let oe=new o,{signal:Be}=O;Be==null||Be.addEventListener("abort",()=>oe.abort(Be.reason),{signal:oe.signal});let je={signal:oe.signal,options:O,context:z},qe=(St,Vt=!1)=>{let{aborted:Je}=oe.signal,vt=O.ignoreFetchAbort&&St!==void 0;if(O.status&&(Je&&!Vt?(O.status.fetchAborted=!0,O.status.fetchError=oe.signal.reason,vt&&(O.status.fetchAbortIgnored=!0)):O.status.fetchResolved=!0),Je&&!vt&&!Vt)return Ke(oe.signal.reason);let Jt=dn;return F(this,U)[E]===dn&&(St===void 0?Jt.__staleWhileFetching?F(this,U)[E]=Jt.__staleWhileFetching:He(this,V,Oi).call(this,b,"fetch"):(O.status&&(O.status.fetchUpdated=!0),this.set(b,St,je.options))),St},nt=St=>(O.status&&(O.status.fetchRejected=!0,O.status.fetchError=St),Ke(St)),Ke=St=>{let{aborted:Vt}=oe.signal,Je=Vt&&O.allowStaleOnFetchAbort,vt=Je||O.allowStaleOnFetchRejection,Jt=vt||O.noDeleteOnFetchRejection,Ht=dn;if(F(this,U)[E]===dn&&(!Jt||Ht.__staleWhileFetching===void 0?He(this,V,Oi).call(this,b,"fetch"):Je||(F(this,U)[E]=Ht.__staleWhileFetching)),vt)return O.status&&Ht.__staleWhileFetching!==void 0&&(O.status.returnedStale=!0),Ht.__staleWhileFetching;if(Ht.__returned===Ht)throw St},Vn=(St,Vt)=>{var vt;let Je=(vt=F(this,T))==null?void 0:vt.call(this,b,q,je);Je&&Je instanceof Promise&&Je.then(Jt=>St(Jt===void 0?void 0:Jt),Vt),oe.signal.addEventListener("abort",()=>{(!O.ignoreFetchAbort||O.allowStaleOnFetchAbort)&&(St(void 0),O.allowStaleOnFetchAbort&&(St=Jt=>qe(Jt,!0)))})};O.status&&(O.status.fetchDispatched=!0);let dn=new Promise(Vn).then(qe,nt),pn=Object.assign(dn,{__abortController:oe,__staleWhileFetching:q,__returned:void 0});return E===void 0?(this.set(b,pn,{...je.options,status:void 0}),E=F(this,ie).get(b)):F(this,U)[E]=pn,pn},Mt=function(b){if(!F(this,fe))return!1;let E=b;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof o},Rp=function(b,E){F(this,ue)[E]=b,F(this,se)[b]=E},Aa=function(b){b!==F(this,Ee)&&(b===F(this,X)?Qe(this,X,F(this,se)[b]):He(this,V,Rp).call(this,F(this,ue)[b],F(this,se)[b]),He(this,V,Rp).call(this,F(this,Ee),b),Qe(this,Ee,b))},Oi=function(b,E){var z,q,oe,Be;let O=!1;if(F(this,N)!==0){let je=F(this,ie).get(b);if(je!==void 0)if(O=!0,F(this,N)===1)He(this,V,Np).call(this,E);else{F(this,re).call(this,je);let qe=F(this,U)[je];if(He(this,V,Mt).call(this,qe)?qe.__abortController.abort(new Error("deleted")):(F(this,j)||F(this,ge))&&(F(this,j)&&((z=F(this,I))==null||z.call(this,qe,b,E)),F(this,ge)&&((q=F(this,K))==null||q.push([qe,b,E]))),F(this,ie).delete(b),F(this,he)[je]=void 0,F(this,U)[je]=void 0,je===F(this,Ee))Qe(this,Ee,F(this,ue)[je]);else if(je===F(this,X))Qe(this,X,F(this,se)[je]);else{let nt=F(this,ue)[je];F(this,se)[nt]=F(this,se)[je];let Ke=F(this,se)[je];F(this,ue)[Ke]=F(this,ue)[je]}jl(this,N)._--,F(this,ke).push(je)}}if(F(this,ge)&&((oe=F(this,K))!=null&&oe.length)){let je=F(this,K),qe;for(;qe=je==null?void 0:je.shift();)(Be=F(this,R))==null||Be.call(this,...qe)}return O},Np=function(b){var E,O,z;for(let q of He(this,V,Ii).call(this,{allowStale:!0})){let oe=F(this,U)[q];if(He(this,V,Mt).call(this,oe))oe.__abortController.abort(new Error("deleted"));else{let Be=F(this,he)[q];F(this,j)&&((E=F(this,I))==null||E.call(this,oe,Be,b)),F(this,ge)&&((O=F(this,K))==null||O.push([oe,Be,b]))}}if(F(this,ie).clear(),F(this,U).fill(void 0),F(this,he).fill(void 0),F(this,ce)&&F(this,$)&&(F(this,ce).fill(0),F(this,$).fill(0)),F(this,ye)&&F(this,ye).fill(0),Qe(this,X,0),Qe(this,Ee,0),F(this,ke).length=0,Qe(this,te,0),Qe(this,N,0),F(this,ge)&&F(this,K)){let q=F(this,K),oe;for(;oe=q==null?void 0:q.shift();)(z=F(this,R))==null||z.call(this,...oe)}},Xe);e.LRUCache=m}),Ei=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(s=0){this.iteratorType=s}equals(s){return this.o===s.o}};e.ContainerIterator=t;var n=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=n;var r=class extends n{};e.Container=r}),vI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ei(),n=class extends t.Base{constructor(s=[]){super(),this.S=[];let o=this;s.forEach(function(a){o.push(a)})}clear(){this.i=0,this.S=[]}push(s){return this.S.push(s),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},r=n;e.default=r}),yI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ei(),n=class extends t.Base{constructor(s=[]){super(),this.j=0,this.q=[];let o=this;s.forEach(function(a){o.push(a)})}clear(){this.q=[],this.i=this.j=0}push(s){let o=this.q.length;if(this.j/o>.5&&this.j+this.i>=o&&o>4096){let a=this.i;for(let u=0;u<a;++u)this.q[u]=this.q[this.j+u];this.j=0,this.q[this.i]=s}else this.q[this.j+this.i]=s;return++this.i}pop(){if(this.i===0)return;let s=this.q[this.j++];return this.i-=1,s}front(){if(this.i!==0)return this.q[this.j]}},r=n;e.default=r}),bI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ei(),n=class extends t.Base{constructor(s=[],o=function(u,c){return u>c?-1:u<c?1:0},a=!0){if(super(),this.v=o,Array.isArray(s))this.C=a?[...s]:s;else{this.C=[];let c=this;s.forEach(function(h){c.C.push(h)})}this.i=this.C.length;let u=this.i>>1;for(let c=this.i-1>>1;c>=0;--c)this.k(c,u)}m(s){let o=this.C[s];for(;s>0;){let a=s-1>>1,u=this.C[a];if(this.v(u,o)<=0)break;this.C[s]=u,s=a}this.C[s]=o}k(s,o){let a=this.C[s];for(;s<o;){let u=s<<1|1,c=u+1,h=this.C[u];if(c<this.i&&this.v(h,this.C[c])>0&&(u=c,h=this.C[c]),this.v(h,a)>=0)break;this.C[s]=h,s=u}this.C[s]=a}clear(){this.i=0,this.C.length=0}push(s){this.C.push(s),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let s=this.C[0],o=this.C.pop();return this.i-=1,this.i&&(this.C[0]=o,this.k(0,this.i>>1)),s}top(){return this.C[0]}find(s){return this.C.indexOf(s)>=0}remove(s){let o=this.C.indexOf(s);return o<0?!1:(o===0?this.pop():o===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(o,1,this.C.pop()),this.i-=1,this.m(o),this.k(o,this.i>>1)),!0)}updateItem(s){let o=this.C.indexOf(s);return o<0?!1:(this.m(o),this.k(o,this.i>>1),!0)}toArray(){return[...this.C]}},r=n;e.default=r}),ng=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ei(),n=class extends t.Container{},r=n;e.default=r}),ki=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),_1=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=Ei(),n=ki(),r=class extends t.ContainerIterator{constructor(s,o){super(o),this.o=s,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,n.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,n.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,n.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,n.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(s){this.container.setElementByPos(this.o,s)}};e.RandomIterator=r}),wI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r(ng()),n=_1();function r(u){return u&&u.t?u:{default:u}}var s=class v1 extends n.RandomIterator{constructor(c,h,d){super(c,d),this.container=h}copy(){return new v1(this.o,this.container,this.iteratorType)}},o=class extends t.default{constructor(u=[],c=!0){if(super(),Array.isArray(u))this.J=c?[...u]:u,this.i=u.length;else{this.J=[];let h=this;u.forEach(function(d){h.pushBack(d)})}}clear(){this.i=0,this.J.length=0}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J[u]}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;return this.J.splice(u,1),this.i-=1,this.i}eraseElementByValue(u){let c=0;for(let h=0;h<this.i;++h)this.J[h]!==u&&(this.J[c++]=this.J[h]);return this.i=this.J.length=c,this.i}eraseElementByIterator(u){let c=u.o;return u=u.next(),this.eraseElementByPos(c),u}pushBack(u){return this.J.push(u),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(u,c){if(u<0||u>this.i-1)throw new RangeError;this.J[u]=c}insert(u,c,h=1){if(u<0||u>this.i)throw new RangeError;return this.J.splice(u,0,...new Array(h).fill(c)),this.i+=h,this.i}find(u){for(let c=0;c<this.i;++c)if(this.J[c]===u)return new s(c,this);return this.end()}reverse(){this.J.reverse()}unique(){let u=1;for(let c=1;c<this.i;++c)this.J[c]!==this.J[c-1]&&(this.J[u++]=this.J[c]);return this.i=this.J.length=u,this.i}sort(u){this.J.sort(u)}forEach(u){for(let c=0;c<this.i;++c)u(this.J[c],c,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},a=o;e.default=a}),SI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=s(ng()),n=Ei(),r=ki();function s(c){return c&&c.t?c:{default:c}}var o=class y1 extends n.ContainerIterator{constructor(h,d,p,m){super(m),this.o=h,this.h=d,this.container=p,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l}set pointer(h){this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.l=h}copy(){return new y1(this.o,this.h,this.container,this.iteratorType)}},a=class extends t.default{constructor(c=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let h=this;c.forEach(function(d){h.pushBack(d)})}V(c){let{L:h,B:d}=c;h.B=d,d.L=h,c===this.p&&(this.p=d),c===this._&&(this._=h),this.i-=1}G(c,h){let d=h.B,p={l:c,L:h,B:d};h.B=p,d.L=p,h===this.h&&(this.p=p),d===this.h&&(this._=p),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let h=this.p;for(;c--;)h=h.B;return h.l}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let h=this.p;for(;c--;)h=h.B;return this.V(h),this.i}eraseElementByValue(c){let h=this.p;for(;h!==this.h;)h.l===c&&this.V(h),h=h.B;return this.i}eraseElementByIterator(c){let h=c.o;return h===this.h&&(0,r.throwIteratorAccessError)(),c=c.next(),this.V(h),c}pushBack(c){return this.G(c,this._),this.i}popBack(){if(this.i===0)return;let c=this._.l;return this.V(this._),c}pushFront(c){return this.G(c,this.h),this.i}popFront(){if(this.i===0)return;let c=this.p.l;return this.V(this.p),c}setElementByPos(c,h){if(c<0||c>this.i-1)throw new RangeError;let d=this.p;for(;c--;)d=d.B;d.l=h}insert(c,h,d=1){if(c<0||c>this.i)throw new RangeError;if(d<=0)return this.i;if(c===0)for(;d--;)this.pushFront(h);else if(c===this.i)for(;d--;)this.pushBack(h);else{let p=this.p;for(let g=1;g<c;++g)p=p.B;let m=p.B;for(this.i+=d;d--;)p.B={l:h,L:p},p.B.L=p,p=p.B;p.B=m,m.L=p}return this.i}find(c){let h=this.p;for(;h!==this.h;){if(h.l===c)return new o(h,this.h,this);h=h.B}return this.end()}reverse(){if(this.i<=1)return;let c=this.p,h=this._,d=0;for(;d<<1<this.i;){let p=c.l;c.l=h.l,h.l=p,c=c.B,h=h.L,d+=1}}unique(){if(this.i<=1)return this.i;let c=this.p;for(;c!==this.h;){let h=c;for(;h.B!==this.h&&h.l===h.B.l;)h=h.B,this.i-=1;c.B=h.B,c.B.L=c,c=c.B}return this.i}sort(c){if(this.i<=1)return;let h=[];this.forEach(function(p){h.push(p)}),h.sort(c);let d=this.p;h.forEach(function(p){d.l=p,d=d.B})}merge(c){let h=this;if(this.i===0)c.forEach(function(d){h.pushBack(d)});else{let d=this.p;c.forEach(function(p){for(;d!==h.h&&d.l<=p;)d=d.B;h.G(p,d.L)})}return this.i}forEach(c){let h=this.p,d=0;for(;h!==this.h;)c(h.l,d++,this),h=h.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let c=this.p;for(;c!==this.h;)yield c.l,c=c.B}).bind(this)()}},u=a;e.default=u}),EI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=r(ng()),n=_1();function r(u){return u&&u.t?u:{default:u}}var s=class b1 extends n.RandomIterator{constructor(c,h,d){super(c,d),this.container=h}copy(){return new b1(this.o,this.container,this.iteratorType)}},o=class extends t.default{constructor(u=[],c=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let h=(()=>{if(typeof u.length=="number")return u.length;if(typeof u.size=="number")return u.size;if(typeof u.size=="function")return u.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=c,this.P=Math.max(Math.ceil(h/this.F),1);for(let m=0;m<this.P;++m)this.A.push(new Array(this.F));let d=Math.ceil(h/this.F);this.j=this.R=(this.P>>1)-(d>>1),this.D=this.N=this.F-h%this.F>>1;let p=this;u.forEach(function(m){p.pushBack(m)})}T(){let u=[],c=Math.max(this.P>>1,1);for(let h=0;h<c;++h)u[h]=new Array(this.F);for(let h=this.j;h<this.P;++h)u[u.length]=this.A[h];for(let h=0;h<this.R;++h)u[u.length]=this.A[h];u[u.length]=[...this.A[this.R]],this.j=c,this.R=u.length-1;for(let h=0;h<c;++h)u[u.length]=new Array(this.F);this.A=u,this.P=u.length}O(u){let c=this.D+u+1,h=c%this.F,d=h-1,p=this.j+(c-h)/this.F;return h===0&&(p-=1),p%=this.P,d<0&&(d+=this.F),{curNodeBucketIndex:p,curNodePointerIndex:d}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new s(0,this)}end(){return new s(this.i,this)}rBegin(){return new s(this.i-1,this,1)}rEnd(){return new s(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(u){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=u,this.i}popBack(){if(this.i===0)return;let u=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,u}pushFront(u){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=u,this.i}popFront(){if(this.i===0)return;let u=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,u}getElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:h}=this.O(u);return this.A[c][h]}setElementByPos(u,c){if(u<0||u>this.i-1)throw new RangeError;let{curNodeBucketIndex:h,curNodePointerIndex:d}=this.O(u);this.A[h][d]=c}insert(u,c,h=1){if(u<0||u>this.i)throw new RangeError;if(u===0)for(;h--;)this.pushFront(c);else if(u===this.i)for(;h--;)this.pushBack(c);else{let d=[];for(let p=u;p<this.i;++p)d.push(this.getElementByPos(p));this.cut(u-1);for(let p=0;p<h;++p)this.pushBack(c);for(let p=0;p<d.length;++p)this.pushBack(d[p])}return this.i}cut(u){if(u<0)return this.clear(),0;let{curNodeBucketIndex:c,curNodePointerIndex:h}=this.O(u);return this.R=c,this.N=h,this.i=u+1,this.i}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;if(u===0)this.popFront();else if(u===this.i-1)this.popBack();else{let c=[];for(let d=u+1;d<this.i;++d)c.push(this.getElementByPos(d));this.cut(u),this.popBack();let h=this;c.forEach(function(d){h.pushBack(d)})}return this.i}eraseElementByValue(u){if(this.i===0)return 0;let c=[];for(let d=0;d<this.i;++d){let p=this.getElementByPos(d);p!==u&&c.push(p)}let h=c.length;for(let d=0;d<h;++d)this.setElementByPos(d,c[d]);return this.cut(h-1)}eraseElementByIterator(u){let c=u.o;return this.eraseElementByPos(c),u=u.next(),u}find(u){for(let c=0;c<this.i;++c)if(this.getElementByPos(c)===u)return new s(c,this);return this.end()}reverse(){let u=0,c=this.i-1;for(;u<c;){let h=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(c)),this.setElementByPos(c,h),u+=1,c-=1}}unique(){if(this.i<=1)return this.i;let u=1,c=this.getElementByPos(0);for(let h=1;h<this.i;++h){let d=this.getElementByPos(h);d!==c&&(c=d,this.setElementByPos(u++,d))}for(;this.i>u;)this.popBack();return this.i}sort(u){let c=[];for(let h=0;h<this.i;++h)c.push(this.getElementByPos(h));c.sort(u);for(let h=0;h<this.i;++h)this.setElementByPos(h,c[h])}shrinkToFit(){if(this.i===0)return;let u=[];this.forEach(function(c){u.push(c)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let c=0;c<this.P;++c)this.A.push(new Array(this.F));for(let c=0;c<u.length;++c)this.pushBack(u[c])}forEach(u){for(let c=0;c<this.i;++c)u(this.getElementByPos(c),c,this)}[Symbol.iterator](){return(function*(){for(let u=0;u<this.i;++u)yield this.getElementByPos(u)}).bind(this)()}},a=o;e.default=a}),kI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(r,s){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=r,this.l=s}L(){let r=this;if(r.ee===1&&r.tt.tt===r)r=r.W;else if(r.U)for(r=r.U;r.W;)r=r.W;else{let s=r.tt;for(;s.U===r;)r=s,s=r.tt;r=s}return r}B(){let r=this;if(r.W){for(r=r.W;r.U;)r=r.U;return r}else{let s=r.tt;for(;s.W===r;)r=s,s=r.tt;return r.W!==s?s:r}}te(){let r=this.tt,s=this.W,o=s.U;return r.tt===this?r.tt=s:r.U===this?r.U=s:r.W=s,s.tt=r,s.U=this,this.tt=s,this.W=o,o&&(o.tt=this),s}se(){let r=this.tt,s=this.U,o=s.W;return r.tt===this?r.tt=s:r.U===this?r.U=s:r.W=s,s.tt=r,s.W=this,this.tt=s,this.U=o,o&&(o.tt=this),s}};e.TreeNode=t;var n=class extends t{constructor(){super(...arguments),this.rt=1}te(){let r=super.te();return this.ie(),r.ie(),r}se(){let r=super.se();return this.ie(),r.ie(),r}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=n}),w1=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=kI(),n=Ei(),r=ki(),s=class extends n.Container{constructor(a=function(c,h){return c<h?-1:c>h?1:0},u=!1){super(),this.Y=void 0,this.v=a,u?(this.re=t.TreeNodeEnableIndex,this.M=function(c,h,d){let p=this.ne(c,h,d);if(p){let m=p.tt;for(;m!==this.h;)m.rt+=1,m=m.tt;let g=this.he(p);if(g){let{parentNode:w,grandParent:x,curNode:P}=g;w.ie(),x.ie(),P.ie()}}return this.i},this.V=function(c){let h=this.fe(c);for(;h!==this.h;)h.rt-=1,h=h.tt}):(this.re=t.TreeNode,this.M=function(c,h,d){let p=this.ne(c,h,d);return p&&this.he(p),this.i},this.V=this.fe),this.h=new this.re}X(a,u){let c=this.h;for(;a;){let h=this.v(a.u,u);if(h<0)a=a.W;else if(h>0)c=a,a=a.U;else return a}return c}Z(a,u){let c=this.h;for(;a;)this.v(a.u,u)<=0?a=a.W:(c=a,a=a.U);return c}$(a,u){let c=this.h;for(;a;){let h=this.v(a.u,u);if(h<0)c=a,a=a.W;else if(h>0)a=a.U;else return a}return c}rr(a,u){let c=this.h;for(;a;)this.v(a.u,u)<0?(c=a,a=a.W):a=a.U;return c}ue(a){for(;;){let u=a.tt;if(u===this.h)return;if(a.ee===1){a.ee=0;return}if(a===u.U){let c=u.W;if(c.ee===1)c.ee=0,u.ee=1,u===this.Y?this.Y=u.te():u.te();else if(c.W&&c.W.ee===1){c.ee=u.ee,u.ee=0,c.W.ee=0,u===this.Y?this.Y=u.te():u.te();return}else c.U&&c.U.ee===1?(c.ee=1,c.U.ee=0,c.se()):(c.ee=1,a=u)}else{let c=u.U;if(c.ee===1)c.ee=0,u.ee=1,u===this.Y?this.Y=u.se():u.se();else if(c.U&&c.U.ee===1){c.ee=u.ee,u.ee=0,c.U.ee=0,u===this.Y?this.Y=u.se():u.se();return}else c.W&&c.W.ee===1?(c.ee=1,c.W.ee=0,c.te()):(c.ee=1,a=u)}}}fe(a){if(this.i===1)return this.clear(),this.h;let u=a;for(;u.U||u.W;){if(u.W)for(u=u.W;u.U;)u=u.U;else u=u.U;[a.u,u.u]=[u.u,a.u],[a.l,u.l]=[u.l,a.l],a=u}this.h.U===u?this.h.U=u.tt:this.h.W===u&&(this.h.W=u.tt),this.ue(u);let c=u.tt;return u===c.U?c.U=void 0:c.W=void 0,this.i-=1,this.Y.ee=0,c}oe(a,u){return a===void 0?!1:this.oe(a.U,u)||u(a)?!0:this.oe(a.W,u)}he(a){for(;;){let u=a.tt;if(u.ee===0)return;let c=u.tt;if(u===c.U){let h=c.W;if(h&&h.ee===1){if(h.ee=u.ee=0,c===this.Y)return;c.ee=1,a=c;continue}else if(a===u.W){if(a.ee=0,a.U&&(a.U.tt=u),a.W&&(a.W.tt=c),u.W=a.U,c.U=a.W,a.U=u,a.W=c,c===this.Y)this.Y=a,this.h.tt=a;else{let d=c.tt;d.U===c?d.U=a:d.W=a}return a.tt=c.tt,u.tt=a,c.tt=a,c.ee=1,{parentNode:u,grandParent:c,curNode:a}}else u.ee=0,c===this.Y?this.Y=c.se():c.se(),c.ee=1}else{let h=c.U;if(h&&h.ee===1){if(h.ee=u.ee=0,c===this.Y)return;c.ee=1,a=c;continue}else if(a===u.U){if(a.ee=0,a.U&&(a.U.tt=c),a.W&&(a.W.tt=u),c.W=a.U,u.U=a.W,a.U=c,a.W=u,c===this.Y)this.Y=a,this.h.tt=a;else{let d=c.tt;d.U===c?d.U=a:d.W=a}return a.tt=c.tt,u.tt=a,c.tt=a,c.ee=1,{parentNode:u,grandParent:c,curNode:a}}else u.ee=0,c===this.Y?this.Y=c.te():c.te(),c.ee=1}return}}ne(a,u,c){if(this.Y===void 0){this.i+=1,this.Y=new this.re(a,u),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let h,d=this.h.U,p=this.v(d.u,a);if(p===0){d.l=u;return}else if(p>0)d.U=new this.re(a,u),d.U.tt=d,h=d.U,this.h.U=h;else{let m=this.h.W,g=this.v(m.u,a);if(g===0){m.l=u;return}else if(g<0)m.W=new this.re(a,u),m.W.tt=m,h=m.W,this.h.W=h;else{if(c!==void 0){let w=c.o;if(w!==this.h){let x=this.v(w.u,a);if(x===0){w.l=u;return}else if(x>0){let P=w.L(),A=this.v(P.u,a);if(A===0){P.l=u;return}else A<0&&(h=new this.re(a,u),P.W===void 0?(P.W=h,h.tt=P):(w.U=h,h.tt=w))}}}if(h===void 0)for(h=this.Y;;){let w=this.v(h.u,a);if(w>0){if(h.U===void 0){h.U=new this.re(a,u),h.U.tt=h,h=h.U;break}h=h.U}else if(w<0){if(h.W===void 0){h.W=new this.re(a,u),h.W.tt=h,h=h.W;break}h=h.W}else{h.l=u;return}}}}return this.i+=1,h}I(a,u){for(;a;){let c=this.v(a.u,u);if(c<0)a=a.W;else if(c>0)a=a.U;else return a}return a||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(a,u){let c=a.o;if(c===this.h&&(0,r.throwIteratorAccessError)(),this.i===1)return c.u=u,!0;if(c===this.h.U)return this.v(c.B().u,u)>0?(c.u=u,!0):!1;if(c===this.h.W)return this.v(c.L().u,u)<0?(c.u=u,!0):!1;let h=c.L().u;if(this.v(h,u)>=0)return!1;let d=c.B().u;return this.v(d,u)<=0?!1:(c.u=u,!0)}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let u=0,c=this;return this.oe(this.Y,function(h){return a===u?(c.V(h),!0):(u+=1,!1)}),this.i}eraseElementByKey(a){if(this.i===0)return!1;let u=this.I(this.Y,a);return u===this.h?!1:(this.V(u),!0)}eraseElementByIterator(a){let u=a.o;u===this.h&&(0,r.throwIteratorAccessError)();let c=u.W===void 0;return a.iteratorType===0?c&&a.next():(!c||u.U===void 0)&&a.next(),this.V(u),a}forEach(a){let u=0;for(let c of this)a(c,u++,this)}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let u,c=0;for(let h of this){if(c===a){u=h;break}c+=1}return u}getHeight(){if(this.i===0)return 0;let a=function(u){return u?Math.max(a(u.U),a(u.W))+1:0};return a(this.Y)}},o=s;e.default=o}),S1=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=Ei(),n=ki(),r=class extends t.ContainerIterator{constructor(o,a,u){super(u),this.o=o,this.h=a,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,n.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let o=this.o,a=this.h.tt;if(o===this.h)return a?a.rt-1:0;let u=0;for(o.U&&(u+=o.U.rt);o!==a;){let c=o.tt;o===c.W&&(u+=1,c.U&&(u+=c.U.rt)),o=c}return u}},s=r;e.default=s}),AI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=s(w1()),n=s(S1()),r=ki();function s(c){return c&&c.t?c:{default:c}}var o=class E1 extends n.default{constructor(h,d,p,m){super(h,d,m),this.container=p}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new E1(this.o,this.h,this.container,this.iteratorType)}},a=class extends t.default{constructor(c=[],h,d){super(h,d);let p=this;c.forEach(function(m){p.insert(m)})}*K(c){c!==void 0&&(yield*this.K(c.U),yield c.u,yield*this.K(c.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(c,h){return this.M(c,void 0,h)}find(c){let h=this.I(this.Y,c);return new o(h,this.h,this)}lowerBound(c){let h=this.X(this.Y,c);return new o(h,this.h,this)}upperBound(c){let h=this.Z(this.Y,c);return new o(h,this.h,this)}reverseLowerBound(c){let h=this.$(this.Y,c);return new o(h,this.h,this)}reverseUpperBound(c){let h=this.rr(this.Y,c);return new o(h,this.h,this)}union(c){let h=this;return c.forEach(function(d){h.insert(d)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=a;e.default=u}),xI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=s(w1()),n=s(S1()),r=ki();function s(c){return c&&c.t?c:{default:c}}var o=class k1 extends n.default{constructor(h,d,p,m){super(h,d,m),this.container=p}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let h=this;return new Proxy([],{get(d,p){if(p==="0")return h.o.u;if(p==="1")return h.o.l},set(d,p,m){if(p!=="1")throw new TypeError("props must be 1");return h.o.l=m,!0}})}copy(){return new k1(this.o,this.h,this.container,this.iteratorType)}},a=class extends t.default{constructor(c=[],h,d){super(h,d);let p=this;c.forEach(function(m){p.setElement(m[0],m[1])})}*K(c){c!==void 0&&(yield*this.K(c.U),yield[c.u,c.l],yield*this.K(c.W))}begin(){return new o(this.h.U||this.h,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this.h.W||this.h,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i===0)return;let c=this.h.U;return[c.u,c.l]}back(){if(this.i===0)return;let c=this.h.W;return[c.u,c.l]}lowerBound(c){let h=this.X(this.Y,c);return new o(h,this.h,this)}upperBound(c){let h=this.Z(this.Y,c);return new o(h,this.h,this)}reverseLowerBound(c){let h=this.$(this.Y,c);return new o(h,this.h,this)}reverseUpperBound(c){let h=this.rr(this.Y,c);return new o(h,this.h,this)}setElement(c,h,d){return this.M(c,h,d)}find(c){let h=this.I(this.Y,c);return new o(h,this.h,this)}getElementByKey(c){return this.I(this.Y,c).l}union(c){let h=this;return c.forEach(function(d){h.setElement(d[0],d[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},u=a;e.default=u}),A1=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(n){let r=typeof n;return r==="object"&&n!==null||r==="function"}}),x1=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=Ei(),n=s(A1()),r=ki();function s(u){return u&&u.t?u:{default:u}}var o=class extends t.ContainerIterator{constructor(u,c,h){super(h),this.o=u,this.h=c,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=o;var a=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(u){let{L:c,B:h}=u;c.B=h,h.L=c,u===this.p&&(this.p=h),u===this._&&(this._=c),this.i-=1}M(u,c,h){h===void 0&&(h=(0,n.default)(u));let d;if(h){let p=u[this.HASH_TAG];if(p!==void 0)return this.H[p].l=c,this.i;Object.defineProperty(u,this.HASH_TAG,{value:this.H.length,configurable:!0}),d={u,l:c,L:this._,B:this.h},this.H.push(d)}else{let p=this.g[u];if(p)return p.l=c,this.i;d={u,l:c,L:this._,B:this.h},this.g[u]=d}return this.i===0?(this.p=d,this.h.B=d):this._.B=d,this._=d,this.h.L=d,++this.i}I(u,c){if(c===void 0&&(c=(0,n.default)(u)),c){let h=u[this.HASH_TAG];return h===void 0?this.h:this.H[h]}else return this.g[u]||this.h}clear(){let u=this.HASH_TAG;this.H.forEach(function(c){delete c.u[u]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(u,c){let h;if(c===void 0&&(c=(0,n.default)(u)),c){let d=u[this.HASH_TAG];if(d===void 0)return!1;delete u[this.HASH_TAG],h=this.H[d],delete this.H[d]}else{if(h=this.g[u],h===void 0)return!1;delete this.g[u]}return this.V(h),!0}eraseElementByIterator(u){let c=u.o;return c===this.h&&(0,r.throwIteratorAccessError)(),this.V(c),u.next()}eraseElementByPos(u){if(u<0||u>this.i-1)throw new RangeError;let c=this.p;for(;u--;)c=c.B;return this.V(c),this.i}};e.HashContainer=a}),PI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=x1(),n=ki(),r=class P1 extends t.HashContainerIterator{constructor(u,c,h,d){super(u,c,d),this.container=h}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new P1(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.HashContainer{constructor(a=[]){super();let u=this;a.forEach(function(c){u.insert(c)})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(a,u){return this.M(a,void 0,u)}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let u=this.p;for(;a--;)u=u.B;return u.u}find(a,u){let c=this.I(a,u);return new r(c,this.h,this)}forEach(a){let u=0,c=this.p;for(;c!==this.h;)a(c.u,u++,this),c=c.B}[Symbol.iterator](){return(function*(){let a=this.p;for(;a!==this.h;)yield a.u,a=a.B}).bind(this)()}},o=s;e.default=o}),TI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=x1(),n=s(A1()),r=ki();function s(c){return c&&c.t?c:{default:c}}var o=class T1 extends t.HashContainerIterator{constructor(h,d,p,m){super(h,d,m),this.container=p}get pointer(){this.o===this.h&&(0,r.throwIteratorAccessError)();let h=this;return new Proxy([],{get(d,p){if(p==="0")return h.o.u;if(p==="1")return h.o.l},set(d,p,m){if(p!=="1")throw new TypeError("props must be 1");return h.o.l=m,!0}})}copy(){return new T1(this.o,this.h,this.container,this.iteratorType)}},a=class extends t.HashContainer{constructor(c=[]){super();let h=this;c.forEach(function(d){h.setElement(d[0],d[1])})}begin(){return new o(this.p,this.h,this)}end(){return new o(this.h,this.h,this)}rBegin(){return new o(this._,this.h,this,1)}rEnd(){return new o(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(c,h,d){return this.M(c,h,d)}getElementByKey(c,h){if(h===void 0&&(h=(0,n.default)(c)),h){let p=c[this.HASH_TAG];return p!==void 0?this.H[p].l:void 0}let d=this.g[c];return d?d.l:void 0}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let h=this.p;for(;c--;)h=h.B;return[h.u,h.l]}find(c,h){let d=this.I(c,h);return new o(d,this.h,this)}forEach(c){let h=0,d=this.p;for(;d!==this.h;)c([d.u,d.l],h++,this),d=d.B}[Symbol.iterator](){return(function*(){let c=this.p;for(;c!==this.h;)yield[c.u,c.l],c=c.B}).bind(this)()}},u=a;e.default=u}),CI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return s.default}});var t=p(vI()),n=p(yI()),r=p(bI()),s=p(wI()),o=p(SI()),a=p(EI()),u=p(AI()),c=p(xI()),h=p(PI()),d=p(TI());function p(m){return m&&m.t?m:{default:m}}}),MI=Oe((e,t)=>{Pe(),Ce(),Te();var n=CI().OrderedSet,r=bi()("number-allocator:trace"),s=bi()("number-allocator:error");function o(u,c){this.low=u,this.high=c}o.prototype.equals=function(u){return this.low===u.low&&this.high===u.high},o.prototype.compare=function(u){return this.low<u.low&&this.high<u.low?-1:u.low<this.low&&u.high<this.low?1:0};function a(u,c){if(!(this instanceof a))return new a(u,c);this.min=u,this.max=c,this.ss=new n([],(h,d)=>h.compare(d)),r("Create"),this.clear()}a.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},a.prototype.alloc=function(){if(this.ss.size()===0)return r("alloc():empty"),null;let u=this.ss.begin(),c=u.pointer.low,h=u.pointer.high,d=c;return d+1<=h?this.ss.updateKeyByIterator(u,new o(c+1,h)):this.ss.eraseElementByPos(0),r("alloc():"+d),d},a.prototype.use=function(u){let c=new o(u,u),h=this.ss.lowerBound(c);if(!h.equals(this.ss.end())){let d=h.pointer.low,p=h.pointer.high;return h.pointer.equals(c)?(this.ss.eraseElementByIterator(h),r("use():"+u),!0):d>u?!1:d===u?(this.ss.updateKeyByIterator(h,new o(d+1,p)),r("use():"+u),!0):p===u?(this.ss.updateKeyByIterator(h,new o(d,p-1)),r("use():"+u),!0):(this.ss.updateKeyByIterator(h,new o(u+1,p)),this.ss.insert(new o(d,u-1)),r("use():"+u),!0)}return r("use():failed"),!1},a.prototype.free=function(u){if(u<this.min||u>this.max){s("free():"+u+" is out of range");return}let c=new o(u,u),h=this.ss.upperBound(c);if(h.equals(this.ss.end())){if(h.equals(this.ss.begin())){this.ss.insert(c);return}h.pre();let d=h.pointer.high;h.pointer.high+1===u?this.ss.updateKeyByIterator(h,new o(d,u)):this.ss.insert(c)}else if(h.equals(this.ss.begin()))if(u+1===h.pointer.low){let d=h.pointer.high;this.ss.updateKeyByIterator(h,new o(u,d))}else this.ss.insert(c);else{let d=h.pointer.low,p=h.pointer.high;h.pre();let m=h.pointer.low;h.pointer.high+1===u?u+1===d?(this.ss.eraseElementByIterator(h),this.ss.updateKeyByIterator(h,new o(m,p))):this.ss.updateKeyByIterator(h,new o(m,u)):u+1===d?(this.ss.eraseElementByIterator(h.next()),this.ss.insert(new o(u,p))):this.ss.insert(c)}r("free():"+u)},a.prototype.clear=function(){r("clear()"),this.ss.clear(),this.ss.insert(new o(this.min,this.max))},a.prototype.intervalCount=function(){return this.ss.size()},a.prototype.dump=function(){console.log("length:"+this.ss.size());for(let u of this.ss)console.log(u)},t.exports=a}),C1=Oe((e,t)=>{Pe(),Ce(),Te();var n=MI();t.exports.NumberAllocator=n}),II=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=_I(),n=C1(),r=class{constructor(s){s>0&&(this.aliasToTopic=new t.LRUCache({max:s}),this.topicToAlias={},this.numberAllocator=new n.NumberAllocator(1,s),this.max=s,this.length=0)}put(s,o){if(o===0||o>this.max)return!1;let a=this.aliasToTopic.get(o);return a&&delete this.topicToAlias[a],this.aliasToTopic.set(o,s),this.topicToAlias[s]=o,this.numberAllocator.use(o),this.length=this.aliasToTopic.size,!0}getTopicByAlias(s){return this.aliasToTopic.get(s)}getAliasByTopic(s){let o=this.topicToAlias[s];return typeof o<"u"&&this.aliasToTopic.get(o),o}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=r}),OI=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var n=Kc(),r=t(II()),s=Ks(),o=(a,u)=>{a.log("_handleConnack");let{options:c}=a,h=c.protocolVersion===5?u.reasonCode:u.returnCode;if(clearTimeout(a.connackTimer),delete a.topicAliasSend,u.properties){if(u.properties.topicAliasMaximum){if(u.properties.topicAliasMaximum>65535){a.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}u.properties.topicAliasMaximum>0&&(a.topicAliasSend=new r.default(u.properties.topicAliasMaximum))}u.properties.serverKeepAlive&&c.keepalive&&(c.keepalive=u.properties.serverKeepAlive),u.properties.maximumPacketSize&&(c.properties||(c.properties={}),c.properties.maximumPacketSize=u.properties.maximumPacketSize)}if(h===0)a.reconnecting=!1,a._onConnect(u);else if(h>0){let d=new s.ErrorWithReasonCode(`Connection refused: ${n.ReasonCodes[h]}`,h);a.emit("error",d),a.options.reconnectOnConnackError&&a._cleanUp(!0)}};e.default=o}),RI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=(n,r,s)=>{n.log("handling pubrel packet");let o=typeof s<"u"?s:n.noop,{messageId:a}=r,u={cmd:"pubcomp",messageId:a};n.incomingStore.get(r,(c,h)=>{c?n._sendPacket(u,o):(n.emit("message",h.topic,h.payload,h),n.handleMessage(h,d=>{if(d)return o(d);n.incomingStore.del(h,n.noop),n._sendPacket(u,o)}))})};e.default=t}),NI=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(pI()),r=t(gI()),s=t(OI()),o=t(Kc()),a=t(RI()),u=(c,h,d)=>{let{options:p}=c;if(p.protocolVersion===5&&p.properties&&p.properties.maximumPacketSize&&p.properties.maximumPacketSize<h.length)return c.emit("error",new Error(`exceeding packets size ${h.cmd}`)),c.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),c;switch(c.log("_handlePacket :: emitting packetreceive"),c.emit("packetreceive",h),h.cmd){case"publish":(0,n.default)(c,h,d);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":c.reschedulePing(),(0,o.default)(c,h),d();break;case"pubrel":c.reschedulePing(),(0,a.default)(c,h,d);break;case"connack":(0,s.default)(c,h),d();break;case"auth":c.reschedulePing(),(0,r.default)(c,h),d();break;case"pingresp":c.log("_handlePacket :: received pingresp"),c.reschedulePing(!0),d();break;case"disconnect":c.emit("disconnect",h),d();break;default:c.log("_handlePacket :: unknown command"),d();break}};e.default=u}),LI=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var n=t((Ho(),wt(ro))),r=Ks(),s=class{};e.TypedEventEmitter=s,(0,r.applyMixin)(s,n.default)}),Yc=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>{var o;return typeof window<"u"?typeof navigator<"u"&&((o=navigator.userAgent)===null||o===void 0?void 0:o.toLowerCase().indexOf(" electron/"))>-1&&pt!=null&&pt.versions?!Object.prototype.hasOwnProperty.call(pt.versions,"electron"):typeof window.document<"u":!1},n=()=>{var o,a;return!!(typeof self=="object"&&!((a=(o=self==null?void 0:self.constructor)===null||o===void 0?void 0:o.name)===null||a===void 0)&&a.includes("WorkerGlobalScope"))},r=()=>typeof navigator<"u"&&navigator.product==="ReactNative",s=t()||n()||r();e.isWebWorker=n(),e.isReactNativeBrowser=r(),e.default=s}),DI=Oe((e,t)=>{Pe(),Ce(),Te(),function(n,r){typeof e=="object"&&typeof t<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.fastUniqueNumbers={}))}(e,function(n){var r=function(g){return function(w){var x=g(w);return w.add(x),x}},s=function(g){return function(w,x){return g.set(w,x),x}},o=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,a=536870912,u=a*2,c=function(g,w){return function(x){var P=w.get(x),A=P===void 0?x.size:P<u?P+1:0;if(!x.has(A))return g(x,A);if(x.size<a){for(;x.has(A);)A=Math.floor(Math.random()*u);return g(x,A)}if(x.size>o)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;x.has(A);)A=Math.floor(Math.random()*o);return g(x,A)}},h=new WeakMap,d=s(h),p=c(d,h),m=r(p);n.addUniqueNumber=m,n.generateUniqueNumber=p})}),BI=Oe((e,t)=>{Pe(),Ce(),Te(),function(n,r){typeof e=="object"&&typeof t<"u"?r(e,DI()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimersBroker={},n.fastUniqueNumbers))}(e,function(n,r){var s=function(u){return u.method!==void 0&&u.method==="call"},o=function(u){return u.error===null&&typeof u.id=="number"},a=function(u){var c=new Map([[0,function(){}]]),h=new Map([[0,function(){}]]),d=new Map,p=new Worker(u);p.addEventListener("message",function(P){var A=P.data;if(s(A)){var y=A.params,S=y.timerId,I=y.timerType;if(I==="interval"){var R=c.get(S);if(typeof R=="number"){var T=d.get(R);if(T===void 0||T.timerId!==S||T.timerType!==I)throw new Error("The timer is in an undefined state.")}else if(typeof R<"u")R();else throw new Error("The timer is in an undefined state.")}else if(I==="timeout"){var C=h.get(S);if(typeof C=="number"){var N=d.get(C);if(N===void 0||N.timerId!==S||N.timerType!==I)throw new Error("The timer is in an undefined state.")}else if(typeof C<"u")C(),h.delete(S);else throw new Error("The timer is in an undefined state.")}}else if(o(A)){var te=A.id,ie=d.get(te);if(ie===void 0)throw new Error("The timer is in an undefined state.");var he=ie.timerId,U=ie.timerType;d.delete(te),U==="interval"?c.delete(he):h.delete(he)}else{var se=A.error.message;throw new Error(se)}});var m=function(P){var A=r.generateUniqueNumber(d);d.set(A,{timerId:P,timerType:"interval"}),c.set(P,A),p.postMessage({id:A,method:"clear",params:{timerId:P,timerType:"interval"}})},g=function(P){var A=r.generateUniqueNumber(d);d.set(A,{timerId:P,timerType:"timeout"}),h.set(P,A),p.postMessage({id:A,method:"clear",params:{timerId:P,timerType:"timeout"}})},w=function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=r.generateUniqueNumber(c);return c.set(y,function(){P(),typeof c.get(y)=="function"&&p.postMessage({id:null,method:"set",params:{delay:A,now:performance.now(),timerId:y,timerType:"interval"}})}),p.postMessage({id:null,method:"set",params:{delay:A,now:performance.now(),timerId:y,timerType:"interval"}}),y},x=function(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,y=r.generateUniqueNumber(h);return h.set(y,P),p.postMessage({id:null,method:"set",params:{delay:A,now:performance.now(),timerId:y,timerType:"timeout"}}),y};return{clearInterval:m,clearTimeout:g,setInterval:w,setTimeout:x}};n.load=a})}),jI=Oe((e,t)=>{Pe(),Ce(),Te(),function(n,r){typeof e=="object"&&typeof t<"u"?r(e,BI()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.workerTimers={},n.workerTimersBroker))}(e,function(n,r){var s=function(p,m){var g=null;return function(){if(g!==null)return g;var w=new Blob([m],{type:"application/javascript; charset=utf-8"}),x=URL.createObjectURL(w);return g=p(x),setTimeout(function(){return URL.revokeObjectURL(x)}),g}},o=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,a=s(r.load,o),u=function(p){return a().clearInterval(p)},c=function(p){return a().clearTimeout(p)},h=function(){var p;return(p=a()).setInterval.apply(p,arguments)},d=function(){var p;return(p=a()).setTimeout.apply(p,arguments)};n.clearInterval=u,n.clearTimeout=c,n.setInterval=h,n.setTimeout=d})}),UI=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__createBinding||(Object.create?function(h,d,p,m){m===void 0&&(m=p);var g=Object.getOwnPropertyDescriptor(d,p);(!g||("get"in g?!d.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(h,m,g)}:function(h,d,p,m){m===void 0&&(m=p),h[m]=d[p]}),n=e&&e.__setModuleDefault||(Object.create?function(h,d){Object.defineProperty(h,"default",{enumerable:!0,value:d})}:function(h,d){h.default=d}),r=e&&e.__importStar||function(){var h=function(d){return h=Object.getOwnPropertyNames||function(p){var m=[];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(m[m.length]=g);return m},h(d)};return function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var m=h(d),g=0;g<m.length;g++)m[g]!=="default"&&t(p,d,m[g]);return n(p,d),p}}();Object.defineProperty(e,"__esModule",{value:!0});var s=r(Yc()),o=jI(),a={set:o.setInterval,clear:o.clearInterval},u={set:(h,d)=>setInterval(h,d),clear:h=>clearInterval(h)},c=h=>{switch(h){case"native":return u;case"worker":return a;case"auto":default:return s.default&&!s.isWebWorker&&!s.isReactNativeBrowser?a:u}};e.default=c}),M1=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var n=t(UI()),r=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(s,o){this.destroyed=!1,this.client=s,this.timer=typeof o=="object"&&"set"in o&&"clear"in o?o:(0,n.default)(o),this.setKeepalive(s.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(s){if(s*=1e3,isNaN(s)||s<=0||s>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${s}`);this._keepalive=s,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${s}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let s=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+s,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=r}),Lp=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__createBinding||(Object.create?function(R,T,C,N){N===void 0&&(N=C);var te=Object.getOwnPropertyDescriptor(T,C);(!te||("get"in te?!T.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return T[C]}}),Object.defineProperty(R,N,te)}:function(R,T,C,N){N===void 0&&(N=C),R[N]=T[C]}),n=e&&e.__setModuleDefault||(Object.create?function(R,T){Object.defineProperty(R,"default",{enumerable:!0,value:T})}:function(R,T){R.default=T}),r=e&&e.__importStar||function(){var R=function(T){return R=Object.getOwnPropertyNames||function(C){var N=[];for(var te in C)Object.prototype.hasOwnProperty.call(C,te)&&(N[N.length]=te);return N},R(T)};return function(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var N=R(T),te=0;te<N.length;te++)N[te]!=="default"&&t(C,T,N[te]);return n(C,T),C}}(),s=e&&e.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(e,"__esModule",{value:!0});var o=s(ZM()),a=s(cI()),u=s(f1()),c=Zo(),h=s(fI()),d=r(dI()),p=s(bi()),m=s(d1()),g=s(NI()),w=Ks(),x=LI(),P=s(M1()),A=r(Yc()),y=globalThis.setImmediate||((...R)=>{let T=R.shift();(0,w.nextTick)(()=>{T(...R)})}),S={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},I=class Dp extends x.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(T,C){super(),this.options=C||{};for(let N in S)typeof this.options[N]>"u"?this.options[N]=S[N]:this.options[N]=C[N];this.log=this.options.log||(0,p.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Dp.VERSION),A.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",A.default?"browser":"node"),this.log("MqttClient :: options.protocol",C.protocol),this.log("MqttClient :: options.protocolVersion",C.protocolVersion),this.log("MqttClient :: options.username",C.username),this.log("MqttClient :: options.keepalive",C.keepalive),this.log("MqttClient :: options.reconnectPeriod",C.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",C.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",C.properties?C.properties.topicAliasMaximum:void 0),this.options.clientId=typeof C.clientId=="string"?C.clientId:Dp.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=C.protocolVersion===5&&C.customHandleAcks?C.customHandleAcks:(...N)=>{N[3](null,0)},this.options.writeCache||(a.default.writeToStream.cacheNumbers=!1),this.streamBuilder=T,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new u.default:this.options.messageIdProvider,this.outgoingStore=C.outgoingStore||new m.default,this.incomingStore=C.incomingStore||new m.default,this.queueQoSZero=C.queueQoSZero===void 0?!0:C.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,C.properties&&C.properties.topicAliasMaximum>0&&(C.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new o.default(C.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:N}=this,te=()=>{let ie=N.shift();this.log("deliver :: entry %o",ie);let he=null;if(!ie){this._resubscribe();return}he=ie.packet,this.log("deliver :: call _sendPacket for %o",he);let U=!0;he.messageId&&he.messageId!==0&&(this.messageIdProvider.register(he.messageId)||(U=!1)),U?this._sendPacket(he,se=>{ie.cb&&ie.cb(se),te()}):(this.log("messageId: %d has already used. The message is skipped and removed.",he.messageId),te())};this.log("connect :: sending queued packets"),te()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(T,C){C()}handleMessage(T,C){C()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var T;let C=new c.Writable,N=a.default.parser(this.options),te=null,ie=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),N.on("packet",X=>{this.log("parser :: on packet push to packets array."),ie.push(X)});let he=()=>{this.log("work :: getting next packet in queue");let X=ie.shift();if(X)this.log("work :: packet pulled from queue"),(0,g.default)(this,X,U);else{this.log("work :: no packets in queue");let Ee=te;te=null,this.log("work :: done flag is %s",!!Ee),Ee&&Ee()}},U=()=>{if(ie.length)(0,w.nextTick)(he);else{let X=te;te=null,X()}};C._write=(X,Ee,ke)=>{te=ke,this.log("writable stream :: parsing buffer"),N.parse(X),he()};let se=X=>{this.log("streamErrorHandler :: error",X.message),X.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",X)):this.noop(X)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(C),this.stream.on("error",se),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let ue={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(ue.will=Object.assign(Object.assign({},this.options.will),{payload:(T=this.options.will)===null||T===void 0?void 0:T.payload})),this.topicAliasRecv&&(ue.properties||(ue.properties={}),this.topicAliasRecv&&(ue.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(ue),N.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let X=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(X)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(T,C,N,te){this.log("publish :: message `%s` to topic `%s`",C,T);let{options:ie}=this;typeof N=="function"&&(te=N,N=null),N=N||{},N=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),N);let{qos:he,retain:U,dup:se,properties:ue,cbStorePut:X}=N;if(this._checkDisconnecting(te))return this;let Ee=()=>{let ke=0;if((he===1||he===2)&&(ke=this._nextId(),ke===null))return this.log("No messageId left"),!1;let K={cmd:"publish",topic:T,payload:C,qos:he,retain:U,messageId:ke,dup:se};switch(ie.protocolVersion===5&&(K.properties=ue),this.log("publish :: qos",he),he){case 1:case 2:this.outgoing[K.messageId]={volatile:!1,cb:te||this.noop},this.log("MqttClient:publish: packet cmd: %s",K.cmd),this._sendPacket(K,void 0,X);break;default:this.log("MqttClient:publish: packet cmd: %s",K.cmd),this._sendPacket(K,te,X);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Ee())&&this._storeProcessingQueue.push({invoke:Ee,cbStorePut:N.cbStorePut,callback:te}),this}publishAsync(T,C,N){return new Promise((te,ie)=>{this.publish(T,C,N,(he,U)=>{he?ie(he):te(U)})})}subscribe(T,C,N){let te=this.options.protocolVersion;typeof C=="function"&&(N=C),N=N||this.noop;let ie=!1,he=[];typeof T=="string"?(T=[T],he=T):Array.isArray(T)?he=T:typeof T=="object"&&(ie=T.resubscribe,delete T.resubscribe,he=Object.keys(T));let U=d.validateTopics(he);if(U!==null)return y(N,new Error(`Invalid topic ${U}`)),this;if(this._checkDisconnecting(N))return this.log("subscribe: discconecting true"),this;let se={qos:0};te===5&&(se.nl=!1,se.rap=!1,se.rh=0),C=Object.assign(Object.assign({},se),C);let ue=C.properties,X=[],Ee=(ye,$)=>{if($=$||C,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,ye)||this._resubscribeTopics[ye].qos<$.qos||ie){let ce={topic:ye,qos:$.qos};te===5&&(ce.nl=$.nl,ce.rap=$.rap,ce.rh=$.rh,ce.properties=ue),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",ce.topic,ce.qos),X.push(ce)}};if(Array.isArray(T)?T.forEach(ye=>{this.log("subscribe: array topic %s",ye),Ee(ye)}):Object.keys(T).forEach(ye=>{this.log("subscribe: object topic %s, %o",ye,T[ye]),Ee(ye,T[ye])}),!X.length)return N(null,[]),this;let ke=(ye,$)=>{let ce={cmd:"subscribe",subscriptions:ye,messageId:$};if(ue&&(ce.properties=ue),this.options.resubscribe){this.log("subscribe :: resubscribe true");let fe=[];ye.forEach(ge=>{if(this.options.reconnectPeriod>0){let V={qos:ge.qos};te===5&&(V.nl=ge.nl||!1,V.rap=ge.rap||!1,V.rh=ge.rh||0,V.properties=ge.properties),this._resubscribeTopics[ge.topic]=V,fe.push(ge.topic)}}),this.messageIdToTopic[ce.messageId]=fe}let j=new Promise((fe,ge)=>{this.outgoing[ce.messageId]={volatile:!0,cb(V,xe){if(!V){let{granted:J}=xe;for(let G=0;G<J.length;G+=1)ye[G].qos=J[G]}V?ge(new w.ErrorWithSubackPacket(V.message,xe)):fe(xe)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(ce),j},K=()=>{var ye;let $=(ye=this.options.subscribeBatchSize)!==null&&ye!==void 0?ye:X.length,ce=[];for(let j=0;j<X.length;j+=$){let fe=X.slice(j,j+$),ge=this._nextId();if(ge===null)return this.log("No messageId left"),!1;ce.push(ke(fe,ge))}return Promise.all(ce).then(j=>{N(null,X,j.at(-1))}).catch(j=>{N(j,X,j.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!K())&&this._storeProcessingQueue.push({invoke:K,callback:N}),this}subscribeAsync(T,C){return new Promise((N,te)=>{this.subscribe(T,C,(ie,he)=>{ie?te(ie):N(he)})})}unsubscribe(T,C,N){typeof T=="string"&&(T=[T]),typeof C=="function"&&(N=C),N=N||this.noop;let te=d.validateTopics(T);if(te!==null)return y(N,new Error(`Invalid topic ${te}`)),this;if(this._checkDisconnecting(N))return this;let ie=()=>{let he=this._nextId();if(he===null)return this.log("No messageId left"),!1;let U={cmd:"unsubscribe",messageId:he,unsubscriptions:[]};return typeof T=="string"?U.unsubscriptions=[T]:Array.isArray(T)&&(U.unsubscriptions=T),this.options.resubscribe&&U.unsubscriptions.forEach(se=>{delete this._resubscribeTopics[se]}),typeof C=="object"&&C.properties&&(U.properties=C.properties),this.outgoing[U.messageId]={volatile:!0,cb:N},this.log("unsubscribe: call _sendPacket"),this._sendPacket(U),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ie())&&this._storeProcessingQueue.push({invoke:ie,callback:N}),this}unsubscribeAsync(T,C){return new Promise((N,te)=>{this.unsubscribe(T,C,(ie,he)=>{ie?te(ie):N(he)})})}end(T,C,N){this.log("end :: (%s)",this.options.clientId),(T==null||typeof T!="boolean")&&(N=N||C,C=T,T=!1),typeof C!="object"&&(N=N||C,C=null),this.log("end :: cb? %s",!!N),(!N||typeof N!="function")&&(N=this.noop);let te=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(he=>{this.outgoingStore.close(U=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),N){let se=he||U;this.log("end :: closeStores: invoking callback with args"),N(se)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},ie=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,T),this._cleanUp(T,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,w.nextTick)(te)},C)};return this.disconnecting?(N(),this):(this._clearReconnect(),this.disconnecting=!0,!T&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,ie,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),ie()),this)}endAsync(T,C){return new Promise((N,te)=>{this.end(T,C,ie=>{ie?te(ie):N()})})}removeOutgoingMessage(T){if(this.outgoing[T]){let{cb:C}=this.outgoing[T];this._removeOutgoingAndStoreMessage(T,()=>{C(new Error("Message removed"))})}return this}reconnect(T){this.log("client reconnect");let C=()=>{T?(this.options.incomingStore=T.incomingStore,this.options.outgoingStore=T.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new m.default,this.outgoingStore=this.options.outgoingStore||new m.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=C:C(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(T=>{this.outgoing[T].volatile&&typeof this.outgoing[T].cb=="function"&&(this.outgoing[T].cb(new Error("Connection closed")),delete this.outgoing[T])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(T=>{typeof this.outgoing[T].cb=="function"&&(this.outgoing[T].cb(new Error("Connection closed")),delete this.outgoing[T])}))}_removeTopicAliasAndRecoverTopicName(T){let C;T.properties&&(C=T.properties.topicAlias);let N=T.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",C,N),N.length===0){if(typeof C>"u")return new Error("Unregistered Topic Alias");if(N=this.topicAliasSend.getTopicByAlias(C),typeof N>"u")return new Error("Unregistered Topic Alias");T.topic=N}C&&delete T.properties.topicAlias}_checkDisconnecting(T){return this.disconnecting&&(T&&T!==this.noop?T(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(T,C,N={}){if(C&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",C)),this.log("_cleanUp :: forced? %s",T),T)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let te=Object.assign({cmd:"disconnect"},N);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(te,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),C&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",C),C())}_storeAndSend(T,C,N){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",T.cmd);let te=T,ie;if(te.cmd==="publish"&&(te=(0,h.default)(T),ie=this._removeTopicAliasAndRecoverTopicName(te),ie))return C&&C(ie);this.outgoingStore.put(te,he=>{if(he)return C&&C(he);N(),this._writePacket(T,C)})}_applyTopicAlias(T){if(this.options.protocolVersion===5&&T.cmd==="publish"){let C;T.properties&&(C=T.properties.topicAlias);let N=T.topic.toString();if(this.topicAliasSend)if(C){if(N.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",N,C),!this.topicAliasSend.put(N,C)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",N,C),new Error("Sending Topic Alias out of range")}else N.length!==0&&(this.options.autoAssignTopicAlias?(C=this.topicAliasSend.getAliasByTopic(N),C?(T.topic="",T.properties=Object.assign(Object.assign({},T.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",N,C)):(C=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(N,C),T.properties=Object.assign(Object.assign({},T.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",N,C))):this.options.autoUseTopicAlias&&(C=this.topicAliasSend.getAliasByTopic(N),C&&(T.topic="",T.properties=Object.assign(Object.assign({},T.properties),{topicAlias:C}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",N,C))));else if(C)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",N,C),new Error("Sending Topic Alias out of range")}}_noop(T){this.log("noop ::",T)}_writePacket(T,C){this.log("_writePacket :: packet: %O",T),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",T),this.log("_writePacket :: writing to stream");let N=a.default.writeToStream(T,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",N),!N&&C&&C!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",C)):C&&(this.log("_writePacket :: invoking cb"),C())}_sendPacket(T,C,N,te){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),N=N||this.noop,C=C||this.noop;let ie=this._applyTopicAlias(T);if(ie){C(ie);return}if(!this.connected){if(T.cmd==="auth"){this._writePacket(T,C);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(T,C,N);return}if(te){this._writePacket(T,C);return}switch(T.cmd){case"publish":break;case"pubrel":this._storeAndSend(T,C,N);return;default:this._writePacket(T,C);return}switch(T.qos){case 2:case 1:this._storeAndSend(T,C,N);break;case 0:default:this._writePacket(T,C);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(T,C,N){this.log("_storePacket :: packet: %o",T),this.log("_storePacket :: cb? %s",!!C),N=N||this.noop;let te=T;if(te.cmd==="publish"){te=(0,h.default)(T);let he=this._removeTopicAliasAndRecoverTopicName(te);if(he)return C&&C(he)}let ie=te.qos||0;ie===0&&this.queueQoSZero||te.cmd!=="publish"?this.queue.push({packet:te,cb:C}):ie>0?(C=this.outgoing[te.messageId]?this.outgoing[te.messageId].cb:null,this.outgoingStore.put(te,he=>{if(he)return C&&C(he);N()})):C&&C(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new P.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(T=!1){this.keepaliveManager&&this.options.keepalive&&(T||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let T=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&T.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let C=0;C<T.length;C++){let N={};N[T[C]]=this._resubscribeTopics[T[C]],N.resubscribe=!0,this.subscribe(N,{properties:N[T[C]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(T){if(this.disconnected){this.emit("connect",T);return}this.connackPacket=T,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let C=()=>{let N=this.outgoingStore.createStream(),te=()=>{N.destroy(),N=null,this._flushStoreProcessingQueue(),ie()},ie=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",te),N.on("error",U=>{ie(),this._flushStoreProcessingQueue(),this.removeListener("close",te),this.emit("error",U)});let he=()=>{if(!N)return;let U=N.read(1),se;if(!U){N.once("readable",he);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[U.messageId]){he();return}!this.disconnecting&&!this.reconnectTimer?(se=this.outgoing[U.messageId]?this.outgoing[U.messageId].cb:null,this.outgoing[U.messageId]={volatile:!1,cb(ue,X){se&&se(ue,X),he()}},this._packetIdsDuringStoreProcessing[U.messageId]=!0,this.messageIdProvider.register(U.messageId)?this._sendPacket(U,void 0,void 0,!0):this.log("messageId: %d has already used.",U.messageId)):N.destroy&&N.destroy()};N.on("end",()=>{let U=!0;for(let se in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[se]){U=!1;break}this.removeListener("close",te),U?(ie(),this._invokeAllStoreProcessingQueue(),this.emit("connect",T)):C()}),he()};C()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let T=this._storeProcessingQueue[0];if(T&&T.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let T of this._storeProcessingQueue)T.cbStorePut&&T.cbStorePut(new Error("Connection closed")),T.callback&&T.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(T,C){delete this.outgoing[T],this.outgoingStore.del({messageId:T},(N,te)=>{C(N,te),this.messageIdProvider.deallocate(T),this._invokeStoreProcessingQueue()})}};I.VERSION=w.MQTTJS_VERSION,e.default=I}),zI=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=C1(),n=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(r){return this.numberAllocator.use(r)}deallocate(r){this.numberAllocator.free(r)}clear(){this.numberAllocator.clear()}};e.default=n});function fo(e){throw new RangeError(O1[e])}function zv(e,t){let n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);let s=function(o,a){let u=[],c=o.length;for(;c--;)u[c]=a(o[c]);return u}((e=e.replace(I1,".")).split("."),t).join(".");return r+s}function Fv(e){let t=[],n=0,r=e.length;for(;n<r;){let s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){let o=e.charCodeAt(n++);(64512&o)==56320?t.push(((1023&s)<<10)+(1023&o)+65536):(t.push(s),n--)}else t.push(s)}return t}var $v,Wv,I1,O1,cr,su,uf,cf,hf,ff,Ri,FI=An(()=>{Pe(),Ce(),Te(),$v=/^xn--/,Wv=/[^\0-\x7E]/,I1=/[\x2E\u3002\uFF0E\uFF61]/g,O1={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},cr=Math.floor,su=String.fromCharCode,uf=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},cf=function(e,t,n){let r=0;for(e=n?cr(e/700):e>>1,e+=cr(e/t);e>455;r+=36)e=cr(e/35);return cr(r+36*e/(e+38))},hf=function(e){let t=[],n=e.length,r=0,s=128,o=72,a=e.lastIndexOf("-");a<0&&(a=0);for(let c=0;c<a;++c)e.charCodeAt(c)>=128&&fo("not-basic"),t.push(e.charCodeAt(c));for(let c=a>0?a+1:0;c<n;){let h=r;for(let p=1,m=36;;m+=36){c>=n&&fo("invalid-input");let g=(u=e.charCodeAt(c++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:36;(g>=36||g>cr((2147483647-r)/p))&&fo("overflow"),r+=g*p;let w=m<=o?1:m>=o+26?26:m-o;if(g<w)break;let x=36-w;p>cr(2147483647/x)&&fo("overflow"),p*=x}let d=t.length+1;o=cf(r-h,d,h==0),cr(r/d)>2147483647-s&&fo("overflow"),s+=cr(r/d),r%=d,t.splice(r++,0,s)}var u;return String.fromCodePoint(...t)},ff=function(e){let t=[],n=(e=Fv(e)).length,r=128,s=0,o=72;for(let c of e)c<128&&t.push(su(c));let a=t.length,u=a;for(a&&t.push("-");u<n;){let c=2147483647;for(let d of e)d>=r&&d<c&&(c=d);let h=u+1;c-r>cr((2147483647-s)/h)&&fo("overflow"),s+=(c-r)*h,r=c;for(let d of e)if(d<r&&++s>2147483647&&fo("overflow"),d==r){let p=s;for(let m=36;;m+=36){let g=m<=o?1:m>=o+26?26:m-o;if(p<g)break;let w=p-g,x=36-g;t.push(su(uf(g+w%x,0))),p=cr(w/x)}t.push(su(uf(p,0))),o=cf(s,h,u==a),s=0,++u}++s,++r}return t.join("")},Ri={version:"2.1.0",ucs2:{decode:Fv,encode:e=>String.fromCodePoint(...e)},decode:hf,encode:ff,toASCII:function(e){return zv(e,function(t){return Wv.test(t)?"xn--"+ff(t):t})},toUnicode:function(e){return zv(e,function(t){return $v.test(t)?hf(t.slice(4).toLowerCase()):t})}},Ri.decode,Ri.encode,Ri.toASCII,Ri.toUnicode,Ri.ucs2,Ri.version});function $I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Vv,ls,Hv,Nr,WI=An(()=>{Pe(),Ce(),Te(),Vv=function(e,t,n,r){t=t||"&",n=n||"=";var s={};if(typeof e!="string"||e.length===0)return s;var o=/\+/g;e=e.split(t);var a=1e3;r&&typeof r.maxKeys=="number"&&(a=r.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var h,d,p,m,g=e[c].replace(o,"%20"),w=g.indexOf(n);w>=0?(h=g.substr(0,w),d=g.substr(w+1)):(h=g,d=""),p=decodeURIComponent(h),m=decodeURIComponent(d),$I(s,p)?Array.isArray(s[p])?s[p].push(m):s[p]=[s[p],m]:s[p]=m}return s},ls=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Hv=function(e,t,n,r){return t=t||"&",n=n||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(s){var o=encodeURIComponent(ls(s))+n;return Array.isArray(e[s])?e[s].map(function(a){return o+encodeURIComponent(ls(a))}).join(t):o+encodeURIComponent(ls(e[s]))}).join(t):r?encodeURIComponent(ls(r))+n+encodeURIComponent(ls(e)):""},Nr={},Nr.decode=Nr.parse=Vv,Nr.encode=Nr.stringify=Hv,Nr.decode,Nr.encode,Nr.parse,Nr.stringify});function Bp(){throw new Error("setTimeout has not been defined")}function jp(){throw new Error("clearTimeout has not been defined")}function R1(e){if(ri===setTimeout)return setTimeout(e,0);if((ri===Bp||!ri)&&setTimeout)return ri=setTimeout,setTimeout(e,0);try{return ri(e,0)}catch{try{return ri.call(null,e,0)}catch{return ri.call(this||Po,e,0)}}}function VI(){To&&So&&(To=!1,So.length?zr=So.concat(zr):ja=-1,zr.length&&N1())}function N1(){if(!To){var e=R1(VI);To=!0;for(var t=zr.length;t;){for(So=zr,zr=[];++ja<t;)So&&So[ja].run();ja=-1,t=zr.length}So=null,To=!1,function(n){if(ii===clearTimeout)return clearTimeout(n);if((ii===jp||!ii)&&clearTimeout)return ii=clearTimeout,clearTimeout(n);try{ii(n)}catch{try{return ii.call(null,n)}catch{return ii.call(this||Po,n)}}}(e)}}function Gv(e,t){(this||Po).fun=e,(this||Po).array=t}function Xr(){}var Zv,ri,ii,Po,Ft,So,zr,To,ja,Dt,HI=An(()=>{Pe(),Ce(),Te(),Po=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ft=Zv={},function(){try{ri=typeof setTimeout=="function"?setTimeout:Bp}catch{ri=Bp}try{ii=typeof clearTimeout=="function"?clearTimeout:jp}catch{ii=jp}}(),zr=[],To=!1,ja=-1,Ft.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];zr.push(new Gv(e,t)),zr.length!==1||To||R1(N1)},Gv.prototype.run=function(){(this||Po).fun.apply(null,(this||Po).array)},Ft.title="browser",Ft.browser=!0,Ft.env={},Ft.argv=[],Ft.version="",Ft.versions={},Ft.on=Xr,Ft.addListener=Xr,Ft.once=Xr,Ft.off=Xr,Ft.removeListener=Xr,Ft.removeAllListeners=Xr,Ft.emit=Xr,Ft.prependListener=Xr,Ft.prependOnceListener=Xr,Ft.listeners=function(e){return[]},Ft.binding=function(e){throw new Error("process.binding is not supported")},Ft.cwd=function(){return"/"},Ft.chdir=function(e){throw new Error("process.chdir is not supported")},Ft.umask=function(){return 0},Dt=Zv,Dt.addListener,Dt.argv,Dt.binding,Dt.browser,Dt.chdir,Dt.cwd,Dt.emit,Dt.env,Dt.listeners,Dt.nextTick,Dt.off,Dt.on,Dt.once,Dt.prependListener,Dt.prependOnceListener,Dt.removeAllListeners,Dt.removeListener,Dt.title,Dt.umask,Dt.version,Dt.versions});function GI(){if(Up)return Ou;Up=!0;var e=Ou={},t,n;function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=s}catch{n=s}})();function o(x){if(t===setTimeout)return setTimeout(x,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(x,0);try{return t(x,0)}catch{try{return t.call(null,x,0)}catch{return t.call(this||_o,x,0)}}}function a(x){if(n===clearTimeout)return clearTimeout(x);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(x);try{return n(x)}catch{try{return n.call(null,x)}catch{return n.call(this||_o,x)}}}var u=[],c=!1,h,d=-1;function p(){!c||!h||(c=!1,h.length?u=h.concat(u):d=-1,u.length&&m())}function m(){if(!c){var x=o(p);c=!0;for(var P=u.length;P;){for(h=u,u=[];++d<P;)h&&h[d].run();d=-1,P=u.length}h=null,c=!1,a(x)}}e.nextTick=function(x){var P=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)P[A-1]=arguments[A];u.push(new g(x,P)),u.length===1&&!c&&o(m)};function g(x,P){(this||_o).fun=x,(this||_o).array=P}g.prototype.run=function(){(this||_o).fun.apply(null,(this||_o).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function w(){}return e.on=w,e.addListener=w,e.once=w,e.off=w,e.removeListener=w,e.removeAllListeners=w,e.emit=w,e.prependListener=w,e.prependOnceListener=w,e.listeners=function(x){return[]},e.binding=function(x){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(x){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Ou}var Ou,Up,_o,Ot,L1=An(()=>{Pe(),Ce(),Te(),Ou={},Up=!1,_o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ot=GI(),Ot.platform="browser",Ot.addListener,Ot.argv,Ot.binding,Ot.browser,Ot.chdir,Ot.cwd,Ot.emit,Ot.env,Ot.listeners,Ot.nextTick,Ot.off,Ot.on,Ot.once,Ot.prependListener,Ot.prependOnceListener,Ot.removeAllListeners,Ot.removeListener,Ot.title,Ot.umask,Ot.version,Ot.versions});function ZI(){if(zp)return Ru;zp=!0;var e=Ot;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function n(o,a){for(var u="",c=0,h=-1,d=0,p,m=0;m<=o.length;++m){if(m<o.length)p=o.charCodeAt(m);else{if(p===47)break;p=47}if(p===47){if(!(h===m-1||d===1))if(h!==m-1&&d===2){if(u.length<2||c!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var g=u.lastIndexOf("/");if(g!==u.length-1){g===-1?(u="",c=0):(u=u.slice(0,g),c=u.length-1-u.lastIndexOf("/")),h=m,d=0;continue}}else if(u.length===2||u.length===1){u="",c=0,h=m,d=0;continue}}a&&(u.length>0?u+="/..":u="..",c=2)}else u.length>0?u+="/"+o.slice(h+1,m):u=o.slice(h+1,m),c=m-h-1;h=m,d=0}else p===46&&d!==-1?++d:d=-1}return u}function r(o,a){var u=a.dir||a.root,c=a.base||(a.name||"")+(a.ext||"");return u?u===a.root?u+c:u+o+c:c}var s={resolve:function(){for(var o="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var h;c>=0?h=arguments[c]:(u===void 0&&(u=e.cwd()),h=u),t(h),h.length!==0&&(o=h+"/"+o,a=h.charCodeAt(0)===47)}return o=n(o,!a),a?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(t(o),o.length===0)return".";var a=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return o=n(o,!a),o.length===0&&!a&&(o="."),o.length>0&&u&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return t(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var u=arguments[a];t(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":s.normalize(o)},relative:function(o,a){if(t(o),t(a),o===a||(o=s.resolve(o),a=s.resolve(a),o===a))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var c=o.length,h=c-u,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var p=a.length,m=p-d,g=h<m?h:m,w=-1,x=0;x<=g;++x){if(x===g){if(m>g){if(a.charCodeAt(d+x)===47)return a.slice(d+x+1);if(x===0)return a.slice(d+x)}else h>g&&(o.charCodeAt(u+x)===47?w=x:x===0&&(w=0));break}var P=o.charCodeAt(u+x),A=a.charCodeAt(d+x);if(P!==A)break;P===47&&(w=x)}var y="";for(x=u+w+1;x<=c;++x)(x===c||o.charCodeAt(x)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(d+w):(d+=w,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(o){return o},dirname:function(o){if(t(o),o.length===0)return".";for(var a=o.charCodeAt(0),u=a===47,c=-1,h=!0,d=o.length-1;d>=1;--d)if(a=o.charCodeAt(d),a===47){if(!h){c=d;break}}else h=!1;return c===-1?u?"/":".":u&&c===1?"//":o.slice(0,c)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(o);var u=0,c=-1,h=!0,d;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var p=a.length-1,m=-1;for(d=o.length-1;d>=0;--d){var g=o.charCodeAt(d);if(g===47){if(!h){u=d+1;break}}else m===-1&&(h=!1,m=d+1),p>=0&&(g===a.charCodeAt(p)?--p===-1&&(c=d):(p=-1,c=m))}return u===c?c=m:c===-1&&(c=o.length),o.slice(u,c)}else{for(d=o.length-1;d>=0;--d)if(o.charCodeAt(d)===47){if(!h){u=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":o.slice(u,c)}},extname:function(o){t(o);for(var a=-1,u=0,c=-1,h=!0,d=0,p=o.length-1;p>=0;--p){var m=o.charCodeAt(p);if(m===47){if(!h){u=p+1;break}continue}c===-1&&(h=!1,c=p+1),m===46?a===-1?a=p:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===u+1?"":o.slice(a,c)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return r("/",o)},parse:function(o){t(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var u=o.charCodeAt(0),c=u===47,h;c?(a.root="/",h=1):h=0;for(var d=-1,p=0,m=-1,g=!0,w=o.length-1,x=0;w>=h;--w){if(u=o.charCodeAt(w),u===47){if(!g){p=w+1;break}continue}m===-1&&(g=!1,m=w+1),u===46?d===-1?d=w:x!==1&&(x=1):d!==-1&&(x=-1)}return d===-1||m===-1||x===0||x===1&&d===m-1&&d===p+1?m!==-1&&(p===0&&c?a.base=a.name=o.slice(1,m):a.base=a.name=o.slice(p,m)):(p===0&&c?(a.name=o.slice(1,d),a.base=o.slice(1,m)):(a.name=o.slice(p,d),a.base=o.slice(p,m)),a.ext=o.slice(d,m)),p>0?a.dir=o.slice(0,p-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,Ru=s,Ru}var Ru,zp,Fp,qI=An(()=>{Pe(),Ce(),Te(),L1(),Ru={},zp=!1,Fp=ZI()}),D1={};Zs(D1,{URL:()=>eS,Url:()=>K1,default:()=>yt,fileURLToPath:()=>B1,format:()=>Y1,parse:()=>J1,pathToFileURL:()=>j1,resolve:()=>Q1,resolveObject:()=>X1});function qn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function va(e,t,n){if(e&&fr.isObject(e)&&e instanceof qn)return e;var r=new qn;return r.parse(e,t,n),r}function KI(){if($p)return Nu;$p=!0;var e=Dt;function t(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function n(o,a){for(var u="",c=0,h=-1,d=0,p,m=0;m<=o.length;++m){if(m<o.length)p=o.charCodeAt(m);else{if(p===47)break;p=47}if(p===47){if(!(h===m-1||d===1))if(h!==m-1&&d===2){if(u.length<2||c!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var g=u.lastIndexOf("/");if(g!==u.length-1){g===-1?(u="",c=0):(u=u.slice(0,g),c=u.length-1-u.lastIndexOf("/")),h=m,d=0;continue}}else if(u.length===2||u.length===1){u="",c=0,h=m,d=0;continue}}a&&(u.length>0?u+="/..":u="..",c=2)}else u.length>0?u+="/"+o.slice(h+1,m):u=o.slice(h+1,m),c=m-h-1;h=m,d=0}else p===46&&d!==-1?++d:d=-1}return u}function r(o,a){var u=a.dir||a.root,c=a.base||(a.name||"")+(a.ext||"");return u?u===a.root?u+c:u+o+c:c}var s={resolve:function(){for(var o="",a=!1,u,c=arguments.length-1;c>=-1&&!a;c--){var h;c>=0?h=arguments[c]:(u===void 0&&(u=e.cwd()),h=u),t(h),h.length!==0&&(o=h+"/"+o,a=h.charCodeAt(0)===47)}return o=n(o,!a),a?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(t(o),o.length===0)return".";var a=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return o=n(o,!a),o.length===0&&!a&&(o="."),o.length>0&&u&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return t(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var u=arguments[a];t(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":s.normalize(o)},relative:function(o,a){if(t(o),t(a),o===a||(o=s.resolve(o),a=s.resolve(a),o===a))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var c=o.length,h=c-u,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var p=a.length,m=p-d,g=h<m?h:m,w=-1,x=0;x<=g;++x){if(x===g){if(m>g){if(a.charCodeAt(d+x)===47)return a.slice(d+x+1);if(x===0)return a.slice(d+x)}else h>g&&(o.charCodeAt(u+x)===47?w=x:x===0&&(w=0));break}var P=o.charCodeAt(u+x),A=a.charCodeAt(d+x);if(P!==A)break;P===47&&(w=x)}var y="";for(x=u+w+1;x<=c;++x)(x===c||o.charCodeAt(x)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+a.slice(d+w):(d+=w,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(o){return o},dirname:function(o){if(t(o),o.length===0)return".";for(var a=o.charCodeAt(0),u=a===47,c=-1,h=!0,d=o.length-1;d>=1;--d)if(a=o.charCodeAt(d),a===47){if(!h){c=d;break}}else h=!1;return c===-1?u?"/":".":u&&c===1?"//":o.slice(0,c)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');t(o);var u=0,c=-1,h=!0,d;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var p=a.length-1,m=-1;for(d=o.length-1;d>=0;--d){var g=o.charCodeAt(d);if(g===47){if(!h){u=d+1;break}}else m===-1&&(h=!1,m=d+1),p>=0&&(g===a.charCodeAt(p)?--p===-1&&(c=d):(p=-1,c=m))}return u===c?c=m:c===-1&&(c=o.length),o.slice(u,c)}else{for(d=o.length-1;d>=0;--d)if(o.charCodeAt(d)===47){if(!h){u=d+1;break}}else c===-1&&(h=!1,c=d+1);return c===-1?"":o.slice(u,c)}},extname:function(o){t(o);for(var a=-1,u=0,c=-1,h=!0,d=0,p=o.length-1;p>=0;--p){var m=o.charCodeAt(p);if(m===47){if(!h){u=p+1;break}continue}c===-1&&(h=!1,c=p+1),m===46?a===-1?a=p:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||c===-1||d===0||d===1&&a===c-1&&a===u+1?"":o.slice(a,c)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return r("/",o)},parse:function(o){t(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var u=o.charCodeAt(0),c=u===47,h;c?(a.root="/",h=1):h=0;for(var d=-1,p=0,m=-1,g=!0,w=o.length-1,x=0;w>=h;--w){if(u=o.charCodeAt(w),u===47){if(!g){p=w+1;break}continue}m===-1&&(g=!1,m=w+1),u===46?d===-1?d=w:x!==1&&(x=1):d!==-1&&(x=-1)}return d===-1||m===-1||x===0||x===1&&d===m-1&&d===p+1?m!==-1&&(p===0&&c?a.base=a.name=o.slice(1,m):a.base=a.name=o.slice(p,m)):(p===0&&c?(a.name=o.slice(1,d),a.base=o.slice(1,m)):(a.name=o.slice(p,d),a.base=o.slice(p,m)),a.ext=o.slice(d,m)),p>0?a.dir=o.slice(0,p-1):c&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};return s.posix=s,Nu=s,Nu}function YI(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return gc?QI(e):XI(e)}function QI(e){let t=e.hostname,n=e.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let s=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&s===102||n[r+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(W1,"\\"),n=decodeURIComponent(n),t!=="")return`\\\\${t}${n}`;{let r=n.codePointAt(1)|32,s=n[2];if(r<F1||r>$1||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function XI(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let r=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function JI(e){let t=Wp.resolve(e),n=e.charCodeAt(e.length-1);(n===z1||gc&&n===U1)&&t[t.length-1]!==Wp.sep&&(t+="/");let r=new URL("file://");return t.includes("%")&&(t=t.replace(V1,"%25")),!gc&&t.includes("\\")&&(t=t.replace(H1,"%5C")),t.includes(`
`)&&(t=t.replace(G1,"%0A")),t.includes("\r")&&(t=t.replace(Z1,"%0D")),t.includes("	")&&(t=t.replace(q1,"%09")),r.pathname=t,r}function B1(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return _c?eO(e):tO(e)}function eO(e){let t=e.hostname,n=e.pathname;for(let r=0;r<n.length;r++)if(n[r]==="%"){let s=n.codePointAt(r+2)||32;if(n[r+1]==="2"&&s===102||n[r+1]==="5"&&s===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(n=n.replace(oS,"\\"),n=decodeURIComponent(n),t!=="")return`\\\\${t}${n}`;{let r=n.codePointAt(1)|32,s=n[2];if(r<rS||r>iS||s!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return n.slice(1)}}function tO(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let n=0;n<t.length;n++)if(t[n]==="%"){let r=t.codePointAt(n+2)||32;if(t[n+1]==="2"&&r===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function j1(e){let t=Fp.resolve(e),n=e.charCodeAt(e.length-1);(n===nS||_c&&n===tS)&&t[t.length-1]!==Fp.sep&&(t+="/");let r=new URL("file://");return t.includes("%")&&(t=t.replace(sS,"%25")),!_c&&t.includes("\\")&&(t=t.replace(aS,"%5C")),t.includes(`
`)&&(t=t.replace(lS,"%0A")),t.includes("\r")&&(t=t.replace(uS,"%0D")),t.includes("	")&&(t=t.replace(cS,"%09")),r.pathname=t,r}var yt,qv,fr,Kv,Yv,Qv,Xv,au,df,pf,mf,Jv,ey,lu,po,uu,Nu,$p,Wp,ty,U1,z1,F1,$1,gc,W1,V1,H1,G1,Z1,q1,ny,K1,Y1,Q1,X1,J1,eS,tS,nS,rS,iS,_c,oS,sS,aS,lS,uS,cS,nO=An(()=>{Pe(),Ce(),Te(),FI(),WI(),HI(),qI(),L1(),yt={},qv=Ri,fr={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},yt.parse=va,yt.resolve=function(e,t){return va(e,!1,!0).resolve(t)},yt.resolveObject=function(e,t){return e?va(e,!1,!0).resolveObject(t):t},yt.format=function(e){return fr.isString(e)&&(e=va(e)),e instanceof qn?e.format():qn.prototype.format.call(e)},yt.Url=qn,Kv=/^([a-z0-9.+-]+:)/i,Yv=/:[0-9]*$/,Qv=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Xv=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),au=["'"].concat(Xv),df=["%","/","?",";","#"].concat(au),pf=["/","?","#"],mf=/^[+a-z0-9A-Z_-]{0,63}$/,Jv=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ey={javascript:!0,"javascript:":!0},lu={javascript:!0,"javascript:":!0},po={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},uu=Nr,qn.prototype.parse=function(e,t,n){if(!fr.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),s=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(s);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(s);if(a=a.trim(),!n&&e.split("#").length===1){var u=Qv.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],this.query=t?uu.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=Kv.exec(a);if(c){var h=(c=c[0]).toLowerCase();this.protocol=h,a=a.substr(c.length)}if(n||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var d=a.substr(0,2)==="//";!d||c&&lu[c]||(a=a.substr(2),this.slashes=!0)}if(!lu[c]&&(d||c&&!po[c])){for(var p,m,g=-1,w=0;w<pf.length;w++)(x=a.indexOf(pf[w]))!==-1&&(g===-1||x<g)&&(g=x);for((m=g===-1?a.lastIndexOf("@"):a.lastIndexOf("@",g))!==-1&&(p=a.slice(0,m),a=a.slice(m+1),this.auth=decodeURIComponent(p)),g=-1,w=0;w<df.length;w++){var x;(x=a.indexOf(df[w]))!==-1&&(g===-1||x<g)&&(g=x)}g===-1&&(g=a.length),this.host=a.slice(0,g),a=a.slice(g),this.parseHost(),this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P)for(var A=this.hostname.split(/\./),y=(w=0,A.length);w<y;w++){var S=A[w];if(S&&!S.match(mf)){for(var I="",R=0,T=S.length;R<T;R++)S.charCodeAt(R)>127?I+="x":I+=S[R];if(!I.match(mf)){var C=A.slice(0,w),N=A.slice(w+1),te=S.match(Jv);te&&(C.push(te[1]),N.unshift(te[2])),N.length&&(a="/"+N.join(".")+a),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=qv.toASCII(this.hostname));var ie=this.port?":"+this.port:"",he=this.hostname||"";this.host=he+ie,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!ey[h])for(w=0,y=au.length;w<y;w++){var U=au[w];if(a.indexOf(U)!==-1){var se=encodeURIComponent(U);se===U&&(se=escape(U)),a=a.split(U).join(se)}}var ue=a.indexOf("#");ue!==-1&&(this.hash=a.substr(ue),a=a.slice(0,ue));var X=a.indexOf("?");if(X!==-1?(this.search=a.substr(X),this.query=a.substr(X+1),t&&(this.query=uu.parse(this.query)),a=a.slice(0,X)):t&&(this.search="",this.query={}),a&&(this.pathname=a),po[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){ie=this.pathname||"";var Ee=this.search||"";this.path=ie+Ee}return this.href=this.format(),this},qn.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&fr.isObject(this.query)&&Object.keys(this.query).length&&(o=uu.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||po[t])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,function(u){return encodeURIComponent(u)}))+(a=a.replace("#","%23"))+r},qn.prototype.resolve=function(e){return this.resolveObject(va(e,!1,!0)).format()},qn.prototype.resolveObject=function(e){if(fr.isString(e)){var t=new qn;t.parse(e,!1,!0),e=t}for(var n=new qn,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];n[o]=this[o]}if(n.hash=e.hash,e.href==="")return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var c=a[u];c!=="protocol"&&(n[c]=e[c])}return po[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!po[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var p=h[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||lu[e.protocol])n.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),m[0]!==""&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",w=n.search||"";n.path=g+w}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var x=n.pathname&&n.pathname.charAt(0)==="/",P=e.host||e.pathname&&e.pathname.charAt(0)==="/",A=P||x||n.host&&e.pathname,y=A,S=n.pathname&&n.pathname.split("/")||[],I=(m=e.pathname&&e.pathname.split("/")||[],n.protocol&&!po[n.protocol]);if(I&&(n.hostname="",n.port=null,n.host&&(S[0]===""?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(m[0]===""?m[0]=e.host:m.unshift(e.host)),e.host=null),A=A&&(m[0]===""||S[0]==="")),P)n.host=e.host||e.host===""?e.host:n.host,n.hostname=e.hostname||e.hostname===""?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=m;else if(m.length)S||(S=[]),S.pop(),S=S.concat(m),n.search=e.search,n.query=e.query;else if(!fr.isNullOrUndefined(e.search))return I&&(n.hostname=n.host=S.shift(),(te=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=te.shift(),n.host=n.hostname=te.shift())),n.search=e.search,n.query=e.query,fr.isNull(n.pathname)&&fr.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var R=S.slice(-1)[0],T=(n.host||e.host||S.length>1)&&(R==="."||R==="..")||R==="",C=0,N=S.length;N>=0;N--)(R=S[N])==="."?S.splice(N,1):R===".."?(S.splice(N,1),C++):C&&(S.splice(N,1),C--);if(!A&&!y)for(;C--;C)S.unshift("..");!A||S[0]===""||S[0]&&S[0].charAt(0)==="/"||S.unshift(""),T&&S.join("/").substr(-1)!=="/"&&S.push("");var te,ie=S[0]===""||S[0]&&S[0].charAt(0)==="/";return I&&(n.hostname=n.host=ie?"":S.length?S.shift():"",(te=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=te.shift(),n.host=n.hostname=te.shift())),(A=A||n.host&&S.length)&&!ie&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),fr.isNull(n.pathname)&&fr.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},qn.prototype.parseHost=function(){var e=this.host,t=Yv.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},yt.Url,yt.format,yt.resolve,yt.resolveObject,Nu={},$p=!1,Wp=KI(),ty=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,yt.URL=typeof URL<"u"?URL:null,yt.pathToFileURL=JI,yt.fileURLToPath=YI,yt.Url,yt.format,yt.resolve,yt.resolveObject,yt.URL,U1=92,z1=47,F1=97,$1=122,gc=ty==="win32",W1=/\//g,V1=/%/g,H1=/\\/g,G1=/\n/g,Z1=/\r/g,q1=/\t/g,ny=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,yt.URL=typeof URL<"u"?URL:null,yt.pathToFileURL=j1,yt.fileURLToPath=B1,K1=yt.Url,Y1=yt.format,Q1=yt.resolve,X1=yt.resolveObject,J1=yt.parse,eS=yt.URL,tS=92,nS=47,rS=97,iS=122,_c=ny==="win32",oS=/\//g,sS=/%/g,aS=/\\/g,lS=/\n/g,uS=/\r/g,cS=/\t/g}),rO=Oe((e,t)=>{Pe(),Ce(),Te(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),rg=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=void 0,e.writev=r;var t=Zo(),n=(sn(),wt(on));function r(o,a){let u=new Array(o.length);for(let c=0;c<o.length;c++)typeof o[c].chunk=="string"?u[c]=n.Buffer.from(o[c].chunk,"utf8"):u[c]=o[c].chunk;this._write(n.Buffer.concat(u),"binary",a)}var s=class extends t.Duplex{constructor(o,a,u){super({objectMode:!0}),this.proxy=a,this.socket=u,this.writeQueue=[],o.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",c=>{!this.destroyed&&this.readable&&this.push(c)})}_read(o){this.proxy.read(o)}_write(o,a,u){this.isSocketOpen?this.writeToProxy(o,a,u):this.writeQueue.push({chunk:o,encoding:a,cb:u})}_final(o){this.writeQueue=[],this.proxy.end(o)}_destroy(o,a){this.writeQueue=[],this.proxy.destroy(),a(o)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(o,a,u){this.proxy.write(o,a)===!1?this.proxy.once("drain",u):u()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:o,encoding:a,cb:u}=this.writeQueue.shift();this.writeToProxy(o,a,u)}}};e.BufferedDuplex=s}),cu=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var n=(sn(),wt(on)),r=t(rO()),s=t(bi()),o=Zo(),a=t(Yc()),u=rg(),c=(0,s.default)("mqttjs:ws"),h=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function d(A,y){let S=`${A.protocol}://${A.hostname}:${A.port}${A.path}`;return typeof A.transformWsUrl=="function"&&(S=A.transformWsUrl(S,A,y)),S}function p(A){let y=A;return A.port||(A.protocol==="wss"?y.port=443:y.port=80),A.path||(y.path="/"),A.wsOptions||(y.wsOptions={}),!a.default&&!A.forceNativeWebSocket&&A.protocol==="wss"&&h.forEach(S=>{Object.prototype.hasOwnProperty.call(A,S)&&!Object.prototype.hasOwnProperty.call(A.wsOptions,S)&&(y.wsOptions[S]=A[S])}),y}function m(A){let y=p(A);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let S=new URL(document.URL);y.hostname=S.hostname,y.port||(y.port=Number(S.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function g(A,y,S){c("createWebSocket"),c(`protocol: ${S.protocolId} ${S.protocolVersion}`);let I=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";c(`creating new Websocket for url: ${y} and protocol: ${I}`);let R;return S.createWebsocket?R=S.createWebsocket(y,[I],S):R=new r.default(y,[I],S.wsOptions),R}function w(A,y){let S=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",I=d(y,A),R;return y.createWebsocket?R=y.createWebsocket(I,[S],y):R=new WebSocket(I,[S]),R.binaryType="arraybuffer",R}var x=(A,y)=>{c("streamBuilder");let S=p(y);S.hostname=S.hostname||S.host||"localhost";let I=d(S,A),R=g(A,I,S),T=r.default.createWebSocketStream(R,S.wsOptions);return T.url=I,R.on("close",()=>{T.destroy()}),T};e.streamBuilder=x;var P=(A,y)=>{c("browserStreamBuilder");let S,I=m(y).browserBufferSize||1024*512,R=y.browserBufferTimeout||1e3,T=!y.objectMode,C=w(A,y),N=ie(y,X,Ee);y.objectMode||(N._writev=u.writev.bind(N)),N.on("close",()=>{C.close()});let te=typeof C.addEventListener<"u";C.readyState===C.OPEN?(S=N,S.socket=C):(S=new u.BufferedDuplex(y,N,C),te?C.addEventListener("open",he):C.onopen=he),te?(C.addEventListener("close",U),C.addEventListener("error",se),C.addEventListener("message",ue)):(C.onclose=U,C.onerror=se,C.onmessage=ue);function ie(ke,K,ye){let $=new o.Transform({objectMode:ke.objectMode});return $._write=K,$._flush=ye,$}function he(){c("WebSocket onOpen"),S instanceof u.BufferedDuplex&&S.socketReady()}function U(ke){c("WebSocket onClose",ke),S.end(),S.destroy()}function se(ke){c("WebSocket onError",ke);let K=new Error("WebSocket error");K.event=ke,S.destroy(K)}async function ue(ke){if(!N||N.destroyed||!N.readable)return;let{data:K}=ke;K instanceof ArrayBuffer?K=n.Buffer.from(K):K instanceof Blob?K=n.Buffer.from(await new Response(K).arrayBuffer()):K=n.Buffer.from(K,"utf8"),N.push(K)}function X(ke,K,ye){if(C.bufferedAmount>I){setTimeout(X,R,ke,K,ye);return}T&&typeof ke=="string"&&(ke=n.Buffer.from(ke,"utf8"));try{C.send(ke)}catch($){return ye($)}ye()}function Ee(ke){C.close(),ke()}return S};e.browserStreamBuilder=P}),ig={};Zs(ig,{Server:()=>Rt,Socket:()=>Rt,Stream:()=>Rt,_createServerHandle:()=>Rt,_normalizeArgs:()=>Rt,_setSimultaneousAccepts:()=>Rt,connect:()=>Rt,createConnection:()=>Rt,createServer:()=>Rt,default:()=>hS,isIP:()=>Rt,isIPv4:()=>Rt,isIPv6:()=>Rt});function Rt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var hS,fS=An(()=>{Pe(),Ce(),Te(),hS={_createServerHandle:Rt,_normalizeArgs:Rt,_setSimultaneousAccepts:Rt,connect:Rt,createConnection:Rt,createServer:Rt,isIP:Rt,isIPv4:Rt,isIPv6:Rt,Server:Rt,Socket:Rt,Stream:Rt}}),dS=Oe((e,t)=>{Pe(),Ce(),Te(),t.exports={}}),ry=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var n=t((fS(),wt(ig))),r=t(bi()),s=t(dS()),o=(0,r.default)("mqttjs:tcp"),a=(u,c)=>{if(c.port=c.port||1883,c.hostname=c.hostname||c.host||"localhost",c.socksProxy)return(0,s.default)(c.hostname,c.port,c.socksProxy,{timeout:c.socksTimeout});let{port:h,path:d}=c,p=c.hostname;return o("port %d and host %s",h,p),n.default.createConnection({port:h,host:p,path:d})};e.default=a}),pS={};Zs(pS,{default:()=>mS});var mS,iO=An(()=>{Pe(),Ce(),Te(),mS={}}),iy=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__rest||function(d,p){var m={};for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&p.indexOf(g)<0&&(m[g]=d[g]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(d);w<g.length;w++)p.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(d,g[w])&&(m[g[w]]=d[g[w]]);return m},n=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var r=n((iO(),wt(pS))),s=n((fS(),wt(ig))),o=n(bi()),a=n(dS()),u=(0,o.default)("mqttjs:tls");function c(d){let{host:p,port:m,socksProxy:g}=d,w=t(d,["host","port","socksProxy"]);return r.default.connect(g?Object.assign(Object.assign({},w),{socket:(0,a.default)(p,m,g,{timeout:d.socksTimeout})}):d)}var h=(d,p)=>{p.port=p.port||8883,p.host=p.hostname||p.host||"localhost",s.default.isIP(p.host)===0&&(p.servername=p.host),p.rejectUnauthorized=p.rejectUnauthorized!==!1,delete p.path,u("port %d host %s rejectUnauthorized %b",p.port,p.host,p.rejectUnauthorized);let m=c(p);m.on("secureConnect",()=>{p.rejectUnauthorized&&!m.authorized?m.emit("error",new Error("TLS not authorized")):m.removeListener("error",g)});function g(w){p.rejectUnauthorized&&d.emit("error",w),m.end()}return m.on("error",g),m};e.default=h}),oy=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=(sn(),wt(on)),n=Zo(),r=rg(),s,o,a;function u(){let m=new n.Transform;return m._write=(g,w,x)=>{s.send({data:g.buffer,success(){x()},fail(P){x(new Error(P))}})},m._flush=g=>{s.close({success(){g()}})},m}function c(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function h(m,g){let w=m.protocol==="wxs"?"wss":"ws",x=`${w}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(x=`${w}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(x=m.transformWsUrl(x,m,g)),x}function d(){s.onOpen(()=>{a.socketReady()}),s.onMessage(m=>{let{data:g}=m;g instanceof ArrayBuffer?g=t.Buffer.from(g):g=t.Buffer.from(g,"utf8"),o.push(g)}),s.onClose(()=>{a.emit("close"),a.end(),a.destroy()}),s.onError(m=>{let g=new Error(m.errMsg);a.destroy(g)})}var p=(m,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let w=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";c(g);let x=h(g,m);s=wx.connectSocket({url:x,protocols:[w]}),o=u(),a=new r.BufferedDuplex(g,o,s),a._destroy=(A,y)=>{s.close({success(){y&&y(A)}})};let P=a.destroy;return a.destroy=(A,y)=>(a.destroy=P,setTimeout(()=>{s.close({fail(){a._destroy(A,y)}})},0),a),d(),a};e.default=p}),sy=Oe(e=>{Pe(),Ce(),Te(),Object.defineProperty(e,"__esModule",{value:!0});var t=(sn(),wt(on)),n=Zo(),r=rg(),s,o,a,u=!1;function c(){let g=new n.Transform;return g._write=(w,x,P)=>{s.sendSocketMessage({data:w.buffer,success(){P()},fail(){P(new Error)}})},g._flush=w=>{s.closeSocket({success(){w()}})},g}function h(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function d(g,w){let x=g.protocol==="alis"?"wss":"ws",P=`${x}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(P=`${x}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(P=g.transformWsUrl(P,g,w)),P}function p(){u||(u=!0,s.onSocketOpen(()=>{a.socketReady()}),s.onSocketMessage(g=>{if(typeof g.data=="string"){let w=t.Buffer.from(g.data,"base64");o.push(w)}else{let w=new FileReader;w.addEventListener("load",()=>{let x=w.result;x instanceof ArrayBuffer?x=t.Buffer.from(x):x=t.Buffer.from(x,"utf8"),o.push(x)}),w.readAsArrayBuffer(g.data)}}),s.onSocketClose(()=>{a.end(),a.destroy()}),s.onSocketError(g=>{a.destroy(g)}))}var m=(g,w)=>{if(w.hostname=w.hostname||w.host,!w.hostname)throw new Error("Could not determine host. Specify host manually.");let x=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";h(w);let P=d(w,g);return s=w.my,s.connectSocket({url:P,protocols:x}),o=c(),a=new r.BufferedDuplex(w,o,s),p(),a};e.default=m}),oO=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=d;var n=t(bi()),r=t((nO(),wt(D1))),s=t(Lp()),o=t(Yc());typeof(pt==null?void 0:pt.nextTick)!="function"&&(pt.nextTick=setImmediate);var a=(0,n.default)("mqttjs"),u=null;function c(p){let m;p.auth&&(m=p.auth.match(/^(.+):(.+)$/),m?(p.username=m[1],p.password=m[2]):p.username=p.auth)}function h(p,m){var g,w,x;if(a("connecting to an MQTT broker..."),typeof p=="object"&&!m&&(m=p,p=""),m=m||{},p&&typeof p=="string"){let y=r.default.parse(p,!0),S={};if(y.port!=null&&(S.port=Number(y.port)),S.host=y.hostname,S.query=y.query,S.auth=y.auth,S.protocol=y.protocol,S.path=y.path,m=Object.assign(Object.assign({},S),m),!m.protocol)throw new Error("Missing protocol");m.protocol=m.protocol.replace(/:$/,"")}if(m.unixSocket=m.unixSocket||((g=m.protocol)===null||g===void 0?void 0:g.includes("+unix")),m.unixSocket?m.protocol=m.protocol.replace("+unix",""):!(!((w=m.protocol)===null||w===void 0)&&w.startsWith("ws"))&&!(!((x=m.protocol)===null||x===void 0)&&x.startsWith("wx"))&&delete m.path,c(m),m.query&&typeof m.query.clientId=="string"&&(m.clientId=m.query.clientId),o.default||m.unixSocket?m.socksProxy=void 0:m.socksProxy===void 0&&typeof pt<"u"&&(m.socksProxy=pt.env.MQTTJS_SOCKS_PROXY),m.cert&&m.key)if(m.protocol){if(["mqtts","wss","wxs","alis"].indexOf(m.protocol)===-1)switch(m.protocol){case"mqtt":m.protocol="mqtts";break;case"ws":m.protocol="wss";break;case"wx":m.protocol="wxs";break;case"ali":m.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${m.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(u||(u={},!o.default&&!m.forceNativeWebSocket?(u.ws=cu().streamBuilder,u.wss=cu().streamBuilder,u.mqtt=ry().default,u.tcp=ry().default,u.ssl=iy().default,u.tls=u.ssl,u.mqtts=iy().default):(u.ws=cu().browserStreamBuilder,u.wss=cu().browserStreamBuilder,u.wx=oy().default,u.wxs=oy().default,u.ali=sy().default,u.alis=sy().default)),!u[m.protocol]){let y=["mqtts","wss"].indexOf(m.protocol)!==-1;m.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((S,I)=>y&&I%2===0?!1:typeof u[S]=="function")[0]}if(m.clean===!1&&!m.clientId)throw new Error("Missing clientId for unclean clients");m.protocol&&(m.defaultProtocol=m.protocol);function P(y){return m.servers&&((!y._reconnectCount||y._reconnectCount===m.servers.length)&&(y._reconnectCount=0),m.host=m.servers[y._reconnectCount].host,m.port=m.servers[y._reconnectCount].port,m.protocol=m.servers[y._reconnectCount].protocol?m.servers[y._reconnectCount].protocol:m.defaultProtocol,m.hostname=m.host,y._reconnectCount++),a("calling streambuilder for",m.protocol),u[m.protocol](y,m)}let A=new s.default(P,m);return A.on("error",()=>{}),A}function d(p,m,g=!0){return new Promise((w,x)=>{let P=h(p,m),A={connect:S=>{y(),w(P)},end:()=>{y(),w(P)},error:S=>{y(),P.end(),x(S)}};g===!1&&(A.close=()=>{A.error(new Error("Couldn't connect to server"))});function y(){Object.keys(A).forEach(S=>{P.off(S,A[S])})}Object.keys(A).forEach(S=>{P.on(S,A[S])})})}e.default=h}),ay=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__createBinding||(Object.create?function(g,w,x,P){P===void 0&&(P=x);var A=Object.getOwnPropertyDescriptor(w,x);(!A||("get"in A?!w.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return w[x]}}),Object.defineProperty(g,P,A)}:function(g,w,x,P){P===void 0&&(P=x),g[P]=w[x]}),n=e&&e.__setModuleDefault||(Object.create?function(g,w){Object.defineProperty(g,"default",{enumerable:!0,value:w})}:function(g,w){g.default=w}),r=e&&e.__importStar||function(){var g=function(w){return g=Object.getOwnPropertyNames||function(x){var P=[];for(var A in x)Object.prototype.hasOwnProperty.call(x,A)&&(P[P.length]=A);return P},g(w)};return function(w){if(w&&w.__esModule)return w;var x={};if(w!=null)for(var P=g(w),A=0;A<P.length;A++)P[A]!=="default"&&t(x,w,P[A]);return n(x,w),x}}(),s=e&&e.__exportStar||function(g,w){for(var x in g)x!=="default"&&!Object.prototype.hasOwnProperty.call(w,x)&&t(w,g,x)},o=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var a=o(Lp());e.MqttClient=a.default;var u=o(f1());e.DefaultMessageIdProvider=u.default;var c=o(zI());e.UniqueMessageIdProvider=c.default;var h=o(d1());e.Store=h.default;var d=r(oO());e.connect=d.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return d.connectAsync}});var p=o(M1());e.KeepaliveManager=p.default,e.Client=a.default,s(Lp(),e),s(Ks(),e);var m=Kc();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return m.ReasonCodes}})}),sO=Oe(e=>{Pe(),Ce(),Te();var t=e&&e.__createBinding||(Object.create?function(a,u,c,h){h===void 0&&(h=c);var d=Object.getOwnPropertyDescriptor(u,c);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(a,h,d)}:function(a,u,c,h){h===void 0&&(h=c),a[h]=u[c]}),n=e&&e.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),r=e&&e.__importStar||function(){var a=function(u){return a=Object.getOwnPropertyNames||function(c){var h=[];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[h.length]=d);return h},a(u)};return function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var h=a(u),d=0;d<h.length;d++)h[d]!=="default"&&t(c,u,h[d]);return n(c,u),c}}(),s=e&&e.__exportStar||function(a,u){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&t(u,a,c)};Object.defineProperty(e,"__esModule",{value:!0});var o=r(ay());e.default=o,s(ay(),e)});const aO=sO();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/class lO extends Ew{constructor(n,r){super(n,r);gt(this,"client",null);gt(this,"cancelled",!1)}async connect(){if(this.cancelled=!1,this.setConnectionStatus(Ve.CONNECTING),this.client){try{this.client.removeAllListeners(),this.client.end(!0)}catch(r){console.error("Error cleaning up client:",r)}this.client=null}let n;try{n=await this.configResolver()}catch(r){this.cancelled||(console.error("Failed to get config:",r),this.setConnectionStatus(Ve.ERROR,{type:nn.AUTHENTICATION,message:r instanceof Error?r.message:"Authentication failed",underlyingError:r instanceof Error?r:new Error(String(r))}));return}if(this.cancelled){this.log("Connection cancelled during config fetch");return}try{this.config=n,n.cerboId&&(this.cerboId=n.cerboId);const r=n.host;this.log("Connecting to:",r);const s={keepalive:ww/1e3,clientId:`anchor-alarm-web-${Date.now()}`,clean:!0,reconnectPeriod:aT,connectTimeout:5e3,protocolVersion:4,manualConnect:!0};n.username&&(s.username=n.username),n.password&&(s.password=n.password),n.certificate&&n.secure&&(s.ca=n.certificate,s.rejectUnauthorized=!0),console.log("Connecting to "+r+" with options:",s),this.client=aO.connect(r,s),this.setupEventHandlers(),this.client.connect()}catch(r){this.cancelled||(console.error("Failed to connect:",r),this.setConnectionStatus(Ve.ERROR,{type:nn.NETWORK,message:r instanceof Error?r.message:"Connection failed",underlyingError:r instanceof Error?r:new Error(String(r))}))}}disconnect(){this.log("Disconnecting MQTT client"),this.cancelled=!0,this.onDisconnected()}onDisconnected(){this.cleanupClient(),super.onDisconnected()}cleanupClient(){this.client&&(this.log("Cleaning up MQTT client, removing listeners and calling end..."),this.client.removeAllListeners(),this.client.end(!0),this.client=null)}async subscribe(n){if(!this.client)throw new Error("Not connected");return new Promise((r,s)=>{this.client.subscribe(n,o=>{o?(console.error(`Failed to subscribe to ${n}:`,o),s(o)):(console.debug(`Subscribed to ${n}`),r())})})}async unsubscribe(n){if(!this.client)throw new Error("Not connected");return new Promise((r,s)=>{this.client.unsubscribe(n,o=>{o?(console.error(`Failed to unsubscribe from ${n}:`,o),s(o)):(this.log(`Unsubscribed from ${n}`),r())})})}publishRaw(n,r){if(!this.client||!this.client.connected){console.error("Cannot publish: not connected"),this.onDisconnected();return}this.client.publish(n,r,{qos:0},s=>{s&&console.error(`Failed to publish to ${n}:`,s)})}setupEventHandlers(){this.client&&(this.client.on("connect",n=>{this.log("MQTT client connected",n),this.onConnected()}),this.client.on("error",n=>{console.error("MQTT error:",n);let r=nn.NETWORK,s=n.message;n.message.includes("Not authorized")||n.message.includes("Bad username or password")||n.message.includes("authentication")||n.message.includes("unauthorized")?r=nn.AUTHENTICATION:n.message.includes("connack timeout")&&(s="Unable to connect to server"),this.onError({type:r,message:s,underlyingError:n})}),this.client.on("close",()=>{this.log("MQTT connection closed"),this.onDisconnected()}),this.client.on("offline",()=>{this.log("MQTT client went offline"),this.onDisconnected()}),this.client.on("message",(n,r)=>{this.handleMessage(n,r.toString())}))}}const uO=Ar(({isOpen:e,onClose:t,settingsStore:n,onSave:r})=>{const[s,o]=Re.useState(!1),[a,u]=Re.useState({}),c=(g,w)=>{u(x=>({...x,[g]:w})),n.updateSetting(g,w)},h=async()=>{if(Object.keys(a).length!==0)try{await r(a),u({})}catch(g){console.error("Failed to save settings:",g)}},d=g=>{const w=n[g.key],x=w===null||!n.isLoaded;return g.type===wd.TOGGLE?D.jsxs("label",{className:Ye.toggle,style:{margin:0,opacity:x?.5:1},children:[D.jsx("input",{type:"checkbox",checked:w===1,onChange:P=>c(g.key,P.target.checked?1:0),disabled:x}),D.jsx("span",{className:Ye.toggleSlider})]}):g.type===wd.STRING?D.jsx("input",{type:"text",value:w!==null?w:"",maxLength:g.max,onChange:P=>{const A=P.target.value;A.length<=g.max&&c(g.key,A)},disabled:x,style:{width:"120px",textAlign:"right",fontSize:"14px",padding:"4px 8px",opacity:x?.5:1}}):D.jsx("input",{type:"number",value:w!==null?w:"",min:g.min,max:g.max,onChange:P=>{const A=parseFloat(P.target.value);!isNaN(A)&&A>=g.min&&A<=g.max&&c(g.key,A)},disabled:x,style:{width:"50px",textAlign:"right",fontSize:"14px",padding:"4px 8px",opacity:x?.5:1}})},p=g=>{const w=g.fields.filter(x=>s||!x.advanced);return w.length===0?null:D.jsxs("div",{className:Ye.section,children:[D.jsx("h3",{style:{opacity:n.isLoaded?1:.5},children:g.categoryName}),w.map(x=>{const A=n[x.key]===null||!n.isLoaded;return D.jsx("div",{className:Ye.field,children:D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsxs("div",{style:{flex:1,userSelect:"none",paddingRight:"12px"},children:[D.jsx("label",{style:{userSelect:"none",opacity:A?.5:1},children:x.label}),D.jsx("small",{style:{userSelect:"none",opacity:A?.5:1},children:x.description})]}),D.jsx("div",{style:{flexShrink:0},children:d(x)})]})},x.key)})]},g.categoryName)},m=Object.keys(a).length>0;return D.jsx("div",{className:`${Ye.overlay} ${e?Ye.open:""}`,onClick:g=>{g.target===g.currentTarget&&t()},children:D.jsxs("div",{className:`${Ye.anchorAlarmPanel} ${e?Ye.open:""}`,onClick:g=>g.stopPropagation(),children:[D.jsxs("div",{className:Ye.header,children:[D.jsx("button",{className:Ye.cancelButton,onClick:t,children:D.jsx(rC,{size:20})}),D.jsx("h2",{children:"Anchor Alarm Settings"}),D.jsx("button",{className:Ye.saveButton,onClick:h,disabled:!n.isLoaded||!m,children:D.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[!n.isLoaded&&D.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #cbd5e1",borderTop:"2px solid #3b82f6",borderRadius:"50%"},className:Ye.spinner}),n.isLoaded?"Save":""]})})]}),D.jsxs("div",{className:Ye.content,children:[Hm.map(p),D.jsx("div",{className:Ye.section,children:D.jsx("div",{className:Ye.field,children:D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsxs("div",{style:{flex:1,userSelect:"none",paddingRight:"12px"},children:[D.jsx("label",{style:{userSelect:"none",opacity:n.isLoaded?1:.5},children:"Show advanced configuration"}),D.jsx("small",{style:{userSelect:"none",opacity:n.isLoaded?1:.5},children:"Show additional technical settings"})]}),D.jsx("div",{style:{flexShrink:0},children:D.jsxs("label",{className:Ye.toggle,style:{margin:0},children:[D.jsx("input",{type:"checkbox",checked:s,onChange:g=>o(g.target.checked)}),D.jsx("span",{className:Ye.toggleSlider})]})})]})})})]})]})})}),cO=Ar(({service:e})=>{const{status:t}=e,[n,r]=Re.useState(!1),s=t.state===$t.REGISTERED,o=t.state===$t.REGISTERING,a=t.state===$t.ERROR,u=e.arePushNotificationsAvailable(),c=o||!u,h=async g=>{c||(g?await e.subscribe():await e.unsubscribe())},d=g=>{g.preventDefault(),g.stopPropagation(),!n&&(r(!0),setTimeout(()=>{r(!1)},5e3),e.sendTestNotification())},p=()=>o?D.jsx(pc,{size:24,className:Ye.spinner}):a?D.jsx(aC,{size:24,color:"#ef4444"}):null,m=()=>a&&t.error?D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[p(),D.jsx("span",{children:t.error.message})]}):o?D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[p(),D.jsx("span",{children:"Setting up notifications..."})]}):"";return D.jsxs(D.Fragment,{children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px 0"},children:[D.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[D.jsx("span",{className:Ye.toggleLabel,children:"Push Notifications"}),s&&D.jsxs("button",{onClick:d,disabled:n,style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:n?"#94a3b8":"#3b82f6",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:n?"not-allowed":"pointer"},children:[n?D.jsx(pc,{size:12,className:Ye.spinner}):D.jsx(EC,{size:12}),"Test"]})]}),D.jsxs("label",{className:`${Ye.toggle} ${c?Ye.disabled:""}`,style:{padding:0,cursor:"pointer"},children:[D.jsx("input",{type:"checkbox",checked:s,disabled:c,onChange:g=>h(g.target.checked)}),D.jsx("span",{className:Ye.toggleSlider})]})]}),(a||o)&&D.jsx("small",{className:a?Ye.error:"",style:{marginLeft:"5px",minHeight:"20px",display:"block",color:o?"#64748b":void 0},children:m()})]})}),hO="_container_1odw3_2",fO="_hint_1odw3_6",dO="_icon_1odw3_16",pO="_content_1odw3_22",mO="_title_1odw3_27",gO="_text_1odw3_34",_O="_steps_1odw3_41",vO="_link_1odw3_53",yO="_inlineIcon_1odw3_63",st={container:hO,hint:fO,icon:dO,content:pO,title:mO,text:gO,steps:_O,link:vO,inlineIcon:yO,"hint--iosNoHttps":"_hint--iosNoHttps_1odw3_70","hint--iosHomescreen":"_hint--iosHomescreen_1odw3_74","hint--noHttps":"_hint--noHttps_1odw3_78","hint--notSupported":"_hint--notSupported_1odw3_82","hint--unknown":"_hint--unknown_1odw3_91"},bO=Ar(({service:e})=>{const t=e.getPushNotificationHint();if(!t)return null;const n=()=>{const s=new URL(window.location.href);return s.protocol="https:",s.href},r=()=>{switch(t){case"ios-no-https":return D.jsxs("div",{className:`${st.hint} ${st["hint--iosNoHttps"]}`,children:[D.jsx("div",{className:st.icon,children:D.jsx(Cv,{size:20})}),D.jsxs("div",{className:st.content,children:[D.jsx("div",{className:st.title,children:"Enable Push Notifications"}),D.jsx("div",{className:st.text,children:"To receive notifications on iOS, you need to:"}),D.jsxs("ol",{className:st.steps,children:[D.jsx("li",{children:D.jsx("a",{href:n(),className:st.link,children:"Switch to HTTPS version"})}),D.jsxs("li",{children:['On the "',D.jsx("b",{children:"This Connection Is Not Private"}),'" page, tap "',D.jsx("i",{children:"Show Details"}),`" and then '`,D.jsx("i",{children:"Visit this Website"}),"'.",D.jsx("br",{}),"You might need to reload the page."]}),D.jsxs("li",{children:[D.jsx("b",{children:"Tap"})," ",D.jsx(Mv,{size:16,className:st.inlineIcon}),' and "',D.jsx("i",{children:"Add to Home Screen"}),'"']}),D.jsxs("li",{children:["Open the ",D.jsx("b",{children:"Anchor Alarm"})," app from your home screen"]})]})]})]});case"ios-need-homescreen":return D.jsxs("div",{className:`${st.hint} ${st["hint--iosHomescreen"]}`,children:[D.jsx("div",{className:st.icon,children:D.jsx(nf,{size:20})}),D.jsxs("div",{className:st.content,children:[D.jsx("div",{className:st.title,children:"Add to Home Screen"}),D.jsx("div",{className:st.text,children:"To receive notifications on iOS:"}),D.jsxs("ol",{className:st.steps,children:[D.jsxs("li",{children:[D.jsx("b",{children:"Tap"})," ",D.jsx(Mv,{size:16,className:st.inlineIcon}),' and "',D.jsx("i",{children:"Add to Home Screen"}),'"']}),D.jsxs("li",{children:["Open the ",D.jsx("b",{children:"Anchor Alarm"})," app from your home screen"]})]})]})]});case"no-https":return D.jsxs("div",{className:`${st.hint} ${st["hint--noHttps"]}`,children:[D.jsx("div",{className:st.icon,children:D.jsx(Cv,{size:20})}),D.jsxs("div",{className:st.content,children:[D.jsx("div",{className:st.title,children:"HTTPS Required"}),D.jsx("div",{className:st.text,children:"Push notifications require a secure connection."}),D.jsx("a",{href:n(),className:st.link,children:"Switch to HTTPS version"})]})]});case"not-supported":return D.jsxs("div",{className:`${st.hint} ${st["hint--notSupported"]}`,children:[D.jsx("div",{className:st.icon,children:D.jsx(nf,{size:20})}),D.jsxs("div",{className:st.content,children:[D.jsx("div",{className:st.title,children:"Not Supported"}),D.jsx("div",{className:st.text,children:"Push notifications are not supported on this device or browser."})]})]});default:return D.jsxs("div",{className:`${st.hint} ${st["hint--unknown"]}`,children:[D.jsx("div",{className:st.icon,children:D.jsx(nf,{size:20})}),D.jsxs("div",{className:st.content,children:[D.jsx("div",{className:st.title,children:"Setup Required"}),D.jsx("div",{className:st.text,children:"Push notifications require additional setup for this device."})]})]})}};return D.jsx("div",{className:st.container,children:r()})}),wO=Ar(({isOpen:e,onClose:t,settingsStore:n,connectionManager:r,pushNotificationService:s})=>{var R,T;const[o,a]=Re.useState({cerboIP:n.cerboIP,vrmEmail:n.vrmEmail,vrmAccessKey:n.vrmAccessKey,demoMode:n.demoMode}),[u,c]=Re.useState(!1),[h,d]=Re.useState(!1);Re.useEffect(()=>{h&&!n.anchorAlarmSettings&&d(!1)},[n.anchorAlarmSettings,h]);const[p,m]=Re.useState(null),[g,w]=Re.useState(null);Re.useEffect(()=>{e&&(a({cerboIP:n.cerboIP,vrmEmail:n.vrmEmail,vrmAccessKey:n.vrmAccessKey,demoMode:n.demoMode}),m(null),w(null))},[e]),Re.useEffect(()=>{const C=o.cerboIP!==n.cerboIP||o.vrmEmail!==n.vrmEmail||o.vrmAccessKey!==n.vrmAccessKey||o.demoMode!==n.demoMode;c(C)},[o]);const x=()=>{const C=r.testLocal(o.cerboIP);m(C)},P=()=>{const C=r.testVRM(o.vrmEmail,o.vrmAccessKey);w(C)},A=C=>{a({...o,cerboIP:C})},y=C=>{a({...o,vrmEmail:C})},S=C=>{a({...o,vrmAccessKey:C})};Re.useEffect(()=>{(o.cerboIP.trim()||o.vrmEmail.trim()||o.vrmAccessKey.trim())&&o.demoMode&&a(N=>({...N,demoMode:!1}))},[o.cerboIP,o.vrmEmail,o.vrmAccessKey,o.demoMode]);const I=()=>{n.setCerboIP(o.cerboIP),n.setVrmEmail(o.vrmEmail),n.setVrmAccessKey(o.vrmAccessKey),n.setDemoMode(o.demoMode),n.saveSettings(),c(!1),t()};return D.jsxs("div",{className:`${Ye.overlay} ${e?Ye.open:""}`,onClick:t,children:[D.jsxs("div",{className:`${Ye.panel} ${e?Ye.open:""}`,onClick:C=>C.stopPropagation(),children:[D.jsxs("div",{className:Ye.header,children:[D.jsx("button",{className:Ye.cancelButton,onClick:()=>{t()},children:"Cancel"}),D.jsx("h2",{children:"Settings"}),D.jsx("button",{className:Ye.saveButton,onClick:I,disabled:!u,children:"Save"})]}),D.jsxs("div",{className:Ye.content,children:[D.jsxs("section",{className:Ye.section,children:[D.jsx("h3",{children:"Connection"}),D.jsxs("div",{className:Ye.field,children:[D.jsxs("label",{htmlFor:"cerboIP",children:["Cerbo IP Address",n.cerboID&&D.jsxs("span",{style:{fontSize:"0.8em",fontWeight:"normal",color:"#666",marginLeft:"8px"},children:["(",n.cerboID,")"]})]}),D.jsxs("div",{className:Ye.inputGroup,children:[D.jsx("input",{id:"cerboIP",type:"text",value:o.cerboIP,onChange:C=>A(C.target.value),placeholder:"192.168.1.100"}),D.jsx("button",{className:Ye.testButton,onClick:x,disabled:!o.cerboIP||(p==null?void 0:p.connectionStatus.state)===Ve.CONNECTING,children:(p==null?void 0:p.connectionStatus.state)===Ve.CONNECTING?"Testing...":"Test"})]}),D.jsx("small",{style:{marginLeft:"5px",minHeight:"20px",display:"block"},children:(p==null?void 0:p.connectionStatus)&&(p==null?void 0:p.connectionStatus.state)!==Ve.CONNECTING&&D.jsx("span",{className:(p==null?void 0:p.connectionStatus.state)===Ve.CONNECTED?Ye.success:Ye.error,children:(p==null?void 0:p.connectionStatus.state)===Ve.CONNECTED?D.jsxs(D.Fragment,{children:[D.jsx(Pv,{size:14,style:{marginRight:"4px",verticalAlign:"text-bottom"}}),"Connection successful"]}):D.jsxs(D.Fragment,{children:[D.jsx(Tv,{size:14,style:{marginRight:"4px",verticalAlign:"text-bottom"}}),(R=p==null?void 0:p.connectionStatus.error)==null?void 0:R.message]})})})]}),D.jsxs("div",{className:Ye.field,children:[D.jsx("label",{htmlFor:"vrmEmail",children:"VRM Email"}),D.jsx("div",{className:Ye.inputGroup,children:D.jsx("input",{id:"vrmEmail",type:"text",value:o.vrmEmail,onChange:C=>y(C.target.value),placeholder:n.cerboID?"Your VRM login email":"Connect to local server first",disabled:!n.cerboID})})]}),D.jsxs("div",{className:Ye.field,children:[D.jsx("label",{htmlFor:"vrmAccessKey",children:"VRM Password"}),D.jsxs("div",{className:Ye.inputGroup,children:[D.jsx("input",{id:"vrmAccessKey",type:"password",value:o.vrmAccessKey,onChange:C=>S(C.target.value),placeholder:n.cerboID?"Your VRM access token":"Connect to local server first",disabled:!n.cerboID}),D.jsx("button",{className:Ye.testButton,onClick:P,disabled:!o.vrmEmail||!o.vrmAccessKey||!n.cerboID||(g==null?void 0:g.connectionStatus.state)===Ve.CONNECTING,children:(g==null?void 0:g.connectionStatus.state)===Ve.CONNECTING?"Testing...":"Test"})]}),D.jsx("small",{style:{marginLeft:"5px",minHeight:"20px",display:"block"},children:(g==null?void 0:g.connectionStatus)&&(g==null?void 0:g.connectionStatus.state)!==Ve.CONNECTING&&D.jsx("span",{className:(g==null?void 0:g.connectionStatus.state)===Ve.CONNECTED?Ye.success:Ye.error,children:(g==null?void 0:g.connectionStatus.state)===Ve.CONNECTED?D.jsxs(D.Fragment,{children:[D.jsx(Pv,{size:14,style:{marginRight:"4px",verticalAlign:"text-bottom"}}),"VRM connection successful"]}):D.jsxs(D.Fragment,{children:[D.jsx(Tv,{size:14,style:{marginRight:"4px",verticalAlign:"text-bottom"}}),(T=g==null?void 0:g.connectionStatus.error)==null?void 0:T.message]})})})]}),D.jsxs("label",{className:Ye.toggle,children:[D.jsx("span",{className:Ye.toggleLabel,children:"Demo Mode"}),D.jsx("input",{type:"checkbox",checked:o.demoMode,onChange:C=>a({...o,demoMode:C.target.checked})}),D.jsx("span",{className:Ye.toggleSlider})]})]}),D.jsx("section",{className:Ye.section,children:D.jsx("div",{className:Ye.field,style:{cursor:n.anchorAlarmSettings?"pointer":"not-allowed",opacity:n.anchorAlarmSettings?1:.5},onClick:()=>{n.anchorAlarmSettings&&d(!0)},children:D.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[D.jsx("div",{children:D.jsx("span",{className:Ye.toggleLabel,style:{cursor:"inherit"},children:"Anchor Alarm Settings"})}),D.jsx(oC,{size:20,color:n.anchorAlarmSettings?"#64748b":"#cbd5e1"})]})})}),D.jsxs("section",{className:Ye.section,children:[D.jsx("h3",{children:"Notifications"}),D.jsx(cO,{service:s}),D.jsx(bO,{service:s})]})]})]}),n.anchorAlarmSettings&&D.jsx(uO,{isOpen:h,onClose:()=>d(!1),settingsStore:n.anchorAlarmSettings,onSave:async C=>{console.log("Saving anchor alarm settings:",C),r.triggerAction(lt.PublishSettings,C)}})]})}),SO={"demo-indicator":"_demo-indicator_17g6t_1"},EO=({isVisible:e,onDemoTap:t})=>e?D.jsx("div",{className:SO["demo-indicator"],onClick:t,children:"DEMO MODE"}):null,kO="_container_lurq7_1",AO="_button_lurq7_11",ly={container:kO,button:AO},xO=({onSettingsButtonTap:e})=>D.jsx("div",{className:ly.container,children:D.jsx("button",{className:ly.button,onClick:e,"aria-label":"Open settings",children:D.jsx(dC,{size:30})})});let hu;const PO=new Uint8Array(16);function TO(){if(!hu&&(hu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!hu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hu(PO)}const un=[];for(let e=0;e<256;++e)un.push((e+256).toString(16).slice(1));function CO(e,t=0){return un[e[t+0]]+un[e[t+1]]+un[e[t+2]]+un[e[t+3]]+"-"+un[e[t+4]]+un[e[t+5]]+"-"+un[e[t+6]]+un[e[t+7]]+"-"+un[e[t+8]]+un[e[t+9]]+"-"+un[e[t+10]]+un[e[t+11]]+un[e[t+12]]+un[e[t+13]]+un[e[t+14]]+un[e[t+15]]}const MO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uy={randomUUID:MO};function IO(e,t,n){if(uy.randomUUID&&!e)return uy.randomUUID();e=e||{};const r=e.random||(e.rng||TO)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,CO(r)}class OO extends bT{constructor(n,r){super(n,r);gt(this,"registration",null);gt(this,"subscription",null);gt(this,"subscriptionValidationReaction",null);this.setupSubscriptionValidation()}isPushSupported(){return typeof window>"u"||!("serviceWorker"in navigator)||!("PushManager"in window)?!1:"showNotification"in ServiceWorkerRegistration.prototype}async initialize(){if(!this.isPushSupported())return;try{this.registration=await navigator.serviceWorker.ready,console.log("Using existing service worker registration")}catch(r){console.error("Service worker not available:",r),this.setStatus($t.ERROR,null,this.createError(hr.SERVICE_WORKER,"Push notifications are not available. Please refresh the page and try again.",r instanceof Error?r:new Error(String(r))));return}if(Notification.permission==="denied"){this.setStatus($t.ERROR,null,this.createError(hr.PERMISSION_DENIED,"Notifications are blocked. Please enable notifications in your browser settings and refresh the page."));return}await this.checkExistingSubscription()}async checkExistingSubscription(){if(this.registration)try{if(this.subscription=await this.registration.pushManager.getSubscription(),this.subscription){const n=this.settingsStore.pushNotificationSubscriptionId;n?this.setStatus($t.REGISTERED,n):await this.unsubscribe()}else this.setStatus($t.UNREGISTERED)}catch(n){console.error("Error checking existing subscription:",n),this.setStatus($t.ERROR,null,this.createError(hr.SUBSCRIPTION,"Unable to check notification status. Please refresh the page and try again.",n instanceof Error?n:new Error(String(n))))}}async subscribe(){if(!this.registration)return this.setStatus($t.ERROR,null,this.createError(hr.SERVICE_WORKER,"Push notifications are not available. Please refresh the page and try again.")),!1;const n=this.getVapidPublicKey();if(!n)return this.setStatus($t.ERROR,null,this.createError(hr.SUBSCRIPTION,"Push notification are not initialized on the Cerbo. Reboot the Cerbo to initialize them.")),!1;this.setStatus($t.REGISTERING);try{if(await Notification.requestPermission()!=="granted")return this.setStatus($t.ERROR,null,this.createError(hr.PERMISSION_DENIED,"Enable notifications in your browser settings and try again.")),!1;const s=this.urlBase64ToUint8Array(n);this.subscription=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s});const o=IO();this.settingsStore.setPushNotificationSubscriptionId(o);const a={id:o,endpoint:this.subscription.endpoint,keys:{p256dh:this.arrayBufferToBase64(this.subscription.getKey("p256dh")),auth:this.arrayBufferToBase64(this.subscription.getKey("auth"))},userAgent:navigator.userAgent,createdAt:new Date().toISOString()};return await this.triggerSubscribeAction(a)?await this.waitForSubscriptionConfirmation(o,1e4)?(this.setStatus($t.REGISTERED,o),console.log("Successfully subscribed to push notifications:",o),!0):(await this.subscription.unsubscribe(),this.subscription=null,this.settingsStore.setPushNotificationSubscriptionId(""),this.setStatus($t.ERROR,null,this.createError(hr.NETWORK,"Timeout waiting for server confirmation. Please check your connection and try again.")),!1):(await this.subscription.unsubscribe(),this.subscription=null,this.settingsStore.setPushNotificationSubscriptionId(""),this.setStatus($t.ERROR,null,this.createError(hr.NETWORK,"Failed to register for notifications with the anchor alarm server. Please check your connection and try again.")),!1)}catch(r){console.error("Failed to subscribe to push notifications:",r);let s="Failed to enable push notifications. ";return r instanceof Error&&r.message.includes("permission")?s+="Please enable notifications in your browser settings and try again.":r instanceof Error&&r.message.includes("network")?s+="Please check your internet connection and try again.":s+="Please refresh the page and try again.",this.setStatus($t.ERROR,null,this.createError(hr.SUBSCRIPTION,s,r instanceof Error?r:new Error(String(r)))),!1}}async unsubscribe(){if(!this.subscription)return this.setStatus($t.UNREGISTERED),!0;try{return this.status.subscriptionId&&(await this.triggerUnsubscribeAction(this.status.subscriptionId)||console.warn("Failed to notify backend of unsubscription, continuing with local cleanup")),await this.subscription.unsubscribe(),this.subscription=null,this.settingsStore.setPushNotificationSubscriptionId(""),this.setStatus($t.UNREGISTERED),console.log("Successfully unsubscribed from push notifications"),!0}catch(n){return console.error("Failed to unsubscribe from push notifications:",n),this.setStatus($t.ERROR,null,this.createError(hr.SUBSCRIPTION,"Failed to disable push notifications. Please refresh the page and try again.",n instanceof Error?n:new Error(String(n)))),!1}}setupSubscriptionValidation(){this.subscriptionValidationReaction=cc(()=>{var n;return(n=this.settingsStore.anchorAlarmSettings)==null?void 0:n.Subscriptions},n=>{this.status.state===$t.REGISTERED&&this.status.subscriptionId&&this.validateSubscriptionOnServer(this.status.subscriptionId,n)})}validateSubscriptionOnServer(n,r){try{if(!r)return;const s=JSON.parse(r);Object.prototype.hasOwnProperty.call(s,n)||(console.log("Subscription no longer exists on server, cleaning up local state"),this.subscription=null,this.settingsStore.setPushNotificationSubscriptionId(""),this.setStatus($t.UNREGISTERED))}catch(s){console.error("Error validating subscription on server:",s)}}sendTestNotification(){this.connectionManager.triggerAction(lt.DWPSendTest)}urlBase64ToUint8Array(n){const r="=".repeat((4-n.length%4)%4),s=(n+r).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(s),a=new Uint8Array(o.length);for(let u=0;u<o.length;++u)a[u]=o.charCodeAt(u);return a}arrayBufferToBase64(n){const r=new Uint8Array(n);let s="";for(let o=0;o<r.byteLength;o++)s+=String.fromCharCode(r[o]);return window.btoa(s)}arePushNotificationsAvailable(){return!(!this.isPushNotificationSupported()||!this.isSecureContext()||this.isIOS()&&!this.isStandalone())}getPushNotificationHint(){return this.arePushNotificationsAvailable()?"":this.isSecureContext()?this.isIOS()&&!this.isStandalone()?"ios-need-homescreen":this.isPushNotificationSupported()?"unknown":"not-supported":this.isIOS()?"ios-no-https":"no-https"}isPushNotificationSupported(){return"serviceWorker"in navigator&&"PushManager"in window}isSecureContext(){return window.isSecureContext||location.protocol==="https:"||location.hostname==="localhost"}isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}isStandalone(){return window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches}dispose(){this.subscriptionValidationReaction&&(this.subscriptionValidationReaction(),this.subscriptionValidationReaction=null)}}const RO=(e,t,n={})=>async()=>{switch(t){case"local":const r=e.cerboIP||window.location.hostname,s=window.location.protocol==="https:";return{host:`${s?"wss":"ws"}://${r}:${s?443:9001}${s?"/websocket-mqtt":""}`,hostname:r,secure:s,...n.timeout&&{timeout:n.timeout}};case"vrm":let h=0;for(const g of e.cerboID.toLowerCase().trim())h+=g.charCodeAt(0);return{host:`wss://${`webmqtt${h%128}.victronenergy.com`}:443`,secure:!0,username:e.vrmEmail,password:`${e.vrmAccessKey}`,cerboId:e.cerboID,...n.timeout&&{timeout:n.timeout}};case"demo":return{host:"mock",secure:!1}}},dr=new pT,vc=new mT,ti=new yT(dr,vc,lO,RO),gS=new OO(ti,vc);gS.initialize();function NO(){const[e,t]=Re.useState(!1),n=()=>{ti.triggerAction(lt.DemoStateCycle)};Re.useEffect(()=>(ti.onAppLaunch(),()=>{}),[]),Re.useEffect(()=>{const d=()=>{document.hidden||setTimeout(()=>{ti.onAppLaunch()},100)};return document.addEventListener("visibilitychange",d),()=>document.removeEventListener("visibilitychange",d)},[]),Re.useEffect(()=>{const d=()=>ti.onNetworkChanged(!0),p=()=>ti.onNetworkChanged(!1);return window.addEventListener("online",d),window.addEventListener("offline",p),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",p)}},[]);const r=d=>{ti.triggerAction(d)},s=()=>{ti.onAppLaunch()},o=()=>{t(!0)},a=()=>{t(!1)},u=()=>{var d,p,m,g;dr.connectionStatus.state===Ve.DISCONNECTED?s():dr.connectionStatus.state===Ve.ERROR&&(((p=(d=dr.connectionStatus)==null?void 0:d.error)==null?void 0:p.type)===nn.CONFIGURATION||((g=(m=dr.connectionStatus)==null?void 0:m.error)==null?void 0:g.type)===nn.AUTHENTICATION?o():s())},[c,h]=Re.useState({top:0,left:0,bottom:0,right:0});return Re.useEffect(()=>{const d=()=>{const w=document.querySelector(".app");if(w){const x=getComputedStyle(w),P=parseFloat(x.paddingTop)||0,A=parseFloat(x.paddingBottom)||0,y=window.innerWidth>window.innerHeight,S={top:P+56,left:0,bottom:y?-(A+56):-(A+65+56),right:0};return console.log("Safe area calculated:",S,"isLandscape:",y),h(S),!0}return!1},p=()=>{const w=document.querySelector(".app");if(!w){setTimeout(p,50);return}const x=getComputedStyle(w),P=parseFloat(x.paddingTop)||0,A=parseFloat(x.paddingBottom)||0;if(P===0&&A===0){setTimeout(p,50);return}d()};p();const m=()=>d(),g=()=>{setTimeout(d,200)};return window.addEventListener("resize",m),window.addEventListener("orientationchange",g),()=>{window.removeEventListener("resize",m),window.removeEventListener("orientationchange",g)}},[]),D.jsx("div",{className:"app",children:D.jsxs("div",{className:"app-padded",children:[D.jsx(ST,{anchorAlarmStore:dr.anchorAlarmStore,connectionStatus:dr.connectionStatus,children:({vessels:d,tracks:p,anchorZones:m,anchor:g,mapCenter:w})=>D.jsx(XC,{vessels:d,tracks:p,anchorZones:m,anchor:g,mapCenter:w,safeArea:c})}),D.jsx(rM,{anchorAlarmStore:dr.anchorAlarmStore,onStatusClick:u,connectionStatus:dr.connectionStatus,onTriggerAction:r}),D.jsx(vM,{anchorAlarmStore:dr.anchorAlarmStore,onTriggerAction:r,connectionStatus:dr.connectionStatus}),D.jsx(EO,{isVisible:vc.demoMode,onDemoTap:n}),D.jsx(xO,{onSettingsButtonTap:o}),D.jsx(wO,{isOpen:e,onClose:a,settingsStore:vc,connectionManager:ti,pushNotificationService:gS})]})})}const LO=Ar(NO),DO="modulepreload",BO=function(e,t){return new URL(e,t).href},cy={},jO=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=BO(h,r),h in cy)return;cy[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(!!r)for(let w=a.length-1;w>=0;w--){const x=a[w];if(x.href===h&&(!d||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":DO,d||(g.as="script"),g.crossOrigin="",g.href=h,c&&g.setAttribute("nonce",c),document.head.appendChild(g),d)return new Promise((w,x)=>{g.addEventListener("load",w),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return s.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})};function UO(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:o,onRegisterError:a}=e;let u,c;const h=async(p=!0)=>{await c};async function d(){if("serviceWorker"in navigator){if(u=await jO(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:p}},[],import.meta.url).then(({Workbox:p})=>new p("./sw.js",{scope:"./",type:"classic"})).catch(p=>{a==null||a(p)}),!u)return;u.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),u.addEventListener("installed",p=>{p.isUpdate||r==null||r()}),u.register({immediate:t}).then(p=>{o?o("./sw.js",p):s==null||s(p)}).catch(p=>{a==null||a(p)})}}return c=d(),h}const zO=UO({onNeedRefresh(){confirm("New content available. Reload?")&&zO(!0)}});gf.createRoot(document.getElementById("root")).render(D.jsx(Ki.StrictMode,{children:D.jsx(LO,{})}));
